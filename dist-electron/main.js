"use strict";var Jd=Object.defineProperty;var Yi=e=>{throw TypeError(e)};var Xd=(e,t,r)=>t in e?Jd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var W=(e,t,r)=>Xd(e,typeof t!="symbol"?t+"":t,r),Ys=(e,t,r)=>t.has(e)||Yi("Cannot "+r);var Q=(e,t,r)=>(Ys(e,t,"read from private field"),r?r.call(e):t.get(e)),mt=(e,t,r)=>t.has(e)?Yi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Be=(e,t,r,n)=>(Ys(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),bt=(e,t,r)=>(Ys(e,t,"access private method"),r);const ee=require("electron"),fe=require("path"),Pe=require("fs"),ye=require("node:process"),ie=require("node:path"),Se=require("node:util"),Y=require("node:fs"),cr=require("node:crypto"),Ji=require("node:assert"),Wa=require("node:os"),xd=require("node:events"),Qd=require("node:stream"),Ge=require("node:fs/promises"),on=require("child_process");function Zd(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const B=Zd(ie),wr=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},Ol=new Set(["__proto__","prototype","constructor"]),Il=1e6,ef=e=>e>="0"&&e<="9";function Tl(e){if(e==="0")return!0;if(/^[1-9]\d*$/.test(e)){const t=Number.parseInt(e,10);return t<=Number.MAX_SAFE_INTEGER&&t<=Il}return!1}function Js(e,t){return Ol.has(e)?!1:(e&&Tl(e)?t.push(Number.parseInt(e,10)):t.push(e),!0)}function tf(e){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);const t=[];let r="",n="start",s=!1,a=0;for(const o of e){if(a++,s){r+=o,s=!1;continue}if(o==="\\"){if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);s=!0,n=n==="start"?"property":n;continue}switch(o){case".":{if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd"){n="property";break}if(!Js(r,t))return[];r="",n="property";break}case"[":{if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd"){n="index";break}if(n==="property"||n==="start"){if((r||n==="property")&&!Js(r,t))return[];r=""}n="index";break}case"]":{if(n==="index"){if(r==="")r=(t.pop()||"")+"[]",n="property";else{const i=Number.parseInt(r,10);!Number.isNaN(i)&&Number.isFinite(i)&&i>=0&&i<=Number.MAX_SAFE_INTEGER&&i<=Il&&r===String(i)?t.push(i):t.push(r),r="",n="indexEnd"}break}if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);r+=o;break}default:{if(n==="index"&&!ef(o))throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);n==="start"&&(n="property"),r+=o}}}switch(s&&(r+="\\"),n){case"property":{if(!Js(r,t))return[];break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Ns(e){if(typeof e=="string")return tf(e);if(Array.isArray(e)){const t=[];for(const[r,n]of e.entries()){if(typeof n!="string"&&typeof n!="number")throw new TypeError(`Expected a string or number for path segment at index ${r}, got ${typeof n}`);if(typeof n=="number"&&!Number.isFinite(n))throw new TypeError(`Path segment at index ${r} must be a finite number, got ${n}`);if(Ol.has(n))return[];typeof n=="string"&&Tl(n)?t.push(Number.parseInt(n,10)):t.push(n)}return t}return[]}function Xi(e,t,r){if(!wr(e)||typeof t!="string"&&!Array.isArray(t))return r===void 0?e:r;const n=Ns(t);if(n.length===0)return r;for(let s=0;s<n.length;s++){const a=n[s];if(e=e[a],e==null){if(s!==n.length-1)return r;break}}return e===void 0?r:e}function An(e,t,r){if(!wr(e)||typeof t!="string"&&!Array.isArray(t))return e;const n=e,s=Ns(t);if(s.length===0)return e;for(let a=0;a<s.length;a++){const o=s[a];if(a===s.length-1)e[o]=r;else if(!wr(e[o])){const c=typeof s[a+1]=="number";e[o]=c?[]:{}}e=e[o]}return n}function rf(e,t){if(!wr(e)||typeof t!="string"&&!Array.isArray(t))return!1;const r=Ns(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return Object.hasOwn(e,s)?(delete e[s],!0):!1;if(e=e[s],!wr(e))return!1}}function Xs(e,t){if(!wr(e)||typeof t!="string"&&!Array.isArray(t))return!1;const r=Ns(t);if(r.length===0)return!1;for(const n of r){if(!wr(e)||!(n in e))return!1;e=e[n]}return!0}const qt=Wa.homedir(),Ba=Wa.tmpdir(),{env:kr}=ye,nf=e=>{const t=ie.join(qt,"Library");return{data:ie.join(t,"Application Support",e),config:ie.join(t,"Preferences",e),cache:ie.join(t,"Caches",e),log:ie.join(t,"Logs",e),temp:ie.join(Ba,e)}},sf=e=>{const t=kr.APPDATA||ie.join(qt,"AppData","Roaming"),r=kr.LOCALAPPDATA||ie.join(qt,"AppData","Local");return{data:ie.join(r,e,"Data"),config:ie.join(t,e,"Config"),cache:ie.join(r,e,"Cache"),log:ie.join(r,e,"Log"),temp:ie.join(Ba,e)}},af=e=>{const t=ie.basename(qt);return{data:ie.join(kr.XDG_DATA_HOME||ie.join(qt,".local","share"),e),config:ie.join(kr.XDG_CONFIG_HOME||ie.join(qt,".config"),e),cache:ie.join(kr.XDG_CACHE_HOME||ie.join(qt,".cache"),e),log:ie.join(kr.XDG_STATE_HOME||ie.join(qt,".local","state"),e),temp:ie.join(Ba,t,e)}};function of(e,{suffix:t="nodejs"}={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return t&&(e+=`-${t}`),ye.platform==="darwin"?nf(e):ye.platform==="win32"?sf(e):af(e)}const kt=(e,t)=>{const{onError:r}=t;return function(...s){return e.apply(void 0,s).catch(r)}},St=(e,t)=>{const{onError:r}=t;return function(...s){try{return e.apply(void 0,s)}catch(a){return r(a)}}},cf=250,At=(e,t)=>{const{isRetriable:r}=t;return function(s){const{timeout:a}=s,o=s.interval??cf,i=Date.now()+a;return function c(...d){return e.apply(void 0,d).catch(u=>{if(!r(u)||Date.now()>=i)throw u;const f=Math.round(o*Math.random());return f>0?new Promise(y=>setTimeout(y,f)).then(()=>c.apply(void 0,d)):c.apply(void 0,d)})}}},Ct=(e,t)=>{const{isRetriable:r}=t;return function(s){const{timeout:a}=s,o=Date.now()+a;return function(...c){for(;;)try{return e.apply(void 0,c)}catch(d){if(!r(d)||Date.now()>=o)throw d;continue}}}},Ar={isChangeErrorOk:e=>{if(!Ar.isNodeError(e))return!1;const{code:t}=e;return t==="ENOSYS"||!lf&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!Ar.isNodeError(e))return!1;const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Ar.isNodeError(e))throw e;if(!Ar.isChangeErrorOk(e))throw e}},Cn={onError:Ar.onChangeError},Ye={onError:()=>{}},lf=ye.getuid?!ye.getuid():!1,je={isRetriable:Ar.isRetriableError},Ce={attempt:{chmod:kt(Se.promisify(Y.chmod),Cn),chown:kt(Se.promisify(Y.chown),Cn),close:kt(Se.promisify(Y.close),Ye),fsync:kt(Se.promisify(Y.fsync),Ye),mkdir:kt(Se.promisify(Y.mkdir),Ye),realpath:kt(Se.promisify(Y.realpath),Ye),stat:kt(Se.promisify(Y.stat),Ye),unlink:kt(Se.promisify(Y.unlink),Ye),chmodSync:St(Y.chmodSync,Cn),chownSync:St(Y.chownSync,Cn),closeSync:St(Y.closeSync,Ye),existsSync:St(Y.existsSync,Ye),fsyncSync:St(Y.fsync,Ye),mkdirSync:St(Y.mkdirSync,Ye),realpathSync:St(Y.realpathSync,Ye),statSync:St(Y.statSync,Ye),unlinkSync:St(Y.unlinkSync,Ye)},retry:{close:At(Se.promisify(Y.close),je),fsync:At(Se.promisify(Y.fsync),je),open:At(Se.promisify(Y.open),je),readFile:At(Se.promisify(Y.readFile),je),rename:At(Se.promisify(Y.rename),je),stat:At(Se.promisify(Y.stat),je),write:At(Se.promisify(Y.write),je),writeFile:At(Se.promisify(Y.writeFile),je),closeSync:Ct(Y.closeSync,je),fsyncSync:Ct(Y.fsyncSync,je),openSync:Ct(Y.openSync,je),readFileSync:Ct(Y.readFileSync,je),renameSync:Ct(Y.renameSync,je),statSync:Ct(Y.statSync,je),writeSync:Ct(Y.writeSync,je),writeFileSync:Ct(Y.writeFileSync,je)}},uf="utf8",xi=438,df=511,ff={},hf=ye.geteuid?ye.geteuid():-1,mf=ye.getegid?ye.getegid():-1,pf=1e3,yf=!!ye.getuid;ye.getuid&&ye.getuid();const Qi=128,$f=e=>e instanceof Error&&"code"in e,Zi=e=>typeof e=="string",xs=e=>e===void 0,_f=ye.platform==="linux",jl=ye.platform==="win32",Ya=["SIGHUP","SIGINT","SIGTERM"];jl||Ya.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");_f&&Ya.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");class gf{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=t=>{if(!this.exited){this.exited=!0;for(const r of this.callbacks)r();t&&(jl&&t!=="SIGINT"&&t!=="SIGTERM"&&t!=="SIGKILL"?ye.kill(ye.pid,"SIGTERM"):ye.kill(ye.pid,t))}},this.hook=()=>{ye.once("exit",()=>this.exit());for(const t of Ya)try{ye.once(t,()=>this.exit(t))}catch{}},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t)}),this.hook()}}const vf=new gf,wf=vf.register,De={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=De.truncate(t(e));return n in De.store?De.get(e,t,r):(De.store[n]=r,[n,()=>delete De.store[n]])},purge:e=>{De.store[e]&&(delete De.store[e],Ce.attempt.unlink(e))},purgeSync:e=>{De.store[e]&&(delete De.store[e],Ce.attempt.unlinkSync(e))},purgeSyncAll:()=>{for(const e in De.store)De.purgeSync(e)},truncate:e=>{const t=ie.basename(e);if(t.length<=Qi)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Qi;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};wf(De.purgeSyncAll);function kl(e,t,r=ff){if(Zi(r))return kl(e,t,{encoding:r});const s={timeout:r.timeout??pf};let a=null,o=null,i=null;try{const c=Ce.attempt.realpathSync(e),d=!!c;e=c||e,[o,a]=De.get(e,r.tmpCreate||De.create,r.tmpPurge!==!1);const u=yf&&xs(r.chown),f=xs(r.mode);if(d&&(u||f)){const v=Ce.attempt.statSync(e);v&&(r={...r},u&&(r.chown={uid:v.uid,gid:v.gid}),f&&(r.mode=v.mode))}if(!d){const v=ie.dirname(e);Ce.attempt.mkdirSync(v,{mode:df,recursive:!0})}i=Ce.retry.openSync(s)(o,"w",r.mode||xi),r.tmpCreated&&r.tmpCreated(o),Zi(t)?Ce.retry.writeSync(s)(i,t,0,r.encoding||uf):xs(t)||Ce.retry.writeSync(s)(i,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ce.retry.fsyncSync(s)(i):Ce.attempt.fsync(i)),Ce.retry.closeSync(s)(i),i=null,r.chown&&(r.chown.uid!==hf||r.chown.gid!==mf)&&Ce.attempt.chownSync(o,r.chown.uid,r.chown.gid),r.mode&&r.mode!==xi&&Ce.attempt.chmodSync(o,r.mode);try{Ce.retry.renameSync(s)(o,e)}catch(v){if(!$f(v)||v.code!=="ENAMETOOLONG")throw v;Ce.retry.renameSync(s)(o,De.truncate(e))}a(),o=null}finally{i&&Ce.attempt.closeSync(i),o&&De.purge(o)}}function Al(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sa={exports:{}},Cl={},ut={},zr={},Rn={},Z={},Sn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((R,N)=>`${R}${N}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((R,N)=>(N instanceof r&&(R[N.str]=(R[N.str]||0)+1),R),{})}}e._Code=n,e.nil=new n("");function s(m,...E){const R=[m[0]];let N=0;for(;N<E.length;)i(R,E[N]),R.push(m[++N]);return new n(R)}e._=s;const a=new n("+");function o(m,...E){const R=[y(m[0])];let N=0;for(;N<E.length;)R.push(a),i(R,E[N]),R.push(a,y(m[++N]));return c(R),new n(R)}e.str=o;function i(m,E){E instanceof n?m.push(...E._items):E instanceof r?m.push(E):m.push(f(E))}e.addCodeArg=i;function c(m){let E=1;for(;E<m.length-1;){if(m[E]===a){const R=d(m[E-1],m[E+1]);if(R!==void 0){m.splice(E-1,3,R);continue}m[E++]="+"}E++}}function d(m,E){if(E==='""')return m;if(m==='""')return E;if(typeof m=="string")return E instanceof r||m[m.length-1]!=='"'?void 0:typeof E!="string"?`${m.slice(0,-1)}${E}"`:E[0]==='"'?m.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(m instanceof r))return`"${m}${E.slice(1)}`}function u(m,E){return E.emptyStr()?m:m.emptyStr()?E:o`${m}${E}`}e.strConcat=u;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:y(Array.isArray(m)?m.join(","):m)}function v(m){return new n(y(m))}e.stringify=v;function y(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function w(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=w;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function _(m){return new n(m.toString())}e.regexpCode=_})(Sn);var Pa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Sn;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:u}={}){this._names={},this._prefixes=d,this._parent=u}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const u=this._names[d]||this._nameGroup(d);return`${d}${u.index++}`}_nameGroup(d){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class a extends t.Name{constructor(d,u){super(u),this.prefix=d}setValue(d,{property:u,itemIndex:f}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class i extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?o:t.nil}}get(){return this._scope}name(d){return new a(d,this._newName(d))}value(d,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(d),{prefix:y}=v,w=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[y];if(g){const E=g.get(w);if(E)return E}else g=this._values[y]=new Map;g.set(w,v);const _=this._scope[y]||(this._scope[y]=[]),m=_.length;return _[m]=u.ref,v.setValue(u,{property:y,itemIndex:m}),v}getValue(d,u){const f=this._values[d];if(f)return f.get(u)}scopeRefs(d,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${d}${f.scopePath}`})}scopeCode(d=this._values,u,f){return this._reduceValues(d,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},u,f)}_reduceValues(d,u,f={},v){let y=t.nil;for(const w in d){const g=d[w];if(!g)continue;const _=f[w]=f[w]||new Map;g.forEach(m=>{if(_.has(m))return;_.set(m,n.Started);let E=u(m);if(E){const R=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${R} ${m} = ${E};${this.opts._n}`}else if(E=v==null?void 0:v(m))y=(0,t._)`${y}${E}${this.opts._n}`;else throw new r(m);_.set(m,n.Completed)})}return y}}e.ValueScope=i})(Pa);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Sn,r=Pa;var n=Sn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Pa;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(l,h){return this}}class o extends a{constructor(l,h,b){super(),this.varKind=l,this.name=h,this.rhs=b}render({es5:l,_n:h}){const b=l?r.varKinds.var:this.varKind,I=this.rhs===void 0?"":` = ${this.rhs}`;return`${b} ${this.name}${I};`+h}optimizeNames(l,h){if(l[this.name.str])return this.rhs&&(this.rhs=T(this.rhs,l,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends a{constructor(l,h,b){super(),this.lhs=l,this.rhs=h,this.sideEffects=b}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,h){if(!(this.lhs instanceof t.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=T(this.rhs,l,h),this}get names(){const l=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ce(l,this.rhs)}}class c extends i{constructor(l,h,b,I){super(l,b,I),this.op=h}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class d extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class u extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class f extends a{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class v extends a{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,h){return this.code=T(this.code,l,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class y extends a{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((h,b)=>h+b.render(l),"")}optimizeNodes(){const{nodes:l}=this;let h=l.length;for(;h--;){const b=l[h].optimizeNodes();Array.isArray(b)?l.splice(h,1,...b):b?l[h]=b:l.splice(h,1)}return l.length>0?this:void 0}optimizeNames(l,h){const{nodes:b}=this;let I=b.length;for(;I--;){const j=b[I];j.optimizeNames(l,h)||(k(l,j.names),b.splice(I,1))}return b.length>0?this:void 0}get names(){return this.nodes.reduce((l,h)=>H(l,h.names),{})}}class w extends y{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class g extends y{}class _ extends w{}_.kind="else";class m extends w{constructor(l,h){super(h),this.condition=l}render(l){let h=`if(${this.condition})`+super.render(l);return this.else&&(h+="else "+this.else.render(l)),h}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let h=this.else;if(h){const b=h.optimizeNodes();h=this.else=Array.isArray(b)?new _(b):b}if(h)return l===!1?h instanceof m?h:h.nodes:this.nodes.length?this:new m(L(l),h instanceof m?[h]:h.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,h){var b;if(this.else=(b=this.else)===null||b===void 0?void 0:b.optimizeNames(l,h),!!(super.optimizeNames(l,h)||this.else))return this.condition=T(this.condition,l,h),this}get names(){const l=super.names;return ce(l,this.condition),this.else&&H(l,this.else.names),l}}m.kind="if";class E extends w{}E.kind="for";class R extends E{constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iteration=T(this.iteration,l,h),this}get names(){return H(super.names,this.iteration.names)}}class N extends E{constructor(l,h,b,I){super(),this.varKind=l,this.name=h,this.from=b,this.to=I}render(l){const h=l.es5?r.varKinds.var:this.varKind,{name:b,from:I,to:j}=this;return`for(${h} ${b}=${I}; ${b}<${j}; ${b}++)`+super.render(l)}get names(){const l=ce(super.names,this.from);return ce(l,this.to)}}class O extends E{constructor(l,h,b,I){super(),this.loop=l,this.varKind=h,this.name=b,this.iterable=I}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iterable=T(this.iterable,l,h),this}get names(){return H(super.names,this.iterable.names)}}class K extends w{constructor(l,h,b){super(),this.name=l,this.args=h,this.async=b}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}K.kind="func";class x extends y{render(l){return"return "+super.render(l)}}x.kind="return";class pe extends w{render(l){let h="try"+super.render(l);return this.catch&&(h+=this.catch.render(l)),this.finally&&(h+=this.finally.render(l)),h}optimizeNodes(){var l,h;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(l,h){var b,I;return super.optimizeNames(l,h),(b=this.catch)===null||b===void 0||b.optimizeNames(l,h),(I=this.finally)===null||I===void 0||I.optimizeNames(l,h),this}get names(){const l=super.names;return this.catch&&H(l,this.catch.names),this.finally&&H(l,this.finally.names),l}}class _e extends w{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}_e.kind="catch";class we extends w{render(l){return"finally"+super.render(l)}}we.kind="finally";class z{constructor(l,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=l,this._scope=new r.Scope({parent:l}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,h){const b=this._extScope.value(l,h);return(this._values[b.prefix]||(this._values[b.prefix]=new Set)).add(b),b}getScopeValue(l,h){return this._extScope.getValue(l,h)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,h,b,I){const j=this._scope.toName(h);return b!==void 0&&I&&(this._constants[j.str]=b),this._leafNode(new o(l,j,b)),j}const(l,h,b){return this._def(r.varKinds.const,l,h,b)}let(l,h,b){return this._def(r.varKinds.let,l,h,b)}var(l,h,b){return this._def(r.varKinds.var,l,h,b)}assign(l,h,b){return this._leafNode(new i(l,h,b))}add(l,h){return this._leafNode(new c(l,e.operators.ADD,h))}code(l){return typeof l=="function"?l():l!==t.nil&&this._leafNode(new v(l)),this}object(...l){const h=["{"];for(const[b,I]of l)h.length>1&&h.push(","),h.push(b),(b!==I||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,I));return h.push("}"),new t._Code(h)}if(l,h,b){if(this._blockNode(new m(l)),h&&b)this.code(h).else().code(b).endIf();else if(h)this.code(h).endIf();else if(b)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new m(l))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(m,_)}_for(l,h){return this._blockNode(l),h&&this.code(h).endFor(),this}for(l,h){return this._for(new R(l),h)}forRange(l,h,b,I,j=this.opts.es5?r.varKinds.var:r.varKinds.let){const V=this._scope.toName(l);return this._for(new N(j,V,h,b),()=>I(V))}forOf(l,h,b,I=r.varKinds.const){const j=this._scope.toName(l);if(this.opts.es5){const V=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${V}.length`,F=>{this.var(j,(0,t._)`${V}[${F}]`),b(j)})}return this._for(new O("of",I,j,h),()=>b(j))}forIn(l,h,b,I=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,t._)`Object.keys(${h})`,b);const j=this._scope.toName(l);return this._for(new O("in",I,j,h),()=>b(j))}endFor(){return this._endBlockNode(E)}label(l){return this._leafNode(new d(l))}break(l){return this._leafNode(new u(l))}return(l){const h=new x;if(this._blockNode(h),this.code(l),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(l,h,b){if(!h&&!b)throw new Error('CodeGen: "try" without "catch" and "finally"');const I=new pe;if(this._blockNode(I),this.code(l),h){const j=this.name("e");this._currNode=I.catch=new _e(j),h(j)}return b&&(this._currNode=I.finally=new we,this.code(b)),this._endBlockNode(_e,we)}throw(l){return this._leafNode(new f(l))}block(l,h){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(h),this}endBlock(l){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const b=this._nodes.length-h;if(b<0||l!==void 0&&b!==l)throw new Error(`CodeGen: wrong number of nodes: ${b} vs ${l} expected`);return this._nodes.length=h,this}func(l,h=t.nil,b,I){return this._blockNode(new K(l,h,b)),I&&this.code(I).endFunc(),this}endFunc(){return this._endBlockNode(K)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,h){const b=this._currNode;if(b instanceof l||h&&b instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${l.kind}/${h.kind}`:l.kind}"`)}_elseNode(l){const h=this._currNode;if(!(h instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const h=this._nodes;h[h.length-1]=l}}e.CodeGen=z;function H($,l){for(const h in l)$[h]=($[h]||0)+(l[h]||0);return $}function ce($,l){return l instanceof t._CodeOrName?H($,l.names):$}function T($,l,h){if($ instanceof t.Name)return b($);if(!I($))return $;return new t._Code($._items.reduce((j,V)=>(V instanceof t.Name&&(V=b(V)),V instanceof t._Code?j.push(...V._items):j.push(V),j),[]));function b(j){const V=h[j.str];return V===void 0||l[j.str]!==1?j:(delete l[j.str],V)}function I(j){return j instanceof t._Code&&j._items.some(V=>V instanceof t.Name&&l[V.str]===1&&h[V.str]!==void 0)}}function k($,l){for(const h in l)$[h]=($[h]||0)-(l[h]||0)}function L($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${S($)}`}e.not=L;const D=p(e.operators.AND);function G(...$){return $.reduce(D)}e.and=G;const M=p(e.operators.OR);function P(...$){return $.reduce(M)}e.or=P;function p($){return(l,h)=>l===t.nil?h:h===t.nil?l:(0,t._)`${S(l)} ${$} ${S(h)}`}function S($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(Z);var A={};Object.defineProperty(A,"__esModule",{value:!0});A.checkStrictMode=A.getErrorPath=A.Type=A.useFunc=A.setEvaluated=A.evaluatedPropsToName=A.mergeEvaluated=A.eachItem=A.unescapeJsonPointer=A.escapeJsonPointer=A.escapeFragment=A.unescapeFragment=A.schemaRefOrVal=A.schemaHasRulesButRef=A.schemaHasRules=A.checkUnknownRules=A.alwaysValidSchema=A.toHash=void 0;const ue=Z,Ef=Sn;function bf(e){const t={};for(const r of e)t[r]=!0;return t}A.toHash=bf;function Sf(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Dl(e,t),!Ml(t,e.self.RULES.all))}A.alwaysValidSchema=Sf;function Dl(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||Vl(e,`unknown keyword: "${a}"`)}A.checkUnknownRules=Dl;function Ml(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}A.schemaHasRules=Ml;function Pf(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}A.schemaHasRulesButRef=Pf;function Rf({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ue._)`${r}`}return(0,ue._)`${e}${t}${(0,ue.getProperty)(n)}`}A.schemaRefOrVal=Rf;function Nf(e){return Ll(decodeURIComponent(e))}A.unescapeFragment=Nf;function Of(e){return encodeURIComponent(Ja(e))}A.escapeFragment=Of;function Ja(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}A.escapeJsonPointer=Ja;function Ll(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}A.unescapeJsonPointer=Ll;function If(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}A.eachItem=If;function ec({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,i)=>{const c=o===void 0?a:o instanceof ue.Name?(a instanceof ue.Name?e(s,a,o):t(s,a,o),o):a instanceof ue.Name?(t(s,o,a),a):r(a,o);return i===ue.Name&&!(c instanceof ue.Name)?n(s,c):c}}A.mergeEvaluated={props:ec({mergeNames:(e,t,r)=>e.if((0,ue._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ue._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ue._)`${r} || {}`).code((0,ue._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ue._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ue._)`${r} || {}`),Xa(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Fl}),items:ec({mergeNames:(e,t,r)=>e.if((0,ue._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ue._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ue._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ue._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Fl(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ue._)`{}`);return t!==void 0&&Xa(e,r,t),r}A.evaluatedPropsToName=Fl;function Xa(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ue._)`${t}${(0,ue.getProperty)(n)}`,!0))}A.setEvaluated=Xa;const tc={};function Tf(e,t){return e.scopeValue("func",{ref:t,code:tc[t.code]||(tc[t.code]=new Ef._Code(t.code))})}A.useFunc=Tf;var Ra;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Ra||(A.Type=Ra={}));function jf(e,t,r){if(e instanceof ue.Name){const n=t===Ra.Num;return r?n?(0,ue._)`"[" + ${e} + "]"`:(0,ue._)`"['" + ${e} + "']"`:n?(0,ue._)`"/" + ${e}`:(0,ue._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ue.getProperty)(e).toString():"/"+Ja(e)}A.getErrorPath=jf;function Vl(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}A.checkStrictMode=Vl;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});const ke=Z,kf={data:new ke.Name("data"),valCxt:new ke.Name("valCxt"),instancePath:new ke.Name("instancePath"),parentData:new ke.Name("parentData"),parentDataProperty:new ke.Name("parentDataProperty"),rootData:new ke.Name("rootData"),dynamicAnchors:new ke.Name("dynamicAnchors"),vErrors:new ke.Name("vErrors"),errors:new ke.Name("errors"),this:new ke.Name("this"),self:new ke.Name("self"),scope:new ke.Name("scope"),json:new ke.Name("json"),jsonPos:new ke.Name("jsonPos"),jsonLen:new ke.Name("jsonLen"),jsonPart:new ke.Name("jsonPart")};xe.default=kf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Z,r=A,n=xe;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:m})=>m?(0,t.str)`"${_}" keyword must be ${m} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function s(_,m=e.keywordError,E,R){const{it:N}=_,{gen:O,compositeRule:K,allErrors:x}=N,pe=f(_,m,E);R??(K||x)?c(O,pe):d(N,(0,t._)`[${pe}]`)}e.reportError=s;function a(_,m=e.keywordError,E){const{it:R}=_,{gen:N,compositeRule:O,allErrors:K}=R,x=f(_,m,E);c(N,x),O||K||d(R,n.default.vErrors)}e.reportExtraError=a;function o(_,m){_.assign(n.default.errors,m),_.if((0,t._)`${n.default.vErrors} !== null`,()=>_.if(m,()=>_.assign((0,t._)`${n.default.vErrors}.length`,m),()=>_.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function i({gen:_,keyword:m,schemaValue:E,data:R,errsCount:N,it:O}){if(N===void 0)throw new Error("ajv implementation error");const K=_.name("err");_.forRange("i",N,n.default.errors,x=>{_.const(K,(0,t._)`${n.default.vErrors}[${x}]`),_.if((0,t._)`${K}.instancePath === undefined`,()=>_.assign((0,t._)`${K}.instancePath`,(0,t.strConcat)(n.default.instancePath,O.errorPath))),_.assign((0,t._)`${K}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${m}`),O.opts.verbose&&(_.assign((0,t._)`${K}.schema`,E),_.assign((0,t._)`${K}.data`,R))})}e.extendErrors=i;function c(_,m){const E=_.const("err",m);_.if((0,t._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),_.code((0,t._)`${n.default.errors}++`)}function d(_,m){const{gen:E,validateName:R,schemaEnv:N}=_;N.$async?E.throw((0,t._)`new ${_.ValidationError}(${m})`):(E.assign((0,t._)`${R}.errors`,m),E.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(_,m,E){const{createErrors:R}=_.it;return R===!1?(0,t._)`{}`:v(_,m,E)}function v(_,m,E={}){const{gen:R,it:N}=_,O=[y(N,E),w(_,E)];return g(_,m,O),R.object(...O)}function y({errorPath:_},{instancePath:m}){const E=m?(0,t.str)`${_}${(0,r.getErrorPath)(m,r.Type.Str)}`:_;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function w({keyword:_,it:{errSchemaPath:m}},{schemaPath:E,parentSchema:R}){let N=R?m:(0,t.str)`${m}/${_}`;return E&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(E,r.Type.Str)}`),[u.schemaPath,N]}function g(_,{params:m,message:E},R){const{keyword:N,data:O,schemaValue:K,it:x}=_,{opts:pe,propertyName:_e,topSchemaRef:we,schemaPath:z}=x;R.push([u.keyword,N],[u.params,typeof m=="function"?m(_):m||(0,t._)`{}`]),pe.messages&&R.push([u.message,typeof E=="function"?E(_):E]),pe.verbose&&R.push([u.schema,K],[u.parentSchema,(0,t._)`${we}${z}`],[n.default.data,O]),_e&&R.push([u.propertyName,_e])}})(Rn);Object.defineProperty(zr,"__esModule",{value:!0});zr.boolOrEmptySchema=zr.topBoolOrEmptySchema=void 0;const Af=Rn,Cf=Z,Df=xe,Mf={message:"boolean schema is false"};function Lf(e){const{gen:t,schema:r,validateName:n}=e;r===!1?zl(e,!1):typeof r=="object"&&r.$async===!0?t.return(Df.default.data):(t.assign((0,Cf._)`${n}.errors`,null),t.return(!0))}zr.topBoolOrEmptySchema=Lf;function Ff(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),zl(e)):r.var(t,!0)}zr.boolOrEmptySchema=Ff;function zl(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Af.reportError)(s,Mf,void 0,t)}var Ee={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.getRules=Er.isJSONType=void 0;const Vf=["string","number","integer","boolean","null","object","array"],zf=new Set(Vf);function Uf(e){return typeof e=="string"&&zf.has(e)}Er.isJSONType=Uf;function qf(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Er.getRules=qf;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.shouldUseRule=Rt.shouldUseGroup=Rt.schemaHasRulesForType=void 0;function Kf({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ul(e,n)}Rt.schemaHasRulesForType=Kf;function Ul(e,t){return t.rules.some(r=>ql(e,r))}Rt.shouldUseGroup=Ul;function ql(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Rt.shouldUseRule=ql;Object.defineProperty(Ee,"__esModule",{value:!0});Ee.reportTypeError=Ee.checkDataTypes=Ee.checkDataType=Ee.coerceAndCheckDataType=Ee.getJSONTypes=Ee.getSchemaTypes=Ee.DataType=void 0;const Gf=Er,Hf=Rt,Wf=Rn,te=Z,Kl=A;var Cr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Cr||(Ee.DataType=Cr={}));function Bf(e){const t=Gl(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Ee.getSchemaTypes=Bf;function Gl(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Gf.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Ee.getJSONTypes=Gl;function Yf(e,t){const{gen:r,data:n,opts:s}=e,a=Jf(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,Hf.schemaHasRulesForType)(e,t[0]));if(o){const i=xa(t,n,s.strictNumbers,Cr.Wrong);r.if(i,()=>{a.length?Xf(e,t,a):Qa(e)})}return o}Ee.coerceAndCheckDataType=Yf;const Hl=new Set(["string","number","integer","boolean","null"]);function Jf(e,t){return t?e.filter(r=>Hl.has(r)||t==="array"&&r==="array"):[]}function Xf(e,t,r){const{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,te._)`typeof ${s}`),i=n.let("coerced",(0,te._)`undefined`);a.coerceTypes==="array"&&n.if((0,te._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,te._)`${s}[0]`).assign(o,(0,te._)`typeof ${s}`).if(xa(t,s,a.strictNumbers),()=>n.assign(i,s))),n.if((0,te._)`${i} !== undefined`);for(const d of r)(Hl.has(d)||d==="array"&&a.coerceTypes==="array")&&c(d);n.else(),Qa(e),n.endIf(),n.if((0,te._)`${i} !== undefined`,()=>{n.assign(s,i),xf(e,i)});function c(d){switch(d){case"string":n.elseIf((0,te._)`${o} == "number" || ${o} == "boolean"`).assign(i,(0,te._)`"" + ${s}`).elseIf((0,te._)`${s} === null`).assign(i,(0,te._)`""`);return;case"number":n.elseIf((0,te._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(i,(0,te._)`+${s}`);return;case"integer":n.elseIf((0,te._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(i,(0,te._)`+${s}`);return;case"boolean":n.elseIf((0,te._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(i,!1).elseIf((0,te._)`${s} === "true" || ${s} === 1`).assign(i,!0);return;case"null":n.elseIf((0,te._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(i,null);return;case"array":n.elseIf((0,te._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(i,(0,te._)`[${s}]`)}}}function xf({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,te._)`${t} !== undefined`,()=>e.assign((0,te._)`${t}[${r}]`,n))}function Na(e,t,r,n=Cr.Correct){const s=n===Cr.Correct?te.operators.EQ:te.operators.NEQ;let a;switch(e){case"null":return(0,te._)`${t} ${s} null`;case"array":a=(0,te._)`Array.isArray(${t})`;break;case"object":a=(0,te._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,te._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,te._)`typeof ${t} ${s} ${e}`}return n===Cr.Correct?a:(0,te.not)(a);function o(i=te.nil){return(0,te.and)((0,te._)`typeof ${t} == "number"`,i,r?(0,te._)`isFinite(${t})`:te.nil)}}Ee.checkDataType=Na;function xa(e,t,r,n){if(e.length===1)return Na(e[0],t,r,n);let s;const a=(0,Kl.toHash)(e);if(a.array&&a.object){const o=(0,te._)`typeof ${t} != "object"`;s=a.null?o:(0,te._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=te.nil;a.number&&delete a.integer;for(const o in a)s=(0,te.and)(s,Na(o,t,r,n));return s}Ee.checkDataTypes=xa;const Qf={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,te._)`{type: ${e}}`:(0,te._)`{type: ${t}}`};function Qa(e){const t=Zf(e);(0,Wf.reportError)(t,Qf)}Ee.reportTypeError=Qa;function Zf(e){const{gen:t,data:r,schema:n}=e,s=(0,Kl.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.assignDefaults=void 0;const Pr=Z,eh=A;function th(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)rc(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>rc(e,a,s.default))}Os.assignDefaults=th;function rc(e,t,r){const{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;const i=(0,Pr._)`${a}${(0,Pr.getProperty)(t)}`;if(s){(0,eh.checkStrictMode)(e,`default is ignored for: ${i}`);return}let c=(0,Pr._)`${i} === undefined`;o.useDefaults==="empty"&&(c=(0,Pr._)`${c} || ${i} === null || ${i} === ""`),n.if(c,(0,Pr._)`${i} = ${(0,Pr.stringify)(r)}`)}var gt={},se={};Object.defineProperty(se,"__esModule",{value:!0});se.validateUnion=se.validateArray=se.usePattern=se.callValidateCode=se.schemaProperties=se.allSchemaProperties=se.noPropertyInData=se.propertyInData=se.isOwnProperty=se.hasPropFunc=se.reportMissingProp=se.checkMissingProp=se.checkReportMissingProp=void 0;const he=Z,Za=A,Dt=xe,rh=A;function nh(e,t){const{gen:r,data:n,it:s}=e;r.if(to(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,he._)`${t}`},!0),e.error()})}se.checkReportMissingProp=nh;function sh({gen:e,data:t,it:{opts:r}},n,s){return(0,he.or)(...n.map(a=>(0,he.and)(to(e,t,a,r.ownProperties),(0,he._)`${s} = ${a}`)))}se.checkMissingProp=sh;function ah(e,t){e.setParams({missingProperty:t},!0),e.error()}se.reportMissingProp=ah;function Wl(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,he._)`Object.prototype.hasOwnProperty`})}se.hasPropFunc=Wl;function eo(e,t,r){return(0,he._)`${Wl(e)}.call(${t}, ${r})`}se.isOwnProperty=eo;function oh(e,t,r,n){const s=(0,he._)`${t}${(0,he.getProperty)(r)} !== undefined`;return n?(0,he._)`${s} && ${eo(e,t,r)}`:s}se.propertyInData=oh;function to(e,t,r,n){const s=(0,he._)`${t}${(0,he.getProperty)(r)} === undefined`;return n?(0,he.or)(s,(0,he.not)(eo(e,t,r))):s}se.noPropertyInData=to;function Bl(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}se.allSchemaProperties=Bl;function ih(e,t){return Bl(t).filter(r=>!(0,Za.alwaysValidSchema)(e,t[r]))}se.schemaProperties=ih;function ch({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},i,c,d){const u=d?(0,he._)`${e}, ${t}, ${n}${s}`:t,f=[[Dt.default.instancePath,(0,he.strConcat)(Dt.default.instancePath,a)],[Dt.default.parentData,o.parentData],[Dt.default.parentDataProperty,o.parentDataProperty],[Dt.default.rootData,Dt.default.rootData]];o.opts.dynamicRef&&f.push([Dt.default.dynamicAnchors,Dt.default.dynamicAnchors]);const v=(0,he._)`${u}, ${r.object(...f)}`;return c!==he.nil?(0,he._)`${i}.call(${c}, ${v})`:(0,he._)`${i}(${v})`}se.callValidateCode=ch;const lh=(0,he._)`new RegExp`;function uh({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,he._)`${s.code==="new RegExp"?lh:(0,rh.useFunc)(e,s)}(${r}, ${n})`})}se.usePattern=uh;function dh(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const i=t.let("valid",!0);return o(()=>t.assign(i,!1)),i}return t.var(a,!0),o(()=>t.break()),a;function o(i){const c=t.const("len",(0,he._)`${r}.length`);t.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:Za.Type.Num},a),t.if((0,he.not)(a),i)})}}se.validateArray=dh;function fh(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Za.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),i=t.name("_valid");t.block(()=>r.forEach((c,d)=>{const u=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},i);t.assign(o,(0,he._)`${o} || ${i}`),e.mergeValidEvaluated(u,i)||t.if((0,he.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}se.validateUnion=fh;Object.defineProperty(gt,"__esModule",{value:!0});gt.validateKeywordUsage=gt.validSchemaType=gt.funcKeywordCode=gt.macroKeywordCode=void 0;const Le=Z,dr=xe,hh=se,mh=Rn;function ph(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,i=t.macro.call(o.self,s,a,o),c=Yl(r,n,i);o.opts.validateSchema!==!1&&o.self.validateSchema(i,!0);const d=r.name("valid");e.subschema({schema:i,schemaPath:Le.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}gt.macroKeywordCode=ph;function yh(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:i,it:c}=e;_h(c,t);const d=!i&&t.compile?t.compile.call(c.self,a,o,c):t.validate,u=Yl(n,s,d),f=n.let("valid");e.block$data(f,v),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function v(){if(t.errors===!1)g(),t.modifying&&nc(e),_(()=>e.error());else{const m=t.async?y():w();t.modifying&&nc(e),_(()=>$h(e,m))}}function y(){const m=n.let("ruleErrs",null);return n.try(()=>g((0,Le._)`await `),E=>n.assign(f,!1).if((0,Le._)`${E} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,Le._)`${E}.errors`),()=>n.throw(E))),m}function w(){const m=(0,Le._)`${u}.errors`;return n.assign(m,null),g(Le.nil),m}function g(m=t.async?(0,Le._)`await `:Le.nil){const E=c.opts.passContext?dr.default.this:dr.default.self,R=!("compile"in t&&!i||t.schema===!1);n.assign(f,(0,Le._)`${m}${(0,hh.callValidateCode)(e,u,E,R)}`,t.modifying)}function _(m){var E;n.if((0,Le.not)((E=t.valid)!==null&&E!==void 0?E:f),m)}}gt.funcKeywordCode=yh;function nc(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Le._)`${n.parentData}[${n.parentDataProperty}]`))}function $h(e,t){const{gen:r}=e;r.if((0,Le._)`Array.isArray(${t})`,()=>{r.assign(dr.default.vErrors,(0,Le._)`${dr.default.vErrors} === null ? ${t} : ${dr.default.vErrors}.concat(${t})`).assign(dr.default.errors,(0,Le._)`${dr.default.vErrors}.length`),(0,mh.extendErrors)(e)},()=>e.error())}function _h({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Yl(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Le.stringify)(r)})}function gh(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}gt.validSchemaType=gh;function vh({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(i=>!Object.prototype.hasOwnProperty.call(e,i)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}gt.validateKeywordUsage=vh;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.extendSubschemaMode=Wt.extendSubschemaData=Wt.getSubschema=void 0;const $t=Z,Jl=A;function wh(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const i=e.schema[t];return r===void 0?{schema:i,schemaPath:(0,$t._)`${e.schemaPath}${(0,$t.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,$t._)`${e.schemaPath}${(0,$t.getProperty)(t)}${(0,$t.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Jl.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Wt.getSubschema=wh;function Eh(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:i}=t;if(r!==void 0){const{errorPath:d,dataPathArr:u,opts:f}=t,v=i.let("data",(0,$t._)`${t.data}${(0,$t.getProperty)(r)}`,!0);c(v),e.errorPath=(0,$t.str)`${d}${(0,Jl.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,$t._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(s!==void 0){const d=s instanceof $t.Name?s:i.let("data",s,!0);c(d),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function c(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}Wt.extendSubschemaData=Eh;function bh(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Wt.extendSubschemaMode=bh;var Ie={},Is=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Xl={exports:{}},Gt=Xl.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};ts(t,n,s,e,"",e)};Gt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Gt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Gt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Gt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ts(e,t,r,n,s,a,o,i,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,i,c,d);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in Gt.arrayKeywords)for(var v=0;v<f.length;v++)ts(e,t,r,f[v],s+"/"+u+"/"+v,a,s,u,n,v)}else if(u in Gt.propsKeywords){if(f&&typeof f=="object")for(var y in f)ts(e,t,r,f[y],s+"/"+u+"/"+Sh(y),a,s,u,n,y)}else(u in Gt.keywords||e.allKeys&&!(u in Gt.skipKeywords))&&ts(e,t,r,f,s+"/"+u,a,s,u,n)}r(n,s,a,o,i,c,d)}}function Sh(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Ph=Xl.exports;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.getSchemaRefs=Ie.resolveUrl=Ie.normalizeId=Ie._getFullPath=Ie.getFullPath=Ie.inlineRef=void 0;const Rh=A,Nh=Is,Oh=Ph,Ih=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Th(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Oa(e):t?xl(e)<=t:!1}Ie.inlineRef=Th;const jh=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Oa(e){for(const t in e){if(jh.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Oa)||typeof r=="object"&&Oa(r))return!0}return!1}function xl(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Ih.has(r)&&(typeof e[r]=="object"&&(0,Rh.eachItem)(e[r],n=>t+=xl(n)),t===1/0))return 1/0}return t}function Ql(e,t="",r){r!==!1&&(t=Dr(t));const n=e.parse(t);return Zl(e,n)}Ie.getFullPath=Ql;function Zl(e,t){return e.serialize(t).split("#")[0]+"#"}Ie._getFullPath=Zl;const kh=/#\/?$/;function Dr(e){return e?e.replace(kh,""):""}Ie.normalizeId=Dr;function Ah(e,t,r){return r=Dr(r),e.resolve(t,r)}Ie.resolveUrl=Ah;const Ch=/^[a-z_][-a-z0-9._]*$/i;function Dh(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Dr(e[r]||t),a={"":s},o=Ql(n,s,!1),i={},c=new Set;return Oh(e,{allKeys:!0},(f,v,y,w)=>{if(w===void 0)return;const g=o+v;let _=a[w];typeof f[r]=="string"&&(_=m.call(this,f[r])),E.call(this,f.$anchor),E.call(this,f.$dynamicAnchor),a[v]=_;function m(R){const N=this.opts.uriResolver.resolve;if(R=Dr(_?N(_,R):R),c.has(R))throw u(R);c.add(R);let O=this.refs[R];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?d(f,O.schema,R):R!==Dr(g)&&(R[0]==="#"?(d(f,i[R],R),i[R]=f):this.refs[R]=g),R}function E(R){if(typeof R=="string"){if(!Ch.test(R))throw new Error(`invalid anchor "${R}"`);m.call(this,`#${R}`)}}}),i;function d(f,v,y){if(v!==void 0&&!Nh(f,v))throw u(y)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ie.getSchemaRefs=Dh;Object.defineProperty(ut,"__esModule",{value:!0});ut.getData=ut.KeywordCxt=ut.validateFunctionCode=void 0;const eu=zr,sc=Ee,ro=Rt,ps=Ee,Mh=Os,fn=gt,Qs=Wt,U=Z,J=xe,Lh=Ie,Nt=A,tn=Rn;function Fh(e){if(nu(e)&&(su(e),ru(e))){Uh(e);return}tu(e,()=>(0,eu.topBoolOrEmptySchema)(e))}ut.validateFunctionCode=Fh;function tu({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,U._)`${J.default.data}, ${J.default.valCxt}`,n.$async,()=>{e.code((0,U._)`"use strict"; ${ac(r,s)}`),zh(e,s),e.code(a)}):e.func(t,(0,U._)`${J.default.data}, ${Vh(s)}`,n.$async,()=>e.code(ac(r,s)).code(a))}function Vh(e){return(0,U._)`{${J.default.instancePath}="", ${J.default.parentData}, ${J.default.parentDataProperty}, ${J.default.rootData}=${J.default.data}${e.dynamicRef?(0,U._)`, ${J.default.dynamicAnchors}={}`:U.nil}}={}`}function zh(e,t){e.if(J.default.valCxt,()=>{e.var(J.default.instancePath,(0,U._)`${J.default.valCxt}.${J.default.instancePath}`),e.var(J.default.parentData,(0,U._)`${J.default.valCxt}.${J.default.parentData}`),e.var(J.default.parentDataProperty,(0,U._)`${J.default.valCxt}.${J.default.parentDataProperty}`),e.var(J.default.rootData,(0,U._)`${J.default.valCxt}.${J.default.rootData}`),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,U._)`${J.default.valCxt}.${J.default.dynamicAnchors}`)},()=>{e.var(J.default.instancePath,(0,U._)`""`),e.var(J.default.parentData,(0,U._)`undefined`),e.var(J.default.parentDataProperty,(0,U._)`undefined`),e.var(J.default.rootData,J.default.data),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,U._)`{}`)})}function Uh(e){const{schema:t,opts:r,gen:n}=e;tu(e,()=>{r.$comment&&t.$comment&&ou(e),Wh(e),n.let(J.default.vErrors,null),n.let(J.default.errors,0),r.unevaluated&&qh(e),au(e),Jh(e)})}function qh(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,U._)`${r}.evaluated`),t.if((0,U._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,U._)`${e.evaluated}.props`,(0,U._)`undefined`)),t.if((0,U._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,U._)`${e.evaluated}.items`,(0,U._)`undefined`))}function ac(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,U._)`/*# sourceURL=${r} */`:U.nil}function Kh(e,t){if(nu(e)&&(su(e),ru(e))){Gh(e,t);return}(0,eu.boolOrEmptySchema)(e,t)}function ru({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function nu(e){return typeof e.schema!="boolean"}function Gh(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&ou(e),Bh(e),Yh(e);const a=n.const("_errs",J.default.errors);au(e,a),n.var(t,(0,U._)`${a} === ${J.default.errors}`)}function su(e){(0,Nt.checkUnknownRules)(e),Hh(e)}function au(e,t){if(e.opts.jtd)return oc(e,[],!1,t);const r=(0,sc.getSchemaTypes)(e.schema),n=(0,sc.coerceAndCheckDataType)(e,r);oc(e,r,!n,t)}function Hh(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Nt.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Wh(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Nt.checkStrictMode)(e,"default is ignored in the schema root")}function Bh(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Lh.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Yh(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ou({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,U._)`${J.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,U.str)`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code((0,U._)`${J.default.self}.opts.$comment(${a}, ${o}, ${i}.schema)`)}}function Jh(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,U._)`${J.default.errors} === 0`,()=>t.return(J.default.data),()=>t.throw((0,U._)`new ${s}(${J.default.vErrors})`)):(t.assign((0,U._)`${n}.errors`,J.default.vErrors),a.unevaluated&&Xh(e),t.return((0,U._)`${J.default.errors} === 0`))}function Xh({gen:e,evaluated:t,props:r,items:n}){r instanceof U.Name&&e.assign((0,U._)`${t}.props`,r),n instanceof U.Name&&e.assign((0,U._)`${t}.items`,n)}function oc(e,t,r,n){const{gen:s,schema:a,data:o,allErrors:i,opts:c,self:d}=e,{RULES:u}=d;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,Nt.schemaHasRulesButRef)(a,u))){s.block(()=>lu(e,"$ref",u.all.$ref.definition));return}c.jtd||xh(e,t),s.block(()=>{for(const v of u.rules)f(v);f(u.post)});function f(v){(0,ro.shouldUseGroup)(a,v)&&(v.type?(s.if((0,ps.checkDataType)(v.type,o,c.strictNumbers)),ic(e,v),t.length===1&&t[0]===v.type&&r&&(s.else(),(0,ps.reportTypeError)(e)),s.endIf()):ic(e,v),i||s.if((0,U._)`${J.default.errors} === ${n||0}`))}}function ic(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Mh.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,ro.shouldUseRule)(n,a)&&lu(e,a.keyword,a.definition,t.type)})}function xh(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Qh(e,t),e.opts.allowUnionTypes||Zh(e,t),em(e,e.dataTypes))}function Qh(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{iu(e.dataTypes,r)||no(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),rm(e,t)}}function Zh(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&no(e,"use allowUnionTypes to allow union type keyword")}function em(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,ro.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>tm(t,o))&&no(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function tm(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function iu(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function rm(e,t){const r=[];for(const n of e.dataTypes)iu(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function no(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Nt.checkStrictMode)(e,t,e.opts.strictTypes)}let cu=class{constructor(t,r,n){if((0,fn.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Nt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",uu(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,fn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",J.default.errors))}result(t,r,n){this.failResult((0,U.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,U.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,U._)`${r} !== undefined && (${(0,U.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?tn.reportExtraError:tn.reportError)(this,this.def.error,r)}$dataError(){(0,tn.reportError)(this,this.def.$dataError||tn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,tn.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=U.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=U.nil,r=U.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,U.or)((0,U._)`${s} === undefined`,r)),t!==U.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==U.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,U.or)(o(),i());function o(){if(n.length){if(!(r instanceof U.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,U._)`${(0,ps.checkDataTypes)(c,r,a.opts.strictNumbers,ps.DataType.Wrong)}`}return U.nil}function i(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,U._)`!${c}(${r})`}return U.nil}}subschema(t,r){const n=(0,Qs.getSubschema)(this.it,t);(0,Qs.extendSubschemaData)(n,this.it,t),(0,Qs.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Kh(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Nt.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Nt.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,U.Name)),!0}};ut.KeywordCxt=cu;function lu(e,t,r,n){const s=new cu(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,fn.funcKeywordCode)(s,r):"macro"in r?(0,fn.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,fn.funcKeywordCode)(s,r)}const nm=/^\/(?:[^~]|~0|~1)*$/,sm=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function uu(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return J.default.rootData;if(e[0]==="/"){if(!nm.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=J.default.rootData}else{const d=sm.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+d[1];if(s=d[2],s==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(a=r[t-u],!s)return a}let o=a;const i=s.split("/");for(const d of i)d&&(a=(0,U._)`${a}${(0,U.getProperty)((0,Nt.unescapeJsonPointer)(d))}`,o=(0,U._)`${o} && ${a}`);return o;function c(d,u){return`Cannot access ${d} ${u} levels up, current level is ${t}`}}ut.getData=uu;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});let am=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};Nn.default=am;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const Zs=Ie;let om=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Zs.resolveUrl)(t,r,n),this.missingSchema=(0,Zs.normalizeId)((0,Zs.getFullPath)(t,this.missingRef))}};Gr.default=om;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.resolveSchema=Ve.getCompilingSchema=Ve.resolveRef=Ve.compileSchema=Ve.SchemaEnv=void 0;const rt=Z,im=Nn,lr=xe,ct=Ie,cc=A,cm=ut;let Ts=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ct.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Ve.SchemaEnv=Ts;function so(e){const t=du.call(this,e);if(t)return t;const r=(0,ct.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new rt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let i;e.$async&&(i=o.scopeValue("Error",{ref:im.default,code:(0,rt._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const d={gen:o,allErrors:this.opts.allErrors,data:lr.default.data,parentData:lr.default.parentData,parentDataProperty:lr.default.parentDataProperty,dataNames:[lr.default.data],dataPathArr:[rt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,rt.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:i,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:rt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,rt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,cm.validateFunctionCode)(d),o.optimize(this.opts.code.optimize);const f=o.toString();u=`${o.scopeRefs(lr.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const y=new Function(`${lr.default.self}`,`${lr.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:y}),y.errors=null,y.schema=e.schema,y.schemaEnv=e,e.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:w,items:g}=d;y.evaluated={props:w instanceof rt.Name?void 0:w,items:g instanceof rt.Name?void 0:g,dynamicProps:w instanceof rt.Name,dynamicItems:g instanceof rt.Name},y.source&&(y.source.evaluated=(0,rt.stringify)(y.evaluated))}return e.validate=y,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}Ve.compileSchema=so;function lm(e,t,r){var n;r=(0,ct.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=fm.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;o&&(a=new Ts({schema:o,schemaId:i,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=um.call(this,a)}Ve.resolveRef=lm;function um(e){return(0,ct.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:so.call(this,e)}function du(e){for(const t of this._compilations)if(dm(t,e))return t}Ve.getCompilingSchema=du;function dm(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function fm(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||js.call(this,e,t)}function js(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ct._getFullPath)(this.opts.uriResolver,r);let s=(0,ct.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return ea.call(this,r,e);const a=(0,ct.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const i=js.call(this,e,o);return typeof(i==null?void 0:i.schema)!="object"?void 0:ea.call(this,r,i)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||so.call(this,o),a===(0,ct.normalizeId)(t)){const{schema:i}=o,{schemaId:c}=this.opts,d=i[c];return d&&(s=(0,ct.resolveUrl)(this.opts.uriResolver,s,d)),new Ts({schema:i,schemaId:c,root:e,baseId:s})}return ea.call(this,r,o)}}Ve.resolveSchema=js;const hm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ea(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const i of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,cc.unescapeFragment)(i)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!hm.has(i)&&d&&(t=(0,ct.resolveUrl)(this.opts.uriResolver,t,d))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,cc.schemaHasRulesButRef)(r,this.RULES)){const i=(0,ct.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=js.call(this,n,i)}const{schemaId:o}=this.opts;if(a=a||new Ts({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const mm="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",pm="Meta-schema for $data reference (JSON AnySchema extension proposal)",ym="object",$m=["$data"],_m={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},gm=!1,vm={$id:mm,description:pm,type:ym,required:$m,properties:_m,additionalProperties:gm};var ao={},ks={exports:{}};const wm=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),fu=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function hu(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const Em=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function lc(e){return e.length=0,!0}function bm(e,t,r){if(e.length){const n=hu(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function Sm(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let a=!1,o=!1,i=bm;for(let c=0;c<e.length;c++){const d=e[c];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(o=!0),!i(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(a=!0),n.push(":");continue}else if(d==="%"){if(!i(s,n,r))break;i=lc}else{s.push(d);continue}}return s.length&&(i===lc?r.zone=s.join(""):o?n.push(s.join("")):n.push(hu(s))),r.address=n.join(""),r}function mu(e){if(Pm(e,":")<2)return{host:e,isIPV6:!1};const t=Sm(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Pm(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function Rm(e){let t=e;const r=[];let n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Nm(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Om(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!fu(r)){const n=mu(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var pu={nonSimpleDomain:Em,recomposeAuthority:Om,normalizeComponentEncoding:Nm,removeDotSegments:Rm,isIPv4:fu,isUUID:wm,normalizeIPv6:mu};const{isUUID:Im}=pu,Tm=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function yu(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function $u(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function _u(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function jm(e){return e.secure=yu(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function km(e){if((e.port===(yu(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Am(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Tm);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,a=oo(s);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Cm(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=oo(s);a&&(e=a.serialize(e,t));const o=e,i=e.nss;return o.path=`${n||t.nid}:${i}`,t.skipEscape=!0,o}function Dm(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Im(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Mm(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const gu={scheme:"http",domainHost:!0,parse:$u,serialize:_u},Lm={scheme:"https",domainHost:gu.domainHost,parse:$u,serialize:_u},rs={scheme:"ws",domainHost:!0,parse:jm,serialize:km},Fm={scheme:"wss",domainHost:rs.domainHost,parse:rs.parse,serialize:rs.serialize},Vm={scheme:"urn",parse:Am,serialize:Cm,skipNormalize:!0},zm={scheme:"urn:uuid",parse:Dm,serialize:Mm,skipNormalize:!0},ys={http:gu,https:Lm,ws:rs,wss:Fm,urn:Vm,"urn:uuid":zm};Object.setPrototypeOf(ys,null);function oo(e){return e&&(ys[e]||ys[e.toLowerCase()])||void 0}var Um={SCHEMES:ys,getSchemeHandler:oo};const{normalizeIPv6:qm,removeDotSegments:cn,recomposeAuthority:Km,normalizeComponentEncoding:Dn,isIPv4:Gm,nonSimpleDomain:Hm}=pu,{SCHEMES:Wm,getSchemeHandler:vu}=Um;function Bm(e,t){return typeof e=="string"?e=vt(Tt(e,t),t):typeof e=="object"&&(e=Tt(vt(e,t),t)),e}function Ym(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=wu(Tt(e,n),Tt(t,n),n,!0);return n.skipEscape=!0,vt(s,n)}function wu(e,t,r,n){const s={};return n||(e=Tt(vt(e,r),r),t=Tt(vt(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=cn(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=cn(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=cn(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=cn(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function Jm(e,t,r){return typeof e=="string"?(e=unescape(e),e=vt(Dn(Tt(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=vt(Dn(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=vt(Dn(Tt(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=vt(Dn(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function vt(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=vu(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const o=Km(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let i=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(i=cn(i)),o===void 0&&i[0]==="/"&&i[1]==="/"&&(i="/%2F"+i.slice(2)),s.push(i)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const Xm=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Tt(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const a=e.match(Xm);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(Gm(n.host)===!1){const c=qm(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const o=vu(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&Hm(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(i){n.error=n.error||"Host's domain name can not be converted to ASCII: "+i}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const io={SCHEMES:Wm,normalize:Bm,resolve:Ym,resolveComponent:wu,equal:Jm,serialize:vt,parse:Tt};ks.exports=io;ks.exports.default=io;ks.exports.fastUri=io;var Eu=ks.exports;Object.defineProperty(ao,"__esModule",{value:!0});const bu=Eu;bu.code='require("ajv/dist/runtime/uri").default';ao.default=bu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ut;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Nn,s=Gr,a=Er,o=Ve,i=Z,c=Ie,d=Ee,u=A,f=vm,v=ao,y=(P,p)=>new RegExp(P,p);y.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function R(P){var p,S,$,l,h,b,I,j,V,F,oe,We,Yt,Jt,Xt,xt,Qt,Zt,er,tr,rr,nr,sr,ar,or;const tt=P.strict,ir=(p=P.code)===null||p===void 0?void 0:p.optimize,Zr=ir===!0||ir===void 0?1:ir||0,en=($=(S=P.code)===null||S===void 0?void 0:S.regExp)!==null&&$!==void 0?$:y,Bs=(l=P.uriResolver)!==null&&l!==void 0?l:v.default;return{strictSchema:(b=(h=P.strictSchema)!==null&&h!==void 0?h:tt)!==null&&b!==void 0?b:!0,strictNumbers:(j=(I=P.strictNumbers)!==null&&I!==void 0?I:tt)!==null&&j!==void 0?j:!0,strictTypes:(F=(V=P.strictTypes)!==null&&V!==void 0?V:tt)!==null&&F!==void 0?F:"log",strictTuples:(We=(oe=P.strictTuples)!==null&&oe!==void 0?oe:tt)!==null&&We!==void 0?We:"log",strictRequired:(Jt=(Yt=P.strictRequired)!==null&&Yt!==void 0?Yt:tt)!==null&&Jt!==void 0?Jt:!1,code:P.code?{...P.code,optimize:Zr,regExp:en}:{optimize:Zr,regExp:en},loopRequired:(Xt=P.loopRequired)!==null&&Xt!==void 0?Xt:E,loopEnum:(xt=P.loopEnum)!==null&&xt!==void 0?xt:E,meta:(Qt=P.meta)!==null&&Qt!==void 0?Qt:!0,messages:(Zt=P.messages)!==null&&Zt!==void 0?Zt:!0,inlineRefs:(er=P.inlineRefs)!==null&&er!==void 0?er:!0,schemaId:(tr=P.schemaId)!==null&&tr!==void 0?tr:"$id",addUsedSchema:(rr=P.addUsedSchema)!==null&&rr!==void 0?rr:!0,validateSchema:(nr=P.validateSchema)!==null&&nr!==void 0?nr:!0,validateFormats:(sr=P.validateFormats)!==null&&sr!==void 0?sr:!0,unicodeRegExp:(ar=P.unicodeRegExp)!==null&&ar!==void 0?ar:!0,int32range:(or=P.int32range)!==null&&or!==void 0?or:!0,uriResolver:Bs}}class N{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...R(p)};const{es5:S,lines:$}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:g,es5:S,lines:$}),this.logger=H(p.logger);const l=p.validateFormats;p.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,_,p,"NOT SUPPORTED"),O.call(this,m,p,"DEPRECATED","warn"),this._metaOpts=we.call(this),p.formats&&pe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&_e.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),x.call(this),p.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:S,schemaId:$}=this.opts;let l=f;$==="id"&&(l={...f},l.id=l.$id,delete l.$id),S&&p&&this.addMetaSchema(l,l[$],!1)}defaultMeta(){const{meta:p,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[S]||p:void 0}validate(p,S){let $;if(typeof p=="string"){if($=this.getSchema(p),!$)throw new Error(`no schema with key or ref "${p}"`)}else $=this.compile(p);const l=$(S);return"$async"in $||(this.errors=$.errors),l}compile(p,S){const $=this._addSchema(p,S);return $.validate||this._compileSchemaEnv($)}compileAsync(p,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return l.call(this,p,S);async function l(F,oe){await h.call(this,F.$schema);const We=this._addSchema(F,oe);return We.validate||b.call(this,We)}async function h(F){F&&!this.getSchema(F)&&await l.call(this,{$ref:F},!0)}async function b(F){try{return this._compileSchemaEnv(F)}catch(oe){if(!(oe instanceof s.default))throw oe;return I.call(this,oe),await j.call(this,oe.missingSchema),b.call(this,F)}}function I({missingSchema:F,missingRef:oe}){if(this.refs[F])throw new Error(`AnySchema ${F} is loaded but ${oe} cannot be resolved`)}async function j(F){const oe=await V.call(this,F);this.refs[F]||await h.call(this,oe.$schema),this.refs[F]||this.addSchema(oe,F,S)}async function V(F){const oe=this._loading[F];if(oe)return oe;try{return await(this._loading[F]=$(F))}finally{delete this._loading[F]}}}addSchema(p,S,$,l=this.opts.validateSchema){if(Array.isArray(p)){for(const b of p)this.addSchema(b,void 0,$,l);return this}let h;if(typeof p=="object"){const{schemaId:b}=this.opts;if(h=p[b],h!==void 0&&typeof h!="string")throw new Error(`schema ${b} must be string`)}return S=(0,c.normalizeId)(S||h),this._checkUnique(S),this.schemas[S]=this._addSchema(p,$,S,l,!0),this}addMetaSchema(p,S,$=this.opts.validateSchema){return this.addSchema(p,S,!0,$),this}validateSchema(p,S){if(typeof p=="boolean")return!0;let $;if($=p.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate($,p);if(!l&&S){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return l}getSchema(p){let S;for(;typeof(S=K.call(this,p))=="string";)p=S;if(S===void 0){const{schemaId:$}=this.opts,l=new o.SchemaEnv({schema:{},schemaId:$});if(S=o.resolveSchema.call(this,l,p),!S)return;this.refs[p]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=K.call(this,p);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const S=p;this._cache.delete(S);let $=p[this.opts.schemaId];return $&&($=(0,c.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const S of p)this.addKeyword(S);return this}addKeyword(p,S){let $;if(typeof p=="string")$=p,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else if(typeof p=="object"&&S===void 0){if(S=p,$=S.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(T.call(this,$,S),!S)return(0,u.eachItem)($,h=>k.call(this,h)),this;D.call(this,S);const l={...S,type:(0,d.getJSONTypes)(S.type),schemaType:(0,d.getJSONTypes)(S.schemaType)};return(0,u.eachItem)($,l.type.length===0?h=>k.call(this,h,l):h=>l.type.forEach(b=>k.call(this,h,l,b))),this}getKeyword(p){const S=this.RULES.all[p];return typeof S=="object"?S.definition:!!S}removeKeyword(p){const{RULES:S}=this;delete S.keywords[p],delete S.all[p];for(const $ of S.rules){const l=$.rules.findIndex(h=>h.keyword===p);l>=0&&$.rules.splice(l,1)}return this}addFormat(p,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[p]=S,this}errorsText(p=this.errors,{separator:S=", ",dataVar:$="data"}={}){return!p||p.length===0?"No errors":p.map(l=>`${$}${l.instancePath} ${l.message}`).reduce((l,h)=>l+S+h)}$dataMetaSchema(p,S){const $=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const l of S){const h=l.split("/").slice(1);let b=p;for(const I of h)b=b[I];for(const I in $){const j=$[I];if(typeof j!="object")continue;const{$data:V}=j.definition,F=b[I];V&&F&&(b[I]=M(F))}}return p}_removeAllSchemas(p,S){for(const $ in p){const l=p[$];(!S||S.test($))&&(typeof l=="string"?delete p[$]:l&&!l.meta&&(this._cache.delete(l.schema),delete p[$]))}}_addSchema(p,S,$,l=this.opts.validateSchema,h=this.opts.addUsedSchema){let b;const{schemaId:I}=this.opts;if(typeof p=="object")b=p[I];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let j=this._cache.get(p);if(j!==void 0)return j;$=(0,c.normalizeId)(b||$);const V=c.getSchemaRefs.call(this,p,$);return j=new o.SchemaEnv({schema:p,schemaId:I,meta:S,baseId:$,localRefs:V}),this._cache.set(j.schema,j),h&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=j),l&&this.validateSchema(p,!0),j}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):o.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const S=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,p)}finally{this.opts=S}}}N.ValidationError=n.default,N.MissingRefError=s.default,e.default=N;function O(P,p,S,$="error"){for(const l in P){const h=l;h in p&&this.logger[$](`${S}: option ${l}. ${P[h]}`)}}function K(P){return P=(0,c.normalizeId)(P),this.schemas[P]||this.refs[P]}function x(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const p in P)this.addSchema(P[p],p)}function pe(){for(const P in this.opts.formats){const p=this.opts.formats[P];p&&this.addFormat(P,p)}}function _e(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in P){const S=P[p];S.keyword||(S.keyword=p),this.addKeyword(S)}}function we(){const P={...this.opts};for(const p of w)delete P[p];return P}const z={log(){},warn(){},error(){}};function H(P){if(P===!1)return z;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const ce=/^[a-z_$][a-z0-9_$:-]*$/i;function T(P,p){const{RULES:S}=this;if((0,u.eachItem)(P,$=>{if(S.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!ce.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function k(P,p,S){var $;const l=p==null?void 0:p.post;if(S&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let b=l?h.post:h.rules.find(({type:j})=>j===S);if(b||(b={type:S,rules:[]},h.rules.push(b)),h.keywords[P]=!0,!p)return;const I={keyword:P,definition:{...p,type:(0,d.getJSONTypes)(p.type),schemaType:(0,d.getJSONTypes)(p.schemaType)}};p.before?L.call(this,b,I,p.before):b.rules.push(I),h.all[P]=I,($=p.implements)===null||$===void 0||$.forEach(j=>this.addKeyword(j))}function L(P,p,S){const $=P.rules.findIndex(l=>l.keyword===S);$>=0?P.rules.splice($,0,p):(P.rules.push(p),this.logger.warn(`rule ${S} is not defined`))}function D(P){let{metaSchema:p}=P;p!==void 0&&(P.$data&&this.opts.$data&&(p=M(p)),P.validateSchema=this.compile(p,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(P){return{anyOf:[P,G]}}})(Cl);var co={},lo={},uo={};Object.defineProperty(uo,"__esModule",{value:!0});const xm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};uo.default=xm;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.callRef=jt.getValidate=void 0;const Qm=Gr,uc=se,qe=Z,Rr=xe,dc=Ve,Mn=A,Zm={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:i,self:c}=n,{root:d}=a;if((r==="#"||r==="#/")&&s===d.baseId)return f();const u=dc.resolveRef.call(c,d,s,r);if(u===void 0)throw new Qm.default(n.opts.uriResolver,s,r);if(u instanceof dc.SchemaEnv)return v(u);return y(u);function f(){if(a===d)return ns(e,o,a,a.$async);const w=t.scopeValue("root",{ref:d});return ns(e,(0,qe._)`${w}.validate`,d,d.$async)}function v(w){const g=Su(e,w);ns(e,g,w,w.$async)}function y(w){const g=t.scopeValue("schema",i.code.source===!0?{ref:w,code:(0,qe.stringify)(w)}:{ref:w}),_=t.name("valid"),m=e.subschema({schema:w,dataTypes:[],schemaPath:qe.nil,topSchemaRef:g,errSchemaPath:r},_);e.mergeEvaluated(m),e.ok(_)}}};function Su(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,qe._)`${r.scopeValue("wrapper",{ref:t})}.validate`}jt.getValidate=Su;function ns(e,t,r,n){const{gen:s,it:a}=e,{allErrors:o,schemaEnv:i,opts:c}=a,d=c.passContext?Rr.default.this:qe.nil;n?u():f();function u(){if(!i.$async)throw new Error("async schema referenced by sync schema");const w=s.let("valid");s.try(()=>{s.code((0,qe._)`await ${(0,uc.callValidateCode)(e,t,d)}`),y(t),o||s.assign(w,!0)},g=>{s.if((0,qe._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),v(g),o||s.assign(w,!1)}),e.ok(w)}function f(){e.result((0,uc.callValidateCode)(e,t,d),()=>y(t),()=>v(t))}function v(w){const g=(0,qe._)`${w}.errors`;s.assign(Rr.default.vErrors,(0,qe._)`${Rr.default.vErrors} === null ? ${g} : ${Rr.default.vErrors}.concat(${g})`),s.assign(Rr.default.errors,(0,qe._)`${Rr.default.vErrors}.length`)}function y(w){var g;if(!a.opts.unevaluated)return;const _=(g=r==null?void 0:r.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(a.props=Mn.mergeEvaluated.props(s,_.props,a.props));else{const m=s.var("props",(0,qe._)`${w}.evaluated.props`);a.props=Mn.mergeEvaluated.props(s,m,a.props,qe.Name)}if(a.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(a.items=Mn.mergeEvaluated.items(s,_.items,a.items));else{const m=s.var("items",(0,qe._)`${w}.evaluated.items`);a.items=Mn.mergeEvaluated.items(s,m,a.items,qe.Name)}}}jt.callRef=ns;jt.default=Zm;Object.defineProperty(lo,"__esModule",{value:!0});const ep=uo,tp=jt,rp=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ep.default,tp.default];lo.default=rp;var fo={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});const $s=Z,Mt=$s.operators,_s={maximum:{okStr:"<=",ok:Mt.LTE,fail:Mt.GT},minimum:{okStr:">=",ok:Mt.GTE,fail:Mt.LT},exclusiveMaximum:{okStr:"<",ok:Mt.LT,fail:Mt.GTE},exclusiveMinimum:{okStr:">",ok:Mt.GT,fail:Mt.LTE}},np={message:({keyword:e,schemaCode:t})=>(0,$s.str)`must be ${_s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,$s._)`{comparison: ${_s[e].okStr}, limit: ${t}}`},sp={keyword:Object.keys(_s),type:"number",schemaType:"number",$data:!0,error:np,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,$s._)`${r} ${_s[t].fail} ${n} || isNaN(${r})`)}};ho.default=sp;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});const hn=Z,ap={message:({schemaCode:e})=>(0,hn.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,hn._)`{multipleOf: ${e}}`},op={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:ap,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),i=a?(0,hn._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,hn._)`${o} !== parseInt(${o})`;e.fail$data((0,hn._)`(${n} === 0 || (${o} = ${r}/${n}, ${i}))`)}};mo.default=op;var po={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});function Pu(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}yo.default=Pu;Pu.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(po,"__esModule",{value:!0});const fr=Z,ip=A,cp=yo,lp={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,fr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,fr._)`{limit: ${e}}`},up={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:lp,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?fr.operators.GT:fr.operators.LT,o=s.opts.unicode===!1?(0,fr._)`${r}.length`:(0,fr._)`${(0,ip.useFunc)(e.gen,cp.default)}(${r})`;e.fail$data((0,fr._)`${o} ${a} ${n}`)}};po.default=up;var $o={};Object.defineProperty($o,"__esModule",{value:!0});const dp=se,gs=Z,fp={message:({schemaCode:e})=>(0,gs.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,gs._)`{pattern: ${e}}`},hp={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:fp,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",i=r?(0,gs._)`(new RegExp(${s}, ${o}))`:(0,dp.usePattern)(e,n);e.fail$data((0,gs._)`!${i}.test(${t})`)}};$o.default=hp;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});const mn=Z,mp={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,mn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,mn._)`{limit: ${e}}`},pp={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:mp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?mn.operators.GT:mn.operators.LT;e.fail$data((0,mn._)`Object.keys(${r}).length ${s} ${n}`)}};_o.default=pp;var go={};Object.defineProperty(go,"__esModule",{value:!0});const rn=se,pn=Z,yp=A,$p={message:({params:{missingProperty:e}})=>(0,pn.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,pn._)`{missingProperty: ${e}}`},_p={keyword:"required",type:"object",schemaType:"array",$data:!0,error:$p,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:i}=o;if(!a&&r.length===0)return;const c=r.length>=i.loopRequired;if(o.allErrors?d():u(),i.strictRequired){const y=e.parentSchema.properties,{definedProperties:w}=e.it;for(const g of r)if((y==null?void 0:y[g])===void 0&&!w.has(g)){const _=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${g}" is not defined at "${_}" (strictRequired)`;(0,yp.checkStrictMode)(o,m,o.opts.strictRequired)}}function d(){if(c||a)e.block$data(pn.nil,f);else for(const y of r)(0,rn.checkReportMissingProp)(e,y)}function u(){const y=t.let("missing");if(c||a){const w=t.let("valid",!0);e.block$data(w,()=>v(y,w)),e.ok(w)}else t.if((0,rn.checkMissingProp)(e,r,y)),(0,rn.reportMissingProp)(e,y),t.else()}function f(){t.forOf("prop",n,y=>{e.setParams({missingProperty:y}),t.if((0,rn.noPropertyInData)(t,s,y,i.ownProperties),()=>e.error())})}function v(y,w){e.setParams({missingProperty:y}),t.forOf(y,n,()=>{t.assign(w,(0,rn.propertyInData)(t,s,y,i.ownProperties)),t.if((0,pn.not)(w),()=>{e.error(),t.break()})},pn.nil)}}};go.default=_p;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});const yn=Z,gp={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,yn.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,yn._)`{limit: ${e}}`},vp={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:gp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?yn.operators.GT:yn.operators.LT;e.fail$data((0,yn._)`${r}.length ${s} ${n}`)}};vo.default=vp;var wo={},On={};Object.defineProperty(On,"__esModule",{value:!0});const Ru=Is;Ru.code='require("ajv/dist/runtime/equal").default';On.default=Ru;Object.defineProperty(wo,"__esModule",{value:!0});const ta=Ee,Ne=Z,wp=A,Ep=On,bp={message:({params:{i:e,j:t}})=>(0,Ne.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ne._)`{i: ${e}, j: ${t}}`},Sp={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:bp,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:i}=e;if(!n&&!s)return;const c=t.let("valid"),d=a.items?(0,ta.getSchemaTypes)(a.items):[];e.block$data(c,u,(0,Ne._)`${o} === false`),e.ok(c);function u(){const w=t.let("i",(0,Ne._)`${r}.length`),g=t.let("j");e.setParams({i:w,j:g}),t.assign(c,!0),t.if((0,Ne._)`${w} > 1`,()=>(f()?v:y)(w,g))}function f(){return d.length>0&&!d.some(w=>w==="object"||w==="array")}function v(w,g){const _=t.name("item"),m=(0,ta.checkDataTypes)(d,_,i.opts.strictNumbers,ta.DataType.Wrong),E=t.const("indices",(0,Ne._)`{}`);t.for((0,Ne._)`;${w}--;`,()=>{t.let(_,(0,Ne._)`${r}[${w}]`),t.if(m,(0,Ne._)`continue`),d.length>1&&t.if((0,Ne._)`typeof ${_} == "string"`,(0,Ne._)`${_} += "_"`),t.if((0,Ne._)`typeof ${E}[${_}] == "number"`,()=>{t.assign(g,(0,Ne._)`${E}[${_}]`),e.error(),t.assign(c,!1).break()}).code((0,Ne._)`${E}[${_}] = ${w}`)})}function y(w,g){const _=(0,wp.useFunc)(t,Ep.default),m=t.name("outer");t.label(m).for((0,Ne._)`;${w}--;`,()=>t.for((0,Ne._)`${g} = ${w}; ${g}--;`,()=>t.if((0,Ne._)`${_}(${r}[${w}], ${r}[${g}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};wo.default=Sp;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});const Ia=Z,Pp=A,Rp=On,Np={message:"must be equal to constant",params:({schemaCode:e})=>(0,Ia._)`{allowedValue: ${e}}`},Op={keyword:"const",$data:!0,error:Np,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Ia._)`!${(0,Pp.useFunc)(t,Rp.default)}(${r}, ${s})`):e.fail((0,Ia._)`${a} !== ${r}`)}};Eo.default=Op;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});const ln=Z,Ip=A,Tp=On,jp={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ln._)`{allowedValues: ${e}}`},kp={keyword:"enum",schemaType:"array",$data:!0,error:jp,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const i=s.length>=o.opts.loopEnum;let c;const d=()=>c??(c=(0,Ip.useFunc)(t,Tp.default));let u;if(i||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const y=t.const("vSchema",a);u=(0,ln.or)(...s.map((w,g)=>v(y,g)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",a,y=>t.if((0,ln._)`${d()}(${r}, ${y})`,()=>t.assign(u,!0).break()))}function v(y,w){const g=s[w];return typeof g=="object"&&g!==null?(0,ln._)`${d()}(${r}, ${y}[${w}])`:(0,ln._)`${r} === ${g}`}}};bo.default=kp;Object.defineProperty(fo,"__esModule",{value:!0});const Ap=ho,Cp=mo,Dp=po,Mp=$o,Lp=_o,Fp=go,Vp=vo,zp=wo,Up=Eo,qp=bo,Kp=[Ap.default,Cp.default,Dp.default,Mp.default,Lp.default,Fp.default,Vp.default,zp.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Up.default,qp.default];fo.default=Kp;var So={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.validateAdditionalItems=void 0;const hr=Z,Ta=A,Gp={message:({params:{len:e}})=>(0,hr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,hr._)`{limit: ${e}}`},Hp={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Gp,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Ta.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Nu(e,n)}};function Nu(e,t){const{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;const i=r.const("len",(0,hr._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,hr._)`${i} <= ${t.length}`);else if(typeof n=="object"&&!(0,Ta.alwaysValidSchema)(o,n)){const d=r.var("valid",(0,hr._)`${i} <= ${t.length}`);r.if((0,hr.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,i,u=>{e.subschema({keyword:a,dataProp:u,dataPropType:Ta.Type.Num},d),o.allErrors||r.if((0,hr.not)(d),()=>r.break())})}}Hr.validateAdditionalItems=Nu;Hr.default=Hp;var Po={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.validateTuple=void 0;const fc=Z,ss=A,Wp=se,Bp={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ou(e,"additionalItems",t);r.items=!0,!(0,ss.alwaysValidSchema)(r,t)&&e.ok((0,Wp.validateArray)(e))}};function Ou(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:i}=e;u(s),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=ss.mergeEvaluated.items(n,r.length,i.items));const c=n.name("valid"),d=n.const("len",(0,fc._)`${a}.length`);r.forEach((f,v)=>{(0,ss.alwaysValidSchema)(i,f)||(n.if((0,fc._)`${d} > ${v}`,()=>e.subschema({keyword:o,schemaProp:v,dataProp:v},c)),e.ok(c))});function u(f){const{opts:v,errSchemaPath:y}=i,w=r.length,g=w===f.minItems&&(w===f.maxItems||f[t]===!1);if(v.strictTuples&&!g){const _=`"${o}" is ${w}-tuple, but minItems or maxItems/${t} are not specified or different at path "${y}"`;(0,ss.checkStrictMode)(i,_,v.strictTuples)}}}Wr.validateTuple=Ou;Wr.default=Bp;Object.defineProperty(Po,"__esModule",{value:!0});const Yp=Wr,Jp={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Yp.validateTuple)(e,"items")};Po.default=Jp;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});const hc=Z,Xp=A,xp=se,Qp=Hr,Zp={message:({params:{len:e}})=>(0,hc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,hc._)`{limit: ${e}}`},ey={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Zp,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Xp.alwaysValidSchema)(n,t)&&(s?(0,Qp.validateAdditionalItems)(e,s):e.ok((0,xp.validateArray)(e)))}};Ro.default=ey;var No={};Object.defineProperty(No,"__esModule",{value:!0});const Ze=Z,Ln=A,ty={message:({params:{min:e,max:t}})=>t===void 0?(0,Ze.str)`must contain at least ${e} valid item(s)`:(0,Ze.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ze._)`{minContains: ${e}}`:(0,Ze._)`{minContains: ${e}, maxContains: ${t}}`},ry={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ty,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let o,i;const{minContains:c,maxContains:d}=n;a.opts.next?(o=c===void 0?1:c,i=d):o=1;const u=t.const("len",(0,Ze._)`${s}.length`);if(e.setParams({min:o,max:i}),i===void 0&&o===0){(0,Ln.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&o>i){(0,Ln.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ln.alwaysValidSchema)(a,r)){let g=(0,Ze._)`${u} >= ${o}`;i!==void 0&&(g=(0,Ze._)`${g} && ${u} <= ${i}`),e.pass(g);return}a.items=!0;const f=t.name("valid");i===void 0&&o===1?y(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),i!==void 0&&t.if((0,Ze._)`${s}.length > 0`,v)):(t.let(f,!1),v()),e.result(f,()=>e.reset());function v(){const g=t.name("_valid"),_=t.let("count",0);y(g,()=>t.if(g,()=>w(_)))}function y(g,_){t.forRange("i",0,u,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Ln.Type.Num,compositeRule:!0},g),_()})}function w(g){t.code((0,Ze._)`${g}++`),i===void 0?t.if((0,Ze._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Ze._)`${g} > ${i}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Ze._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};No.default=ry;var As={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Z,r=A,n=se;e.error={message:({params:{property:c,depsCount:d,deps:u}})=>{const f=d===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${d},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,u]=a(c);o(c,d),i(c,u)}};function a({schema:c}){const d={},u={};for(const f in c){if(f==="__proto__")continue;const v=Array.isArray(c[f])?d:u;v[f]=c[f]}return[d,u]}function o(c,d=c.schema){const{gen:u,data:f,it:v}=c;if(Object.keys(d).length===0)return;const y=u.let("missing");for(const w in d){const g=d[w];if(g.length===0)continue;const _=(0,n.propertyInData)(u,f,w,v.opts.ownProperties);c.setParams({property:w,depsCount:g.length,deps:g.join(", ")}),v.allErrors?u.if(_,()=>{for(const m of g)(0,n.checkReportMissingProp)(c,m)}):(u.if((0,t._)`${_} && (${(0,n.checkMissingProp)(c,g,y)})`),(0,n.reportMissingProp)(c,y),u.else())}}e.validatePropertyDeps=o;function i(c,d=c.schema){const{gen:u,data:f,keyword:v,it:y}=c,w=u.name("valid");for(const g in d)(0,r.alwaysValidSchema)(y,d[g])||(u.if((0,n.propertyInData)(u,f,g,y.opts.ownProperties),()=>{const _=c.subschema({keyword:v,schemaProp:g},w);c.mergeValidEvaluated(_,w)},()=>u.var(w,!0)),c.ok(w))}e.validateSchemaDeps=i,e.default=s})(As);var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});const Iu=Z,ny=A,sy={message:"property name must be valid",params:({params:e})=>(0,Iu._)`{propertyName: ${e.propertyName}}`},ay={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:sy,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,ny.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,Iu.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Oo.default=ay;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Fn=se,st=Z,oy=xe,Vn=A,iy={message:"must NOT have additional properties",params:({params:e})=>(0,st._)`{additionalProperty: ${e.additionalProperty}}`},cy={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:iy,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:i,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Vn.alwaysValidSchema)(o,r))return;const d=(0,Fn.allSchemaProperties)(n.properties),u=(0,Fn.allSchemaProperties)(n.patternProperties);f(),e.ok((0,st._)`${a} === ${oy.default.errors}`);function f(){t.forIn("key",s,_=>{!d.length&&!u.length?w(_):t.if(v(_),()=>w(_))})}function v(_){let m;if(d.length>8){const E=(0,Vn.schemaRefOrVal)(o,n.properties,"properties");m=(0,Fn.isOwnProperty)(t,E,_)}else d.length?m=(0,st.or)(...d.map(E=>(0,st._)`${_} === ${E}`)):m=st.nil;return u.length&&(m=(0,st.or)(m,...u.map(E=>(0,st._)`${(0,Fn.usePattern)(e,E)}.test(${_})`))),(0,st.not)(m)}function y(_){t.code((0,st._)`delete ${s}[${_}]`)}function w(_){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){y(_);return}if(r===!1){e.setParams({additionalProperty:_}),e.error(),i||t.break();return}if(typeof r=="object"&&!(0,Vn.alwaysValidSchema)(o,r)){const m=t.name("valid");c.removeAdditional==="failing"?(g(_,m,!1),t.if((0,st.not)(m),()=>{e.reset(),y(_)})):(g(_,m),i||t.if((0,st.not)(m),()=>t.break()))}}function g(_,m,E){const R={keyword:"additionalProperties",dataProp:_,dataPropType:Vn.Type.Str};E===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(R,m)}}};Cs.default=cy;var Io={};Object.defineProperty(Io,"__esModule",{value:!0});const ly=ut,mc=se,ra=A,pc=Cs,uy={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&pc.default.code(new ly.KeywordCxt(a,pc.default,"additionalProperties"));const o=(0,mc.allSchemaProperties)(r);for(const f of o)a.definedProperties.add(f);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=ra.mergeEvaluated.props(t,(0,ra.toHash)(o),a.props));const i=o.filter(f=>!(0,ra.alwaysValidSchema)(a,r[f]));if(i.length===0)return;const c=t.name("valid");for(const f of i)d(f)?u(f):(t.if((0,mc.propertyInData)(t,s,f,a.opts.ownProperties)),u(f),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function d(f){return a.opts.useDefaults&&!a.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};Io.default=uy;var To={};Object.defineProperty(To,"__esModule",{value:!0});const yc=se,zn=Z,$c=A,_c=A,dy={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,i=(0,yc.allSchemaProperties)(r),c=i.filter(g=>(0,$c.alwaysValidSchema)(a,r[g]));if(i.length===0||c.length===i.length&&(!a.opts.unevaluated||a.props===!0))return;const d=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");a.props!==!0&&!(a.props instanceof zn.Name)&&(a.props=(0,_c.evaluatedPropsToName)(t,a.props));const{props:f}=a;v();function v(){for(const g of i)d&&y(g),a.allErrors?w(g):(t.var(u,!0),w(g),t.if(u))}function y(g){for(const _ in d)new RegExp(g).test(_)&&(0,$c.checkStrictMode)(a,`property ${_} matches pattern ${g} (use allowMatchingProperties)`)}function w(g){t.forIn("key",n,_=>{t.if((0,zn._)`${(0,yc.usePattern)(e,g)}.test(${_})`,()=>{const m=c.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:_,dataPropType:_c.Type.Str},u),a.opts.unevaluated&&f!==!0?t.assign((0,zn._)`${f}[${_}]`,!0):!m&&!a.allErrors&&t.if((0,zn.not)(u),()=>t.break())})})}}};To.default=dy;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});const fy=A,hy={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,fy.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};jo.default=hy;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});const my=se,py={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:my.validateUnion,error:{message:"must match a schema in anyOf"}};ko.default=py;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});const as=Z,yy=A,$y={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,as._)`{passingSchemas: ${e.passing}}`},_y={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:$y,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),i=t.let("passing",null),c=t.name("_valid");e.setParams({passing:i}),t.block(d),e.result(o,()=>e.reset(),()=>e.error(!0));function d(){a.forEach((u,f)=>{let v;(0,yy.alwaysValidSchema)(s,u)?t.var(c,!0):v=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,as._)`${c} && ${o}`).assign(o,!1).assign(i,(0,as._)`[${i}, ${f}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(i,f),v&&e.mergeEvaluated(v,as.Name)})})}}};Ao.default=_y;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});const gy=A,vy={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,o)=>{if((0,gy.alwaysValidSchema)(n,a))return;const i=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(i)})}};Co.default=vy;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});const vs=Z,Tu=A,wy={message:({params:e})=>(0,vs.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,vs._)`{failingKeyword: ${e.ifClause}}`},Ey={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:wy,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Tu.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=gc(n,"then"),a=gc(n,"else");if(!s&&!a)return;const o=t.let("valid",!0),i=t.name("_valid");if(c(),e.reset(),s&&a){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(i,d("then",u),d("else",u))}else s?t.if(i,d("then")):t.if((0,vs.not)(i),d("else"));e.pass(o,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);e.mergeEvaluated(u)}function d(u,f){return()=>{const v=e.subschema({keyword:u},i);t.assign(o,i),e.mergeValidEvaluated(v,o),f?t.assign(f,(0,vs._)`${u}`):e.setParams({ifClause:u})}}}};function gc(e,t){const r=e.schema[t];return r!==void 0&&!(0,Tu.alwaysValidSchema)(e,r)}Do.default=Ey;var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});const by=A,Sy={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,by.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Mo.default=Sy;Object.defineProperty(So,"__esModule",{value:!0});const Py=Hr,Ry=Po,Ny=Wr,Oy=Ro,Iy=No,Ty=As,jy=Oo,ky=Cs,Ay=Io,Cy=To,Dy=jo,My=ko,Ly=Ao,Fy=Co,Vy=Do,zy=Mo;function Uy(e=!1){const t=[Dy.default,My.default,Ly.default,Fy.default,Vy.default,zy.default,jy.default,ky.default,Ty.default,Ay.default,Cy.default];return e?t.push(Ry.default,Oy.default):t.push(Py.default,Ny.default),t.push(Iy.default),t}So.default=Uy;var Lo={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.dynamicAnchor=void 0;const na=Z,qy=xe,vc=Ve,Ky=jt,Gy={keyword:"$dynamicAnchor",schemaType:"string",code:e=>ju(e,e.schema)};function ju(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const s=(0,na._)`${qy.default.dynamicAnchors}${(0,na.getProperty)(t)}`,a=n.errSchemaPath==="#"?n.validateName:Hy(e);r.if((0,na._)`!${s}`,()=>r.assign(s,a))}Br.dynamicAnchor=ju;function Hy(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:s,baseId:a,localRefs:o,meta:i}=t.root,{schemaId:c}=n.opts,d=new vc.SchemaEnv({schema:r,schemaId:c,root:s,baseId:a,localRefs:o,meta:i});return vc.compileSchema.call(n,d),(0,Ky.getValidate)(e,d)}Br.default=Gy;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.dynamicRef=void 0;const wc=Z,Wy=xe,Ec=jt,By={keyword:"$dynamicRef",schemaType:"string",code:e=>ku(e,e.schema)};function ku(e,t){const{gen:r,keyword:n,it:s}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const a=t.slice(1);if(s.allErrors)o();else{const c=r.let("valid",!1);o(c),e.ok(c)}function o(c){if(s.schemaEnv.root.dynamicAnchors[a]){const d=r.let("_v",(0,wc._)`${Wy.default.dynamicAnchors}${(0,wc.getProperty)(a)}`);r.if(d,i(d,c),i(s.validateName,c))}else i(s.validateName,c)()}function i(c,d){return d?()=>r.block(()=>{(0,Ec.callRef)(e,c),r.let(d,!0)}):()=>(0,Ec.callRef)(e,c)}}Yr.dynamicRef=ku;Yr.default=By;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});const Yy=Br,Jy=A,Xy={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Yy.dynamicAnchor)(e,""):(0,Jy.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};Fo.default=Xy;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});const xy=Yr,Qy={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,xy.dynamicRef)(e,e.schema)};Vo.default=Qy;Object.defineProperty(Lo,"__esModule",{value:!0});const Zy=Br,e$=Yr,t$=Fo,r$=Vo,n$=[Zy.default,e$.default,t$.default,r$.default];Lo.default=n$;var zo={},Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});const bc=As,s$={keyword:"dependentRequired",type:"object",schemaType:"object",error:bc.error,code:e=>(0,bc.validatePropertyDeps)(e)};Uo.default=s$;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});const a$=As,o$={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,a$.validateSchemaDeps)(e)};qo.default=o$;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});const i$=A,c$={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,i$.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};Ko.default=c$;Object.defineProperty(zo,"__esModule",{value:!0});const l$=Uo,u$=qo,d$=Ko,f$=[l$.default,u$.default,d$.default];zo.default=f$;var Go={},Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});const zt=Z,Sc=A,h$=xe,m$={message:"must NOT have unevaluated properties",params:({params:e})=>(0,zt._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},p$={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:m$,code(e){const{gen:t,schema:r,data:n,errsCount:s,it:a}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,props:i}=a;i instanceof zt.Name?t.if((0,zt._)`${i} !== true`,()=>t.forIn("key",n,f=>t.if(d(i,f),()=>c(f)))):i!==!0&&t.forIn("key",n,f=>i===void 0?c(f):t.if(u(i,f),()=>c(f))),a.props=!0,e.ok((0,zt._)`${s} === ${h$.default.errors}`);function c(f){if(r===!1){e.setParams({unevaluatedProperty:f}),e.error(),o||t.break();return}if(!(0,Sc.alwaysValidSchema)(a,r)){const v=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:Sc.Type.Str},v),o||t.if((0,zt.not)(v),()=>t.break())}}function d(f,v){return(0,zt._)`!${f} || !${f}[${v}]`}function u(f,v){const y=[];for(const w in f)f[w]===!0&&y.push((0,zt._)`${v} !== ${w}`);return(0,zt.and)(...y)}}};Ho.default=p$;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});const mr=Z,Pc=A,y$={message:({params:{len:e}})=>(0,mr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,mr._)`{limit: ${e}}`},$$={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:y$,code(e){const{gen:t,schema:r,data:n,it:s}=e,a=s.items||0;if(a===!0)return;const o=t.const("len",(0,mr._)`${n}.length`);if(r===!1)e.setParams({len:a}),e.fail((0,mr._)`${o} > ${a}`);else if(typeof r=="object"&&!(0,Pc.alwaysValidSchema)(s,r)){const c=t.var("valid",(0,mr._)`${o} <= ${a}`);t.if((0,mr.not)(c),()=>i(c,a)),e.ok(c)}s.items=!0;function i(c,d){t.forRange("i",d,o,u=>{e.subschema({keyword:"unevaluatedItems",dataProp:u,dataPropType:Pc.Type.Num},c),s.allErrors||t.if((0,mr.not)(c),()=>t.break())})}}};Wo.default=$$;Object.defineProperty(Go,"__esModule",{value:!0});const _$=Ho,g$=Wo,v$=[_$.default,g$.default];Go.default=v$;var Bo={},Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});const ge=Z,w$={message:({schemaCode:e})=>(0,ge.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ge._)`{format: ${e}}`},E$={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:w$,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:i}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:f}=i;if(!c.validateFormats)return;s?v():y();function v(){const w=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),g=r.const("fDef",(0,ge._)`${w}[${o}]`),_=r.let("fType"),m=r.let("format");r.if((0,ge._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(_,(0,ge._)`${g}.type || "string"`).assign(m,(0,ge._)`${g}.validate`),()=>r.assign(_,(0,ge._)`"string"`).assign(m,g)),e.fail$data((0,ge.or)(E(),R()));function E(){return c.strictSchema===!1?ge.nil:(0,ge._)`${o} && !${m}`}function R(){const N=u.$async?(0,ge._)`(${g}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,ge._)`${m}(${n})`,O=(0,ge._)`(typeof ${m} == "function" ? ${N} : ${m}.test(${n}))`;return(0,ge._)`${m} && ${m} !== true && ${_} === ${t} && !${O}`}}function y(){const w=f.formats[a];if(!w){E();return}if(w===!0)return;const[g,_,m]=R(w);g===t&&e.pass(N());function E(){if(c.strictSchema===!1){f.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function R(O){const K=O instanceof RegExp?(0,ge.regexpCode)(O):c.code.formats?(0,ge._)`${c.code.formats}${(0,ge.getProperty)(a)}`:void 0,x=r.scopeValue("formats",{key:a,ref:O,code:K});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,ge._)`${x}.validate`]:["string",O,x]}function N(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!u.$async)throw new Error("async format in sync schema");return(0,ge._)`await ${m}(${n})`}return typeof _=="function"?(0,ge._)`${m}(${n})`:(0,ge._)`${m}.test(${n})`}}}};Yo.default=E$;Object.defineProperty(Bo,"__esModule",{value:!0});const b$=Yo,S$=[b$.default];Bo.default=S$;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.contentVocabulary=Ur.metadataVocabulary=void 0;Ur.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ur.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(co,"__esModule",{value:!0});const P$=lo,R$=fo,N$=So,O$=Lo,I$=zo,T$=Go,j$=Bo,Rc=Ur,k$=[O$.default,P$.default,R$.default,(0,N$.default)(!0),j$.default,Rc.metadataVocabulary,Rc.contentVocabulary,I$.default,T$.default];co.default=k$;var Jo={},Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.DiscrError=void 0;var Nc;(function(e){e.Tag="tag",e.Mapping="mapping"})(Nc||(Ds.DiscrError=Nc={}));Object.defineProperty(Jo,"__esModule",{value:!0});const Tr=Z,ja=Ds,Oc=Ve,A$=Gr,C$=A,D$={message:({params:{discrError:e,tagName:t}})=>e===ja.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Tr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},M$={keyword:"discriminator",type:"object",schemaType:"object",error:D$,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,Tr._)`${r}${(0,Tr.getProperty)(i)}`);t.if((0,Tr._)`typeof ${d} == "string"`,()=>u(),()=>e.error(!1,{discrError:ja.DiscrError.Tag,tag:d,tagName:i})),e.ok(c);function u(){const y=v();t.if(!1);for(const w in y)t.elseIf((0,Tr._)`${d} === ${w}`),t.assign(c,f(y[w]));t.else(),e.error(!1,{discrError:ja.DiscrError.Mapping,tag:d,tagName:i}),t.endIf()}function f(y){const w=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:y},w);return e.mergeEvaluated(g,Tr.Name),w}function v(){var y;const w={},g=m(s);let _=!0;for(let N=0;N<o.length;N++){let O=o[N];if(O!=null&&O.$ref&&!(0,C$.schemaHasRulesButRef)(O,a.self.RULES)){const x=O.$ref;if(O=Oc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,x),O instanceof Oc.SchemaEnv&&(O=O.schema),O===void 0)throw new A$.default(a.opts.uriResolver,a.baseId,x)}const K=(y=O==null?void 0:O.properties)===null||y===void 0?void 0:y[i];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);_=_&&(g||m(O)),E(K,N)}if(!_)throw new Error(`discriminator: "${i}" must be required`);return w;function m({required:N}){return Array.isArray(N)&&N.includes(i)}function E(N,O){if(N.const)R(N.const,O);else if(N.enum)for(const K of N.enum)R(K,O);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function R(N,O){if(typeof N!="string"||N in w)throw new Error(`discriminator: "${i}" values must be unique strings`);w[N]=O}}}};Jo.default=M$;var Xo={};const L$="https://json-schema.org/draft/2020-12/schema",F$="https://json-schema.org/draft/2020-12/schema",V$={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},z$="meta",U$="Core and Validation specifications meta-schema",q$=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],K$=["object","boolean"],G$="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",H$={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},W$={$schema:L$,$id:F$,$vocabulary:V$,$dynamicAnchor:z$,title:U$,allOf:q$,type:K$,$comment:G$,properties:H$},B$="https://json-schema.org/draft/2020-12/schema",Y$="https://json-schema.org/draft/2020-12/meta/applicator",J$={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},X$="meta",x$="Applicator vocabulary meta-schema",Q$=["object","boolean"],Z$={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},e_={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},t_={$schema:B$,$id:Y$,$vocabulary:J$,$dynamicAnchor:X$,title:x$,type:Q$,properties:Z$,$defs:e_},r_="https://json-schema.org/draft/2020-12/schema",n_="https://json-schema.org/draft/2020-12/meta/unevaluated",s_={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},a_="meta",o_="Unevaluated applicator vocabulary meta-schema",i_=["object","boolean"],c_={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},l_={$schema:r_,$id:n_,$vocabulary:s_,$dynamicAnchor:a_,title:o_,type:i_,properties:c_},u_="https://json-schema.org/draft/2020-12/schema",d_="https://json-schema.org/draft/2020-12/meta/content",f_={"https://json-schema.org/draft/2020-12/vocab/content":!0},h_="meta",m_="Content vocabulary meta-schema",p_=["object","boolean"],y_={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},$_={$schema:u_,$id:d_,$vocabulary:f_,$dynamicAnchor:h_,title:m_,type:p_,properties:y_},__="https://json-schema.org/draft/2020-12/schema",g_="https://json-schema.org/draft/2020-12/meta/core",v_={"https://json-schema.org/draft/2020-12/vocab/core":!0},w_="meta",E_="Core vocabulary meta-schema",b_=["object","boolean"],S_={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},P_={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},R_={$schema:__,$id:g_,$vocabulary:v_,$dynamicAnchor:w_,title:E_,type:b_,properties:S_,$defs:P_},N_="https://json-schema.org/draft/2020-12/schema",O_="https://json-schema.org/draft/2020-12/meta/format-annotation",I_={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},T_="meta",j_="Format vocabulary meta-schema for annotation results",k_=["object","boolean"],A_={format:{type:"string"}},C_={$schema:N_,$id:O_,$vocabulary:I_,$dynamicAnchor:T_,title:j_,type:k_,properties:A_},D_="https://json-schema.org/draft/2020-12/schema",M_="https://json-schema.org/draft/2020-12/meta/meta-data",L_={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},F_="meta",V_="Meta-data vocabulary meta-schema",z_=["object","boolean"],U_={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},q_={$schema:D_,$id:M_,$vocabulary:L_,$dynamicAnchor:F_,title:V_,type:z_,properties:U_},K_="https://json-schema.org/draft/2020-12/schema",G_="https://json-schema.org/draft/2020-12/meta/validation",H_={"https://json-schema.org/draft/2020-12/vocab/validation":!0},W_="meta",B_="Validation vocabulary meta-schema",Y_=["object","boolean"],J_={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},X_={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},x_={$schema:K_,$id:G_,$vocabulary:H_,$dynamicAnchor:W_,title:B_,type:Y_,properties:J_,$defs:X_};Object.defineProperty(Xo,"__esModule",{value:!0});const Q_=W$,Z_=t_,eg=l_,tg=$_,rg=R_,ng=C_,sg=q_,ag=x_,og=["/properties"];function ig(e){return[Q_,Z_,eg,tg,rg,t(this,ng),sg,t(this,ag)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,og):n}}Xo.default=ig;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const r=Cl,n=co,s=Jo,a=Xo,o="https://json-schema.org/draft/2020-12/schema";class i extends r.default{constructor(y={}){super({...y,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:y,meta:w}=this.opts;w&&(a.default.call(this,y),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv2020=i,e.exports=t=i,e.exports.Ajv2020=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var c=ut;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=Z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var u=Nn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return u.default}});var f=Gr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(Sa,Sa.exports);var cg=Sa.exports,ka={exports:{}},Au={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(z,H){return{validate:z,compare:H}}e.fullFormats={date:t(a,o),time:t(c(!0),d),"date-time":t(v(!0),y),"iso-time":t(c(),u),"iso-date-time":t(v(),w),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:m,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:we,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:R,int32:{type:"number",validate:K},int64:{type:"number",validate:x},float:{type:"number",validate:pe},double:{type:"number",validate:pe},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,y),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,w),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(z){return z%4===0&&(z%100!==0||z%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(z){const H=n.exec(z);if(!H)return!1;const ce=+H[1],T=+H[2],k=+H[3];return T>=1&&T<=12&&k>=1&&k<=(T===2&&r(ce)?29:s[T])}function o(z,H){if(z&&H)return z>H?1:z<H?-1:0}const i=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(z){return function(ce){const T=i.exec(ce);if(!T)return!1;const k=+T[1],L=+T[2],D=+T[3],G=T[4],M=T[5]==="-"?-1:1,P=+(T[6]||0),p=+(T[7]||0);if(P>23||p>59||z&&!G)return!1;if(k<=23&&L<=59&&D<60)return!0;const S=L-p*M,$=k-P*M-(S<0?1:0);return($===23||$===-1)&&(S===59||S===-1)&&D<61}}function d(z,H){if(!(z&&H))return;const ce=new Date("2020-01-01T"+z).valueOf(),T=new Date("2020-01-01T"+H).valueOf();if(ce&&T)return ce-T}function u(z,H){if(!(z&&H))return;const ce=i.exec(z),T=i.exec(H);if(ce&&T)return z=ce[1]+ce[2]+ce[3],H=T[1]+T[2]+T[3],z>H?1:z<H?-1:0}const f=/t|\s/i;function v(z){const H=c(z);return function(T){const k=T.split(f);return k.length===2&&a(k[0])&&H(k[1])}}function y(z,H){if(!(z&&H))return;const ce=new Date(z).valueOf(),T=new Date(H).valueOf();if(ce&&T)return ce-T}function w(z,H){if(!(z&&H))return;const[ce,T]=z.split(f),[k,L]=H.split(f),D=o(ce,k);if(D!==void 0)return D||d(T,L)}const g=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function m(z){return g.test(z)&&_.test(z)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function R(z){return E.lastIndex=0,E.test(z)}const N=-2147483648,O=2**31-1;function K(z){return Number.isInteger(z)&&z<=O&&z>=N}function x(z){return Number.isInteger(z)}function pe(){return!0}const _e=/[^\\]\\Z/;function we(z){if(_e.test(z))return!1;try{return new RegExp(z),!0}catch{return!1}}})(Au);var Cu={},Aa={exports:{}},Du={},dt={},qr={},In={},ne={},Pn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((R,N)=>`${R}${N}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((R,N)=>(N instanceof r&&(R[N.str]=(R[N.str]||0)+1),R),{})}}e._Code=n,e.nil=new n("");function s(m,...E){const R=[m[0]];let N=0;for(;N<E.length;)i(R,E[N]),R.push(m[++N]);return new n(R)}e._=s;const a=new n("+");function o(m,...E){const R=[y(m[0])];let N=0;for(;N<E.length;)R.push(a),i(R,E[N]),R.push(a,y(m[++N]));return c(R),new n(R)}e.str=o;function i(m,E){E instanceof n?m.push(...E._items):E instanceof r?m.push(E):m.push(f(E))}e.addCodeArg=i;function c(m){let E=1;for(;E<m.length-1;){if(m[E]===a){const R=d(m[E-1],m[E+1]);if(R!==void 0){m.splice(E-1,3,R);continue}m[E++]="+"}E++}}function d(m,E){if(E==='""')return m;if(m==='""')return E;if(typeof m=="string")return E instanceof r||m[m.length-1]!=='"'?void 0:typeof E!="string"?`${m.slice(0,-1)}${E}"`:E[0]==='"'?m.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(m instanceof r))return`"${m}${E.slice(1)}`}function u(m,E){return E.emptyStr()?m:m.emptyStr()?E:o`${m}${E}`}e.strConcat=u;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:y(Array.isArray(m)?m.join(","):m)}function v(m){return new n(y(m))}e.stringify=v;function y(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function w(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=w;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function _(m){return new n(m.toString())}e.regexpCode=_})(Pn);var Ca={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Pn;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:u}={}){this._names={},this._prefixes=d,this._parent=u}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const u=this._names[d]||this._nameGroup(d);return`${d}${u.index++}`}_nameGroup(d){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class a extends t.Name{constructor(d,u){super(u),this.prefix=d}setValue(d,{property:u,itemIndex:f}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class i extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?o:t.nil}}get(){return this._scope}name(d){return new a(d,this._newName(d))}value(d,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(d),{prefix:y}=v,w=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[y];if(g){const E=g.get(w);if(E)return E}else g=this._values[y]=new Map;g.set(w,v);const _=this._scope[y]||(this._scope[y]=[]),m=_.length;return _[m]=u.ref,v.setValue(u,{property:y,itemIndex:m}),v}getValue(d,u){const f=this._values[d];if(f)return f.get(u)}scopeRefs(d,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${d}${f.scopePath}`})}scopeCode(d=this._values,u,f){return this._reduceValues(d,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},u,f)}_reduceValues(d,u,f={},v){let y=t.nil;for(const w in d){const g=d[w];if(!g)continue;const _=f[w]=f[w]||new Map;g.forEach(m=>{if(_.has(m))return;_.set(m,n.Started);let E=u(m);if(E){const R=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${R} ${m} = ${E};${this.opts._n}`}else if(E=v==null?void 0:v(m))y=(0,t._)`${y}${E}${this.opts._n}`;else throw new r(m);_.set(m,n.Completed)})}return y}}e.ValueScope=i})(Ca);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Pn,r=Ca;var n=Pn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Ca;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(l,h){return this}}class o extends a{constructor(l,h,b){super(),this.varKind=l,this.name=h,this.rhs=b}render({es5:l,_n:h}){const b=l?r.varKinds.var:this.varKind,I=this.rhs===void 0?"":` = ${this.rhs}`;return`${b} ${this.name}${I};`+h}optimizeNames(l,h){if(l[this.name.str])return this.rhs&&(this.rhs=T(this.rhs,l,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends a{constructor(l,h,b){super(),this.lhs=l,this.rhs=h,this.sideEffects=b}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,h){if(!(this.lhs instanceof t.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=T(this.rhs,l,h),this}get names(){const l=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ce(l,this.rhs)}}class c extends i{constructor(l,h,b,I){super(l,b,I),this.op=h}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class d extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class u extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class f extends a{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class v extends a{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,h){return this.code=T(this.code,l,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class y extends a{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((h,b)=>h+b.render(l),"")}optimizeNodes(){const{nodes:l}=this;let h=l.length;for(;h--;){const b=l[h].optimizeNodes();Array.isArray(b)?l.splice(h,1,...b):b?l[h]=b:l.splice(h,1)}return l.length>0?this:void 0}optimizeNames(l,h){const{nodes:b}=this;let I=b.length;for(;I--;){const j=b[I];j.optimizeNames(l,h)||(k(l,j.names),b.splice(I,1))}return b.length>0?this:void 0}get names(){return this.nodes.reduce((l,h)=>H(l,h.names),{})}}class w extends y{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class g extends y{}class _ extends w{}_.kind="else";class m extends w{constructor(l,h){super(h),this.condition=l}render(l){let h=`if(${this.condition})`+super.render(l);return this.else&&(h+="else "+this.else.render(l)),h}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let h=this.else;if(h){const b=h.optimizeNodes();h=this.else=Array.isArray(b)?new _(b):b}if(h)return l===!1?h instanceof m?h:h.nodes:this.nodes.length?this:new m(L(l),h instanceof m?[h]:h.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,h){var b;if(this.else=(b=this.else)===null||b===void 0?void 0:b.optimizeNames(l,h),!!(super.optimizeNames(l,h)||this.else))return this.condition=T(this.condition,l,h),this}get names(){const l=super.names;return ce(l,this.condition),this.else&&H(l,this.else.names),l}}m.kind="if";class E extends w{}E.kind="for";class R extends E{constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iteration=T(this.iteration,l,h),this}get names(){return H(super.names,this.iteration.names)}}class N extends E{constructor(l,h,b,I){super(),this.varKind=l,this.name=h,this.from=b,this.to=I}render(l){const h=l.es5?r.varKinds.var:this.varKind,{name:b,from:I,to:j}=this;return`for(${h} ${b}=${I}; ${b}<${j}; ${b}++)`+super.render(l)}get names(){const l=ce(super.names,this.from);return ce(l,this.to)}}class O extends E{constructor(l,h,b,I){super(),this.loop=l,this.varKind=h,this.name=b,this.iterable=I}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iterable=T(this.iterable,l,h),this}get names(){return H(super.names,this.iterable.names)}}class K extends w{constructor(l,h,b){super(),this.name=l,this.args=h,this.async=b}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}K.kind="func";class x extends y{render(l){return"return "+super.render(l)}}x.kind="return";class pe extends w{render(l){let h="try"+super.render(l);return this.catch&&(h+=this.catch.render(l)),this.finally&&(h+=this.finally.render(l)),h}optimizeNodes(){var l,h;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(l,h){var b,I;return super.optimizeNames(l,h),(b=this.catch)===null||b===void 0||b.optimizeNames(l,h),(I=this.finally)===null||I===void 0||I.optimizeNames(l,h),this}get names(){const l=super.names;return this.catch&&H(l,this.catch.names),this.finally&&H(l,this.finally.names),l}}class _e extends w{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}_e.kind="catch";class we extends w{render(l){return"finally"+super.render(l)}}we.kind="finally";class z{constructor(l,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=l,this._scope=new r.Scope({parent:l}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,h){const b=this._extScope.value(l,h);return(this._values[b.prefix]||(this._values[b.prefix]=new Set)).add(b),b}getScopeValue(l,h){return this._extScope.getValue(l,h)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,h,b,I){const j=this._scope.toName(h);return b!==void 0&&I&&(this._constants[j.str]=b),this._leafNode(new o(l,j,b)),j}const(l,h,b){return this._def(r.varKinds.const,l,h,b)}let(l,h,b){return this._def(r.varKinds.let,l,h,b)}var(l,h,b){return this._def(r.varKinds.var,l,h,b)}assign(l,h,b){return this._leafNode(new i(l,h,b))}add(l,h){return this._leafNode(new c(l,e.operators.ADD,h))}code(l){return typeof l=="function"?l():l!==t.nil&&this._leafNode(new v(l)),this}object(...l){const h=["{"];for(const[b,I]of l)h.length>1&&h.push(","),h.push(b),(b!==I||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,I));return h.push("}"),new t._Code(h)}if(l,h,b){if(this._blockNode(new m(l)),h&&b)this.code(h).else().code(b).endIf();else if(h)this.code(h).endIf();else if(b)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new m(l))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(m,_)}_for(l,h){return this._blockNode(l),h&&this.code(h).endFor(),this}for(l,h){return this._for(new R(l),h)}forRange(l,h,b,I,j=this.opts.es5?r.varKinds.var:r.varKinds.let){const V=this._scope.toName(l);return this._for(new N(j,V,h,b),()=>I(V))}forOf(l,h,b,I=r.varKinds.const){const j=this._scope.toName(l);if(this.opts.es5){const V=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${V}.length`,F=>{this.var(j,(0,t._)`${V}[${F}]`),b(j)})}return this._for(new O("of",I,j,h),()=>b(j))}forIn(l,h,b,I=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,t._)`Object.keys(${h})`,b);const j=this._scope.toName(l);return this._for(new O("in",I,j,h),()=>b(j))}endFor(){return this._endBlockNode(E)}label(l){return this._leafNode(new d(l))}break(l){return this._leafNode(new u(l))}return(l){const h=new x;if(this._blockNode(h),this.code(l),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(l,h,b){if(!h&&!b)throw new Error('CodeGen: "try" without "catch" and "finally"');const I=new pe;if(this._blockNode(I),this.code(l),h){const j=this.name("e");this._currNode=I.catch=new _e(j),h(j)}return b&&(this._currNode=I.finally=new we,this.code(b)),this._endBlockNode(_e,we)}throw(l){return this._leafNode(new f(l))}block(l,h){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(h),this}endBlock(l){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const b=this._nodes.length-h;if(b<0||l!==void 0&&b!==l)throw new Error(`CodeGen: wrong number of nodes: ${b} vs ${l} expected`);return this._nodes.length=h,this}func(l,h=t.nil,b,I){return this._blockNode(new K(l,h,b)),I&&this.code(I).endFunc(),this}endFunc(){return this._endBlockNode(K)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,h){const b=this._currNode;if(b instanceof l||h&&b instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${l.kind}/${h.kind}`:l.kind}"`)}_elseNode(l){const h=this._currNode;if(!(h instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const h=this._nodes;h[h.length-1]=l}}e.CodeGen=z;function H($,l){for(const h in l)$[h]=($[h]||0)+(l[h]||0);return $}function ce($,l){return l instanceof t._CodeOrName?H($,l.names):$}function T($,l,h){if($ instanceof t.Name)return b($);if(!I($))return $;return new t._Code($._items.reduce((j,V)=>(V instanceof t.Name&&(V=b(V)),V instanceof t._Code?j.push(...V._items):j.push(V),j),[]));function b(j){const V=h[j.str];return V===void 0||l[j.str]!==1?j:(delete l[j.str],V)}function I(j){return j instanceof t._Code&&j._items.some(V=>V instanceof t.Name&&l[V.str]===1&&h[V.str]!==void 0)}}function k($,l){for(const h in l)$[h]=($[h]||0)-(l[h]||0)}function L($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${S($)}`}e.not=L;const D=p(e.operators.AND);function G(...$){return $.reduce(D)}e.and=G;const M=p(e.operators.OR);function P(...$){return $.reduce(M)}e.or=P;function p($){return(l,h)=>l===t.nil?h:h===t.nil?l:(0,t._)`${S(l)} ${$} ${S(h)}`}function S($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(ne);var C={};Object.defineProperty(C,"__esModule",{value:!0});C.checkStrictMode=C.getErrorPath=C.Type=C.useFunc=C.setEvaluated=C.evaluatedPropsToName=C.mergeEvaluated=C.eachItem=C.unescapeJsonPointer=C.escapeJsonPointer=C.escapeFragment=C.unescapeFragment=C.schemaRefOrVal=C.schemaHasRulesButRef=C.schemaHasRules=C.checkUnknownRules=C.alwaysValidSchema=C.toHash=void 0;const de=ne,lg=Pn;function ug(e){const t={};for(const r of e)t[r]=!0;return t}C.toHash=ug;function dg(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Mu(e,t),!Lu(t,e.self.RULES.all))}C.alwaysValidSchema=dg;function Mu(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||zu(e,`unknown keyword: "${a}"`)}C.checkUnknownRules=Mu;function Lu(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}C.schemaHasRules=Lu;function fg(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}C.schemaHasRulesButRef=fg;function hg({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,de._)`${r}`}return(0,de._)`${e}${t}${(0,de.getProperty)(n)}`}C.schemaRefOrVal=hg;function mg(e){return Fu(decodeURIComponent(e))}C.unescapeFragment=mg;function pg(e){return encodeURIComponent(xo(e))}C.escapeFragment=pg;function xo(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}C.escapeJsonPointer=xo;function Fu(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}C.unescapeJsonPointer=Fu;function yg(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}C.eachItem=yg;function Ic({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,i)=>{const c=o===void 0?a:o instanceof de.Name?(a instanceof de.Name?e(s,a,o):t(s,a,o),o):a instanceof de.Name?(t(s,o,a),a):r(a,o);return i===de.Name&&!(c instanceof de.Name)?n(s,c):c}}C.mergeEvaluated={props:Ic({mergeNames:(e,t,r)=>e.if((0,de._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,de._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,de._)`${r} || {}`).code((0,de._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,de._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,de._)`${r} || {}`),Qo(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Vu}),items:Ic({mergeNames:(e,t,r)=>e.if((0,de._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,de._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,de._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,de._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Vu(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,de._)`{}`);return t!==void 0&&Qo(e,r,t),r}C.evaluatedPropsToName=Vu;function Qo(e,t,r){Object.keys(r).forEach(n=>e.assign((0,de._)`${t}${(0,de.getProperty)(n)}`,!0))}C.setEvaluated=Qo;const Tc={};function $g(e,t){return e.scopeValue("func",{ref:t,code:Tc[t.code]||(Tc[t.code]=new lg._Code(t.code))})}C.useFunc=$g;var Da;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Da||(C.Type=Da={}));function _g(e,t,r){if(e instanceof de.Name){const n=t===Da.Num;return r?n?(0,de._)`"[" + ${e} + "]"`:(0,de._)`"['" + ${e} + "']"`:n?(0,de._)`"/" + ${e}`:(0,de._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,de.getProperty)(e).toString():"/"+xo(e)}C.getErrorPath=_g;function zu(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}C.checkStrictMode=zu;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});const Ae=ne,gg={data:new Ae.Name("data"),valCxt:new Ae.Name("valCxt"),instancePath:new Ae.Name("instancePath"),parentData:new Ae.Name("parentData"),parentDataProperty:new Ae.Name("parentDataProperty"),rootData:new Ae.Name("rootData"),dynamicAnchors:new Ae.Name("dynamicAnchors"),vErrors:new Ae.Name("vErrors"),errors:new Ae.Name("errors"),this:new Ae.Name("this"),self:new Ae.Name("self"),scope:new Ae.Name("scope"),json:new Ae.Name("json"),jsonPos:new Ae.Name("jsonPos"),jsonLen:new Ae.Name("jsonLen"),jsonPart:new Ae.Name("jsonPart")};Et.default=gg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ne,r=C,n=Et;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:m})=>m?(0,t.str)`"${_}" keyword must be ${m} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function s(_,m=e.keywordError,E,R){const{it:N}=_,{gen:O,compositeRule:K,allErrors:x}=N,pe=f(_,m,E);R??(K||x)?c(O,pe):d(N,(0,t._)`[${pe}]`)}e.reportError=s;function a(_,m=e.keywordError,E){const{it:R}=_,{gen:N,compositeRule:O,allErrors:K}=R,x=f(_,m,E);c(N,x),O||K||d(R,n.default.vErrors)}e.reportExtraError=a;function o(_,m){_.assign(n.default.errors,m),_.if((0,t._)`${n.default.vErrors} !== null`,()=>_.if(m,()=>_.assign((0,t._)`${n.default.vErrors}.length`,m),()=>_.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function i({gen:_,keyword:m,schemaValue:E,data:R,errsCount:N,it:O}){if(N===void 0)throw new Error("ajv implementation error");const K=_.name("err");_.forRange("i",N,n.default.errors,x=>{_.const(K,(0,t._)`${n.default.vErrors}[${x}]`),_.if((0,t._)`${K}.instancePath === undefined`,()=>_.assign((0,t._)`${K}.instancePath`,(0,t.strConcat)(n.default.instancePath,O.errorPath))),_.assign((0,t._)`${K}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${m}`),O.opts.verbose&&(_.assign((0,t._)`${K}.schema`,E),_.assign((0,t._)`${K}.data`,R))})}e.extendErrors=i;function c(_,m){const E=_.const("err",m);_.if((0,t._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),_.code((0,t._)`${n.default.errors}++`)}function d(_,m){const{gen:E,validateName:R,schemaEnv:N}=_;N.$async?E.throw((0,t._)`new ${_.ValidationError}(${m})`):(E.assign((0,t._)`${R}.errors`,m),E.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(_,m,E){const{createErrors:R}=_.it;return R===!1?(0,t._)`{}`:v(_,m,E)}function v(_,m,E={}){const{gen:R,it:N}=_,O=[y(N,E),w(_,E)];return g(_,m,O),R.object(...O)}function y({errorPath:_},{instancePath:m}){const E=m?(0,t.str)`${_}${(0,r.getErrorPath)(m,r.Type.Str)}`:_;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function w({keyword:_,it:{errSchemaPath:m}},{schemaPath:E,parentSchema:R}){let N=R?m:(0,t.str)`${m}/${_}`;return E&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(E,r.Type.Str)}`),[u.schemaPath,N]}function g(_,{params:m,message:E},R){const{keyword:N,data:O,schemaValue:K,it:x}=_,{opts:pe,propertyName:_e,topSchemaRef:we,schemaPath:z}=x;R.push([u.keyword,N],[u.params,typeof m=="function"?m(_):m||(0,t._)`{}`]),pe.messages&&R.push([u.message,typeof E=="function"?E(_):E]),pe.verbose&&R.push([u.schema,K],[u.parentSchema,(0,t._)`${we}${z}`],[n.default.data,O]),_e&&R.push([u.propertyName,_e])}})(In);Object.defineProperty(qr,"__esModule",{value:!0});qr.boolOrEmptySchema=qr.topBoolOrEmptySchema=void 0;const vg=In,wg=ne,Eg=Et,bg={message:"boolean schema is false"};function Sg(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Uu(e,!1):typeof r=="object"&&r.$async===!0?t.return(Eg.default.data):(t.assign((0,wg._)`${n}.errors`,null),t.return(!0))}qr.topBoolOrEmptySchema=Sg;function Pg(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Uu(e)):r.var(t,!0)}qr.boolOrEmptySchema=Pg;function Uu(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,vg.reportError)(s,bg,void 0,t)}var be={},br={};Object.defineProperty(br,"__esModule",{value:!0});br.getRules=br.isJSONType=void 0;const Rg=["string","number","integer","boolean","null","object","array"],Ng=new Set(Rg);function Og(e){return typeof e=="string"&&Ng.has(e)}br.isJSONType=Og;function Ig(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}br.getRules=Ig;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.shouldUseRule=Ot.shouldUseGroup=Ot.schemaHasRulesForType=void 0;function Tg({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&qu(e,n)}Ot.schemaHasRulesForType=Tg;function qu(e,t){return t.rules.some(r=>Ku(e,r))}Ot.shouldUseGroup=qu;function Ku(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Ot.shouldUseRule=Ku;Object.defineProperty(be,"__esModule",{value:!0});be.reportTypeError=be.checkDataTypes=be.checkDataType=be.coerceAndCheckDataType=be.getJSONTypes=be.getSchemaTypes=be.DataType=void 0;const jg=br,kg=Ot,Ag=In,re=ne,Gu=C;var Mr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Mr||(be.DataType=Mr={}));function Cg(e){const t=Hu(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}be.getSchemaTypes=Cg;function Hu(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(jg.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}be.getJSONTypes=Hu;function Dg(e,t){const{gen:r,data:n,opts:s}=e,a=Mg(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,kg.schemaHasRulesForType)(e,t[0]));if(o){const i=Zo(t,n,s.strictNumbers,Mr.Wrong);r.if(i,()=>{a.length?Lg(e,t,a):ei(e)})}return o}be.coerceAndCheckDataType=Dg;const Wu=new Set(["string","number","integer","boolean","null"]);function Mg(e,t){return t?e.filter(r=>Wu.has(r)||t==="array"&&r==="array"):[]}function Lg(e,t,r){const{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,re._)`typeof ${s}`),i=n.let("coerced",(0,re._)`undefined`);a.coerceTypes==="array"&&n.if((0,re._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,re._)`${s}[0]`).assign(o,(0,re._)`typeof ${s}`).if(Zo(t,s,a.strictNumbers),()=>n.assign(i,s))),n.if((0,re._)`${i} !== undefined`);for(const d of r)(Wu.has(d)||d==="array"&&a.coerceTypes==="array")&&c(d);n.else(),ei(e),n.endIf(),n.if((0,re._)`${i} !== undefined`,()=>{n.assign(s,i),Fg(e,i)});function c(d){switch(d){case"string":n.elseIf((0,re._)`${o} == "number" || ${o} == "boolean"`).assign(i,(0,re._)`"" + ${s}`).elseIf((0,re._)`${s} === null`).assign(i,(0,re._)`""`);return;case"number":n.elseIf((0,re._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(i,(0,re._)`+${s}`);return;case"integer":n.elseIf((0,re._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(i,(0,re._)`+${s}`);return;case"boolean":n.elseIf((0,re._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(i,!1).elseIf((0,re._)`${s} === "true" || ${s} === 1`).assign(i,!0);return;case"null":n.elseIf((0,re._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(i,null);return;case"array":n.elseIf((0,re._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(i,(0,re._)`[${s}]`)}}}function Fg({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,re._)`${t} !== undefined`,()=>e.assign((0,re._)`${t}[${r}]`,n))}function Ma(e,t,r,n=Mr.Correct){const s=n===Mr.Correct?re.operators.EQ:re.operators.NEQ;let a;switch(e){case"null":return(0,re._)`${t} ${s} null`;case"array":a=(0,re._)`Array.isArray(${t})`;break;case"object":a=(0,re._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,re._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,re._)`typeof ${t} ${s} ${e}`}return n===Mr.Correct?a:(0,re.not)(a);function o(i=re.nil){return(0,re.and)((0,re._)`typeof ${t} == "number"`,i,r?(0,re._)`isFinite(${t})`:re.nil)}}be.checkDataType=Ma;function Zo(e,t,r,n){if(e.length===1)return Ma(e[0],t,r,n);let s;const a=(0,Gu.toHash)(e);if(a.array&&a.object){const o=(0,re._)`typeof ${t} != "object"`;s=a.null?o:(0,re._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=re.nil;a.number&&delete a.integer;for(const o in a)s=(0,re.and)(s,Ma(o,t,r,n));return s}be.checkDataTypes=Zo;const Vg={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,re._)`{type: ${e}}`:(0,re._)`{type: ${t}}`};function ei(e){const t=zg(e);(0,Ag.reportError)(t,Vg)}be.reportTypeError=ei;function zg(e){const{gen:t,data:r,schema:n}=e,s=(0,Gu.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.assignDefaults=void 0;const Nr=ne,Ug=C;function qg(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)jc(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>jc(e,a,s.default))}Ms.assignDefaults=qg;function jc(e,t,r){const{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;const i=(0,Nr._)`${a}${(0,Nr.getProperty)(t)}`;if(s){(0,Ug.checkStrictMode)(e,`default is ignored for: ${i}`);return}let c=(0,Nr._)`${i} === undefined`;o.useDefaults==="empty"&&(c=(0,Nr._)`${c} || ${i} === null || ${i} === ""`),n.if(c,(0,Nr._)`${i} = ${(0,Nr.stringify)(r)}`)}var wt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.validateUnion=ae.validateArray=ae.usePattern=ae.callValidateCode=ae.schemaProperties=ae.allSchemaProperties=ae.noPropertyInData=ae.propertyInData=ae.isOwnProperty=ae.hasPropFunc=ae.reportMissingProp=ae.checkMissingProp=ae.checkReportMissingProp=void 0;const me=ne,ti=C,Lt=Et,Kg=C;function Gg(e,t){const{gen:r,data:n,it:s}=e;r.if(ni(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,me._)`${t}`},!0),e.error()})}ae.checkReportMissingProp=Gg;function Hg({gen:e,data:t,it:{opts:r}},n,s){return(0,me.or)(...n.map(a=>(0,me.and)(ni(e,t,a,r.ownProperties),(0,me._)`${s} = ${a}`)))}ae.checkMissingProp=Hg;function Wg(e,t){e.setParams({missingProperty:t},!0),e.error()}ae.reportMissingProp=Wg;function Bu(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,me._)`Object.prototype.hasOwnProperty`})}ae.hasPropFunc=Bu;function ri(e,t,r){return(0,me._)`${Bu(e)}.call(${t}, ${r})`}ae.isOwnProperty=ri;function Bg(e,t,r,n){const s=(0,me._)`${t}${(0,me.getProperty)(r)} !== undefined`;return n?(0,me._)`${s} && ${ri(e,t,r)}`:s}ae.propertyInData=Bg;function ni(e,t,r,n){const s=(0,me._)`${t}${(0,me.getProperty)(r)} === undefined`;return n?(0,me.or)(s,(0,me.not)(ri(e,t,r))):s}ae.noPropertyInData=ni;function Yu(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ae.allSchemaProperties=Yu;function Yg(e,t){return Yu(t).filter(r=>!(0,ti.alwaysValidSchema)(e,t[r]))}ae.schemaProperties=Yg;function Jg({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},i,c,d){const u=d?(0,me._)`${e}, ${t}, ${n}${s}`:t,f=[[Lt.default.instancePath,(0,me.strConcat)(Lt.default.instancePath,a)],[Lt.default.parentData,o.parentData],[Lt.default.parentDataProperty,o.parentDataProperty],[Lt.default.rootData,Lt.default.rootData]];o.opts.dynamicRef&&f.push([Lt.default.dynamicAnchors,Lt.default.dynamicAnchors]);const v=(0,me._)`${u}, ${r.object(...f)}`;return c!==me.nil?(0,me._)`${i}.call(${c}, ${v})`:(0,me._)`${i}(${v})`}ae.callValidateCode=Jg;const Xg=(0,me._)`new RegExp`;function xg({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,me._)`${s.code==="new RegExp"?Xg:(0,Kg.useFunc)(e,s)}(${r}, ${n})`})}ae.usePattern=xg;function Qg(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const i=t.let("valid",!0);return o(()=>t.assign(i,!1)),i}return t.var(a,!0),o(()=>t.break()),a;function o(i){const c=t.const("len",(0,me._)`${r}.length`);t.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:ti.Type.Num},a),t.if((0,me.not)(a),i)})}}ae.validateArray=Qg;function Zg(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,ti.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),i=t.name("_valid");t.block(()=>r.forEach((c,d)=>{const u=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},i);t.assign(o,(0,me._)`${o} || ${i}`),e.mergeValidEvaluated(u,i)||t.if((0,me.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ae.validateUnion=Zg;Object.defineProperty(wt,"__esModule",{value:!0});wt.validateKeywordUsage=wt.validSchemaType=wt.funcKeywordCode=wt.macroKeywordCode=void 0;const Fe=ne,pr=Et,e0=ae,t0=In;function r0(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,i=t.macro.call(o.self,s,a,o),c=Ju(r,n,i);o.opts.validateSchema!==!1&&o.self.validateSchema(i,!0);const d=r.name("valid");e.subschema({schema:i,schemaPath:Fe.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}wt.macroKeywordCode=r0;function n0(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:i,it:c}=e;a0(c,t);const d=!i&&t.compile?t.compile.call(c.self,a,o,c):t.validate,u=Ju(n,s,d),f=n.let("valid");e.block$data(f,v),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function v(){if(t.errors===!1)g(),t.modifying&&kc(e),_(()=>e.error());else{const m=t.async?y():w();t.modifying&&kc(e),_(()=>s0(e,m))}}function y(){const m=n.let("ruleErrs",null);return n.try(()=>g((0,Fe._)`await `),E=>n.assign(f,!1).if((0,Fe._)`${E} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,Fe._)`${E}.errors`),()=>n.throw(E))),m}function w(){const m=(0,Fe._)`${u}.errors`;return n.assign(m,null),g(Fe.nil),m}function g(m=t.async?(0,Fe._)`await `:Fe.nil){const E=c.opts.passContext?pr.default.this:pr.default.self,R=!("compile"in t&&!i||t.schema===!1);n.assign(f,(0,Fe._)`${m}${(0,e0.callValidateCode)(e,u,E,R)}`,t.modifying)}function _(m){var E;n.if((0,Fe.not)((E=t.valid)!==null&&E!==void 0?E:f),m)}}wt.funcKeywordCode=n0;function kc(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Fe._)`${n.parentData}[${n.parentDataProperty}]`))}function s0(e,t){const{gen:r}=e;r.if((0,Fe._)`Array.isArray(${t})`,()=>{r.assign(pr.default.vErrors,(0,Fe._)`${pr.default.vErrors} === null ? ${t} : ${pr.default.vErrors}.concat(${t})`).assign(pr.default.errors,(0,Fe._)`${pr.default.vErrors}.length`),(0,t0.extendErrors)(e)},()=>e.error())}function a0({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ju(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Fe.stringify)(r)})}function o0(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}wt.validSchemaType=o0;function i0({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(i=>!Object.prototype.hasOwnProperty.call(e,i)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}wt.validateKeywordUsage=i0;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.extendSubschemaMode=Bt.extendSubschemaData=Bt.getSubschema=void 0;const _t=ne,Xu=C;function c0(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const i=e.schema[t];return r===void 0?{schema:i,schemaPath:(0,_t._)`${e.schemaPath}${(0,_t.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,_t._)`${e.schemaPath}${(0,_t.getProperty)(t)}${(0,_t.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Xu.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Bt.getSubschema=c0;function l0(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:i}=t;if(r!==void 0){const{errorPath:d,dataPathArr:u,opts:f}=t,v=i.let("data",(0,_t._)`${t.data}${(0,_t.getProperty)(r)}`,!0);c(v),e.errorPath=(0,_t.str)`${d}${(0,Xu.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,_t._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(s!==void 0){const d=s instanceof _t.Name?s:i.let("data",s,!0);c(d),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function c(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}Bt.extendSubschemaData=l0;function u0(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Bt.extendSubschemaMode=u0;var Te={},xu={exports:{}},Ht=xu.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};os(t,n,s,e,"",e)};Ht.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ht.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ht.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ht.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function os(e,t,r,n,s,a,o,i,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,i,c,d);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in Ht.arrayKeywords)for(var v=0;v<f.length;v++)os(e,t,r,f[v],s+"/"+u+"/"+v,a,s,u,n,v)}else if(u in Ht.propsKeywords){if(f&&typeof f=="object")for(var y in f)os(e,t,r,f[y],s+"/"+u+"/"+d0(y),a,s,u,n,y)}else(u in Ht.keywords||e.allKeys&&!(u in Ht.skipKeywords))&&os(e,t,r,f,s+"/"+u,a,s,u,n)}r(n,s,a,o,i,c,d)}}function d0(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var f0=xu.exports;Object.defineProperty(Te,"__esModule",{value:!0});Te.getSchemaRefs=Te.resolveUrl=Te.normalizeId=Te._getFullPath=Te.getFullPath=Te.inlineRef=void 0;const h0=C,m0=Is,p0=f0,y0=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $0(e,t=!0){return typeof e=="boolean"?!0:t===!0?!La(e):t?Qu(e)<=t:!1}Te.inlineRef=$0;const _0=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function La(e){for(const t in e){if(_0.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(La)||typeof r=="object"&&La(r))return!0}return!1}function Qu(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!y0.has(r)&&(typeof e[r]=="object"&&(0,h0.eachItem)(e[r],n=>t+=Qu(n)),t===1/0))return 1/0}return t}function Zu(e,t="",r){r!==!1&&(t=Lr(t));const n=e.parse(t);return ed(e,n)}Te.getFullPath=Zu;function ed(e,t){return e.serialize(t).split("#")[0]+"#"}Te._getFullPath=ed;const g0=/#\/?$/;function Lr(e){return e?e.replace(g0,""):""}Te.normalizeId=Lr;function v0(e,t,r){return r=Lr(r),e.resolve(t,r)}Te.resolveUrl=v0;const w0=/^[a-z_][-a-z0-9._]*$/i;function E0(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Lr(e[r]||t),a={"":s},o=Zu(n,s,!1),i={},c=new Set;return p0(e,{allKeys:!0},(f,v,y,w)=>{if(w===void 0)return;const g=o+v;let _=a[w];typeof f[r]=="string"&&(_=m.call(this,f[r])),E.call(this,f.$anchor),E.call(this,f.$dynamicAnchor),a[v]=_;function m(R){const N=this.opts.uriResolver.resolve;if(R=Lr(_?N(_,R):R),c.has(R))throw u(R);c.add(R);let O=this.refs[R];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?d(f,O.schema,R):R!==Lr(g)&&(R[0]==="#"?(d(f,i[R],R),i[R]=f):this.refs[R]=g),R}function E(R){if(typeof R=="string"){if(!w0.test(R))throw new Error(`invalid anchor "${R}"`);m.call(this,`#${R}`)}}}),i;function d(f,v,y){if(v!==void 0&&!m0(f,v))throw u(y)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Te.getSchemaRefs=E0;Object.defineProperty(dt,"__esModule",{value:!0});dt.getData=dt.KeywordCxt=dt.validateFunctionCode=void 0;const td=qr,Ac=be,si=Ot,ws=be,b0=Ms,$n=wt,sa=Bt,q=ne,X=Et,S0=Te,It=C,nn=In;function P0(e){if(sd(e)&&(ad(e),nd(e))){O0(e);return}rd(e,()=>(0,td.topBoolOrEmptySchema)(e))}dt.validateFunctionCode=P0;function rd({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,q._)`${X.default.data}, ${X.default.valCxt}`,n.$async,()=>{e.code((0,q._)`"use strict"; ${Cc(r,s)}`),N0(e,s),e.code(a)}):e.func(t,(0,q._)`${X.default.data}, ${R0(s)}`,n.$async,()=>e.code(Cc(r,s)).code(a))}function R0(e){return(0,q._)`{${X.default.instancePath}="", ${X.default.parentData}, ${X.default.parentDataProperty}, ${X.default.rootData}=${X.default.data}${e.dynamicRef?(0,q._)`, ${X.default.dynamicAnchors}={}`:q.nil}}={}`}function N0(e,t){e.if(X.default.valCxt,()=>{e.var(X.default.instancePath,(0,q._)`${X.default.valCxt}.${X.default.instancePath}`),e.var(X.default.parentData,(0,q._)`${X.default.valCxt}.${X.default.parentData}`),e.var(X.default.parentDataProperty,(0,q._)`${X.default.valCxt}.${X.default.parentDataProperty}`),e.var(X.default.rootData,(0,q._)`${X.default.valCxt}.${X.default.rootData}`),t.dynamicRef&&e.var(X.default.dynamicAnchors,(0,q._)`${X.default.valCxt}.${X.default.dynamicAnchors}`)},()=>{e.var(X.default.instancePath,(0,q._)`""`),e.var(X.default.parentData,(0,q._)`undefined`),e.var(X.default.parentDataProperty,(0,q._)`undefined`),e.var(X.default.rootData,X.default.data),t.dynamicRef&&e.var(X.default.dynamicAnchors,(0,q._)`{}`)})}function O0(e){const{schema:t,opts:r,gen:n}=e;rd(e,()=>{r.$comment&&t.$comment&&id(e),A0(e),n.let(X.default.vErrors,null),n.let(X.default.errors,0),r.unevaluated&&I0(e),od(e),M0(e)})}function I0(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,q._)`${r}.evaluated`),t.if((0,q._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,q._)`${e.evaluated}.props`,(0,q._)`undefined`)),t.if((0,q._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,q._)`${e.evaluated}.items`,(0,q._)`undefined`))}function Cc(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,q._)`/*# sourceURL=${r} */`:q.nil}function T0(e,t){if(sd(e)&&(ad(e),nd(e))){j0(e,t);return}(0,td.boolOrEmptySchema)(e,t)}function nd({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function sd(e){return typeof e.schema!="boolean"}function j0(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&id(e),C0(e),D0(e);const a=n.const("_errs",X.default.errors);od(e,a),n.var(t,(0,q._)`${a} === ${X.default.errors}`)}function ad(e){(0,It.checkUnknownRules)(e),k0(e)}function od(e,t){if(e.opts.jtd)return Dc(e,[],!1,t);const r=(0,Ac.getSchemaTypes)(e.schema),n=(0,Ac.coerceAndCheckDataType)(e,r);Dc(e,r,!n,t)}function k0(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,It.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function A0(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,It.checkStrictMode)(e,"default is ignored in the schema root")}function C0(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,S0.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function D0(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function id({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,q._)`${X.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,q.str)`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code((0,q._)`${X.default.self}.opts.$comment(${a}, ${o}, ${i}.schema)`)}}function M0(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,q._)`${X.default.errors} === 0`,()=>t.return(X.default.data),()=>t.throw((0,q._)`new ${s}(${X.default.vErrors})`)):(t.assign((0,q._)`${n}.errors`,X.default.vErrors),a.unevaluated&&L0(e),t.return((0,q._)`${X.default.errors} === 0`))}function L0({gen:e,evaluated:t,props:r,items:n}){r instanceof q.Name&&e.assign((0,q._)`${t}.props`,r),n instanceof q.Name&&e.assign((0,q._)`${t}.items`,n)}function Dc(e,t,r,n){const{gen:s,schema:a,data:o,allErrors:i,opts:c,self:d}=e,{RULES:u}=d;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,It.schemaHasRulesButRef)(a,u))){s.block(()=>ud(e,"$ref",u.all.$ref.definition));return}c.jtd||F0(e,t),s.block(()=>{for(const v of u.rules)f(v);f(u.post)});function f(v){(0,si.shouldUseGroup)(a,v)&&(v.type?(s.if((0,ws.checkDataType)(v.type,o,c.strictNumbers)),Mc(e,v),t.length===1&&t[0]===v.type&&r&&(s.else(),(0,ws.reportTypeError)(e)),s.endIf()):Mc(e,v),i||s.if((0,q._)`${X.default.errors} === ${n||0}`))}}function Mc(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,b0.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,si.shouldUseRule)(n,a)&&ud(e,a.keyword,a.definition,t.type)})}function F0(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(V0(e,t),e.opts.allowUnionTypes||z0(e,t),U0(e,e.dataTypes))}function V0(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{cd(e.dataTypes,r)||ai(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),K0(e,t)}}function z0(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ai(e,"use allowUnionTypes to allow union type keyword")}function U0(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,si.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>q0(t,o))&&ai(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function q0(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function cd(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function K0(e,t){const r=[];for(const n of e.dataTypes)cd(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ai(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,It.checkStrictMode)(e,t,e.opts.strictTypes)}class ld{constructor(t,r,n){if((0,$n.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,It.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",dd(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,$n.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",X.default.errors))}result(t,r,n){this.failResult((0,q.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,q.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,q._)`${r} !== undefined && (${(0,q.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?nn.reportExtraError:nn.reportError)(this,this.def.error,r)}$dataError(){(0,nn.reportError)(this,this.def.$dataError||nn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,nn.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=q.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=q.nil,r=q.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,q.or)((0,q._)`${s} === undefined`,r)),t!==q.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==q.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,q.or)(o(),i());function o(){if(n.length){if(!(r instanceof q.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,q._)`${(0,ws.checkDataTypes)(c,r,a.opts.strictNumbers,ws.DataType.Wrong)}`}return q.nil}function i(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,q._)`!${c}(${r})`}return q.nil}}subschema(t,r){const n=(0,sa.getSubschema)(this.it,t);(0,sa.extendSubschemaData)(n,this.it,t),(0,sa.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return T0(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=It.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=It.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,q.Name)),!0}}dt.KeywordCxt=ld;function ud(e,t,r,n){const s=new ld(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,$n.funcKeywordCode)(s,r):"macro"in r?(0,$n.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,$n.funcKeywordCode)(s,r)}const G0=/^\/(?:[^~]|~0|~1)*$/,H0=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function dd(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return X.default.rootData;if(e[0]==="/"){if(!G0.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=X.default.rootData}else{const d=H0.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+d[1];if(s=d[2],s==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(a=r[t-u],!s)return a}let o=a;const i=s.split("/");for(const d of i)d&&(a=(0,q._)`${a}${(0,q.getProperty)((0,It.unescapeJsonPointer)(d))}`,o=(0,q._)`${o} && ${a}`);return o;function c(d,u){return`Cannot access ${d} ${u} levels up, current level is ${t}`}}dt.getData=dd;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});class W0 extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Tn.default=W0;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const aa=Te;class B0 extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,aa.resolveUrl)(t,r,n),this.missingSchema=(0,aa.normalizeId)((0,aa.getFullPath)(t,this.missingRef))}}Jr.default=B0;var He={};Object.defineProperty(He,"__esModule",{value:!0});He.resolveSchema=He.getCompilingSchema=He.resolveRef=He.compileSchema=He.SchemaEnv=void 0;const nt=ne,Y0=Tn,ur=Et,lt=Te,Lc=C,J0=dt;class Ls{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,lt.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}He.SchemaEnv=Ls;function oi(e){const t=fd.call(this,e);if(t)return t;const r=(0,lt.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new nt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let i;e.$async&&(i=o.scopeValue("Error",{ref:Y0.default,code:(0,nt._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const d={gen:o,allErrors:this.opts.allErrors,data:ur.default.data,parentData:ur.default.parentData,parentDataProperty:ur.default.parentDataProperty,dataNames:[ur.default.data],dataPathArr:[nt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,nt.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:i,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:nt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,nt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,J0.validateFunctionCode)(d),o.optimize(this.opts.code.optimize);const f=o.toString();u=`${o.scopeRefs(ur.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const y=new Function(`${ur.default.self}`,`${ur.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:y}),y.errors=null,y.schema=e.schema,y.schemaEnv=e,e.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:w,items:g}=d;y.evaluated={props:w instanceof nt.Name?void 0:w,items:g instanceof nt.Name?void 0:g,dynamicProps:w instanceof nt.Name,dynamicItems:g instanceof nt.Name},y.source&&(y.source.evaluated=(0,nt.stringify)(y.evaluated))}return e.validate=y,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}He.compileSchema=oi;function X0(e,t,r){var n;r=(0,lt.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=Z0.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;o&&(a=new Ls({schema:o,schemaId:i,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=x0.call(this,a)}He.resolveRef=X0;function x0(e){return(0,lt.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:oi.call(this,e)}function fd(e){for(const t of this._compilations)if(Q0(t,e))return t}He.getCompilingSchema=fd;function Q0(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Z0(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Fs.call(this,e,t)}function Fs(e,t){const r=this.opts.uriResolver.parse(t),n=(0,lt._getFullPath)(this.opts.uriResolver,r);let s=(0,lt.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return oa.call(this,r,e);const a=(0,lt.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const i=Fs.call(this,e,o);return typeof(i==null?void 0:i.schema)!="object"?void 0:oa.call(this,r,i)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||oi.call(this,o),a===(0,lt.normalizeId)(t)){const{schema:i}=o,{schemaId:c}=this.opts,d=i[c];return d&&(s=(0,lt.resolveUrl)(this.opts.uriResolver,s,d)),new Ls({schema:i,schemaId:c,root:e,baseId:s})}return oa.call(this,r,o)}}He.resolveSchema=Fs;const ev=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function oa(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const i of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Lc.unescapeFragment)(i)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!ev.has(i)&&d&&(t=(0,lt.resolveUrl)(this.opts.uriResolver,t,d))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Lc.schemaHasRulesButRef)(r,this.RULES)){const i=(0,lt.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Fs.call(this,n,i)}const{schemaId:o}=this.opts;if(a=a||new Ls({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const tv="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",rv="Meta-schema for $data reference (JSON AnySchema extension proposal)",nv="object",sv=["$data"],av={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ov=!1,iv={$id:tv,description:rv,type:nv,required:sv,properties:av,additionalProperties:ov};var ii={};Object.defineProperty(ii,"__esModule",{value:!0});const hd=Eu;hd.code='require("ajv/dist/runtime/uri").default';ii.default=hd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=dt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ne;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Tn,s=Jr,a=br,o=He,i=ne,c=Te,d=be,u=C,f=iv,v=ii,y=(P,p)=>new RegExp(P,p);y.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function R(P){var p,S,$,l,h,b,I,j,V,F,oe,We,Yt,Jt,Xt,xt,Qt,Zt,er,tr,rr,nr,sr,ar,or;const tt=P.strict,ir=(p=P.code)===null||p===void 0?void 0:p.optimize,Zr=ir===!0||ir===void 0?1:ir||0,en=($=(S=P.code)===null||S===void 0?void 0:S.regExp)!==null&&$!==void 0?$:y,Bs=(l=P.uriResolver)!==null&&l!==void 0?l:v.default;return{strictSchema:(b=(h=P.strictSchema)!==null&&h!==void 0?h:tt)!==null&&b!==void 0?b:!0,strictNumbers:(j=(I=P.strictNumbers)!==null&&I!==void 0?I:tt)!==null&&j!==void 0?j:!0,strictTypes:(F=(V=P.strictTypes)!==null&&V!==void 0?V:tt)!==null&&F!==void 0?F:"log",strictTuples:(We=(oe=P.strictTuples)!==null&&oe!==void 0?oe:tt)!==null&&We!==void 0?We:"log",strictRequired:(Jt=(Yt=P.strictRequired)!==null&&Yt!==void 0?Yt:tt)!==null&&Jt!==void 0?Jt:!1,code:P.code?{...P.code,optimize:Zr,regExp:en}:{optimize:Zr,regExp:en},loopRequired:(Xt=P.loopRequired)!==null&&Xt!==void 0?Xt:E,loopEnum:(xt=P.loopEnum)!==null&&xt!==void 0?xt:E,meta:(Qt=P.meta)!==null&&Qt!==void 0?Qt:!0,messages:(Zt=P.messages)!==null&&Zt!==void 0?Zt:!0,inlineRefs:(er=P.inlineRefs)!==null&&er!==void 0?er:!0,schemaId:(tr=P.schemaId)!==null&&tr!==void 0?tr:"$id",addUsedSchema:(rr=P.addUsedSchema)!==null&&rr!==void 0?rr:!0,validateSchema:(nr=P.validateSchema)!==null&&nr!==void 0?nr:!0,validateFormats:(sr=P.validateFormats)!==null&&sr!==void 0?sr:!0,unicodeRegExp:(ar=P.unicodeRegExp)!==null&&ar!==void 0?ar:!0,int32range:(or=P.int32range)!==null&&or!==void 0?or:!0,uriResolver:Bs}}class N{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...R(p)};const{es5:S,lines:$}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:g,es5:S,lines:$}),this.logger=H(p.logger);const l=p.validateFormats;p.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,_,p,"NOT SUPPORTED"),O.call(this,m,p,"DEPRECATED","warn"),this._metaOpts=we.call(this),p.formats&&pe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&_e.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),x.call(this),p.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:S,schemaId:$}=this.opts;let l=f;$==="id"&&(l={...f},l.id=l.$id,delete l.$id),S&&p&&this.addMetaSchema(l,l[$],!1)}defaultMeta(){const{meta:p,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[S]||p:void 0}validate(p,S){let $;if(typeof p=="string"){if($=this.getSchema(p),!$)throw new Error(`no schema with key or ref "${p}"`)}else $=this.compile(p);const l=$(S);return"$async"in $||(this.errors=$.errors),l}compile(p,S){const $=this._addSchema(p,S);return $.validate||this._compileSchemaEnv($)}compileAsync(p,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return l.call(this,p,S);async function l(F,oe){await h.call(this,F.$schema);const We=this._addSchema(F,oe);return We.validate||b.call(this,We)}async function h(F){F&&!this.getSchema(F)&&await l.call(this,{$ref:F},!0)}async function b(F){try{return this._compileSchemaEnv(F)}catch(oe){if(!(oe instanceof s.default))throw oe;return I.call(this,oe),await j.call(this,oe.missingSchema),b.call(this,F)}}function I({missingSchema:F,missingRef:oe}){if(this.refs[F])throw new Error(`AnySchema ${F} is loaded but ${oe} cannot be resolved`)}async function j(F){const oe=await V.call(this,F);this.refs[F]||await h.call(this,oe.$schema),this.refs[F]||this.addSchema(oe,F,S)}async function V(F){const oe=this._loading[F];if(oe)return oe;try{return await(this._loading[F]=$(F))}finally{delete this._loading[F]}}}addSchema(p,S,$,l=this.opts.validateSchema){if(Array.isArray(p)){for(const b of p)this.addSchema(b,void 0,$,l);return this}let h;if(typeof p=="object"){const{schemaId:b}=this.opts;if(h=p[b],h!==void 0&&typeof h!="string")throw new Error(`schema ${b} must be string`)}return S=(0,c.normalizeId)(S||h),this._checkUnique(S),this.schemas[S]=this._addSchema(p,$,S,l,!0),this}addMetaSchema(p,S,$=this.opts.validateSchema){return this.addSchema(p,S,!0,$),this}validateSchema(p,S){if(typeof p=="boolean")return!0;let $;if($=p.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate($,p);if(!l&&S){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return l}getSchema(p){let S;for(;typeof(S=K.call(this,p))=="string";)p=S;if(S===void 0){const{schemaId:$}=this.opts,l=new o.SchemaEnv({schema:{},schemaId:$});if(S=o.resolveSchema.call(this,l,p),!S)return;this.refs[p]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=K.call(this,p);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const S=p;this._cache.delete(S);let $=p[this.opts.schemaId];return $&&($=(0,c.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const S of p)this.addKeyword(S);return this}addKeyword(p,S){let $;if(typeof p=="string")$=p,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else if(typeof p=="object"&&S===void 0){if(S=p,$=S.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(T.call(this,$,S),!S)return(0,u.eachItem)($,h=>k.call(this,h)),this;D.call(this,S);const l={...S,type:(0,d.getJSONTypes)(S.type),schemaType:(0,d.getJSONTypes)(S.schemaType)};return(0,u.eachItem)($,l.type.length===0?h=>k.call(this,h,l):h=>l.type.forEach(b=>k.call(this,h,l,b))),this}getKeyword(p){const S=this.RULES.all[p];return typeof S=="object"?S.definition:!!S}removeKeyword(p){const{RULES:S}=this;delete S.keywords[p],delete S.all[p];for(const $ of S.rules){const l=$.rules.findIndex(h=>h.keyword===p);l>=0&&$.rules.splice(l,1)}return this}addFormat(p,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[p]=S,this}errorsText(p=this.errors,{separator:S=", ",dataVar:$="data"}={}){return!p||p.length===0?"No errors":p.map(l=>`${$}${l.instancePath} ${l.message}`).reduce((l,h)=>l+S+h)}$dataMetaSchema(p,S){const $=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const l of S){const h=l.split("/").slice(1);let b=p;for(const I of h)b=b[I];for(const I in $){const j=$[I];if(typeof j!="object")continue;const{$data:V}=j.definition,F=b[I];V&&F&&(b[I]=M(F))}}return p}_removeAllSchemas(p,S){for(const $ in p){const l=p[$];(!S||S.test($))&&(typeof l=="string"?delete p[$]:l&&!l.meta&&(this._cache.delete(l.schema),delete p[$]))}}_addSchema(p,S,$,l=this.opts.validateSchema,h=this.opts.addUsedSchema){let b;const{schemaId:I}=this.opts;if(typeof p=="object")b=p[I];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let j=this._cache.get(p);if(j!==void 0)return j;$=(0,c.normalizeId)(b||$);const V=c.getSchemaRefs.call(this,p,$);return j=new o.SchemaEnv({schema:p,schemaId:I,meta:S,baseId:$,localRefs:V}),this._cache.set(j.schema,j),h&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=j),l&&this.validateSchema(p,!0),j}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):o.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const S=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,p)}finally{this.opts=S}}}N.ValidationError=n.default,N.MissingRefError=s.default,e.default=N;function O(P,p,S,$="error"){for(const l in P){const h=l;h in p&&this.logger[$](`${S}: option ${l}. ${P[h]}`)}}function K(P){return P=(0,c.normalizeId)(P),this.schemas[P]||this.refs[P]}function x(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const p in P)this.addSchema(P[p],p)}function pe(){for(const P in this.opts.formats){const p=this.opts.formats[P];p&&this.addFormat(P,p)}}function _e(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in P){const S=P[p];S.keyword||(S.keyword=p),this.addKeyword(S)}}function we(){const P={...this.opts};for(const p of w)delete P[p];return P}const z={log(){},warn(){},error(){}};function H(P){if(P===!1)return z;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const ce=/^[a-z_$][a-z0-9_$:-]*$/i;function T(P,p){const{RULES:S}=this;if((0,u.eachItem)(P,$=>{if(S.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!ce.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function k(P,p,S){var $;const l=p==null?void 0:p.post;if(S&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let b=l?h.post:h.rules.find(({type:j})=>j===S);if(b||(b={type:S,rules:[]},h.rules.push(b)),h.keywords[P]=!0,!p)return;const I={keyword:P,definition:{...p,type:(0,d.getJSONTypes)(p.type),schemaType:(0,d.getJSONTypes)(p.schemaType)}};p.before?L.call(this,b,I,p.before):b.rules.push(I),h.all[P]=I,($=p.implements)===null||$===void 0||$.forEach(j=>this.addKeyword(j))}function L(P,p,S){const $=P.rules.findIndex(l=>l.keyword===S);$>=0?P.rules.splice($,0,p):(P.rules.push(p),this.logger.warn(`rule ${S} is not defined`))}function D(P){let{metaSchema:p}=P;p!==void 0&&(P.$data&&this.opts.$data&&(p=M(p)),P.validateSchema=this.compile(p,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(P){return{anyOf:[P,G]}}})(Du);var ci={},li={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});const cv={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ui.default=cv;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.callRef=Sr.getValidate=void 0;const lv=Jr,Fc=ae,Ke=ne,Or=Et,Vc=He,Un=C,uv={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:i,self:c}=n,{root:d}=a;if((r==="#"||r==="#/")&&s===d.baseId)return f();const u=Vc.resolveRef.call(c,d,s,r);if(u===void 0)throw new lv.default(n.opts.uriResolver,s,r);if(u instanceof Vc.SchemaEnv)return v(u);return y(u);function f(){if(a===d)return is(e,o,a,a.$async);const w=t.scopeValue("root",{ref:d});return is(e,(0,Ke._)`${w}.validate`,d,d.$async)}function v(w){const g=md(e,w);is(e,g,w,w.$async)}function y(w){const g=t.scopeValue("schema",i.code.source===!0?{ref:w,code:(0,Ke.stringify)(w)}:{ref:w}),_=t.name("valid"),m=e.subschema({schema:w,dataTypes:[],schemaPath:Ke.nil,topSchemaRef:g,errSchemaPath:r},_);e.mergeEvaluated(m),e.ok(_)}}};function md(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ke._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Sr.getValidate=md;function is(e,t,r,n){const{gen:s,it:a}=e,{allErrors:o,schemaEnv:i,opts:c}=a,d=c.passContext?Or.default.this:Ke.nil;n?u():f();function u(){if(!i.$async)throw new Error("async schema referenced by sync schema");const w=s.let("valid");s.try(()=>{s.code((0,Ke._)`await ${(0,Fc.callValidateCode)(e,t,d)}`),y(t),o||s.assign(w,!0)},g=>{s.if((0,Ke._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),v(g),o||s.assign(w,!1)}),e.ok(w)}function f(){e.result((0,Fc.callValidateCode)(e,t,d),()=>y(t),()=>v(t))}function v(w){const g=(0,Ke._)`${w}.errors`;s.assign(Or.default.vErrors,(0,Ke._)`${Or.default.vErrors} === null ? ${g} : ${Or.default.vErrors}.concat(${g})`),s.assign(Or.default.errors,(0,Ke._)`${Or.default.vErrors}.length`)}function y(w){var g;if(!a.opts.unevaluated)return;const _=(g=r==null?void 0:r.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(a.props=Un.mergeEvaluated.props(s,_.props,a.props));else{const m=s.var("props",(0,Ke._)`${w}.evaluated.props`);a.props=Un.mergeEvaluated.props(s,m,a.props,Ke.Name)}if(a.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(a.items=Un.mergeEvaluated.items(s,_.items,a.items));else{const m=s.var("items",(0,Ke._)`${w}.evaluated.items`);a.items=Un.mergeEvaluated.items(s,m,a.items,Ke.Name)}}}Sr.callRef=is;Sr.default=uv;Object.defineProperty(li,"__esModule",{value:!0});const dv=ui,fv=Sr,hv=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",dv.default,fv.default];li.default=hv;var di={},fi={};Object.defineProperty(fi,"__esModule",{value:!0});const Es=ne,Ft=Es.operators,bs={maximum:{okStr:"<=",ok:Ft.LTE,fail:Ft.GT},minimum:{okStr:">=",ok:Ft.GTE,fail:Ft.LT},exclusiveMaximum:{okStr:"<",ok:Ft.LT,fail:Ft.GTE},exclusiveMinimum:{okStr:">",ok:Ft.GT,fail:Ft.LTE}},mv={message:({keyword:e,schemaCode:t})=>(0,Es.str)`must be ${bs[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Es._)`{comparison: ${bs[e].okStr}, limit: ${t}}`},pv={keyword:Object.keys(bs),type:"number",schemaType:"number",$data:!0,error:mv,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Es._)`${r} ${bs[t].fail} ${n} || isNaN(${r})`)}};fi.default=pv;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});const _n=ne,yv={message:({schemaCode:e})=>(0,_n.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,_n._)`{multipleOf: ${e}}`},$v={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:yv,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),i=a?(0,_n._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,_n._)`${o} !== parseInt(${o})`;e.fail$data((0,_n._)`(${n} === 0 || (${o} = ${r}/${n}, ${i}))`)}};hi.default=$v;var mi={},pi={};Object.defineProperty(pi,"__esModule",{value:!0});function pd(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}pi.default=pd;pd.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(mi,"__esModule",{value:!0});const yr=ne,_v=C,gv=pi,vv={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,yr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,yr._)`{limit: ${e}}`},wv={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:vv,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?yr.operators.GT:yr.operators.LT,o=s.opts.unicode===!1?(0,yr._)`${r}.length`:(0,yr._)`${(0,_v.useFunc)(e.gen,gv.default)}(${r})`;e.fail$data((0,yr._)`${o} ${a} ${n}`)}};mi.default=wv;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const Ev=ae,Ss=ne,bv={message:({schemaCode:e})=>(0,Ss.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ss._)`{pattern: ${e}}`},Sv={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:bv,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",i=r?(0,Ss._)`(new RegExp(${s}, ${o}))`:(0,Ev.usePattern)(e,n);e.fail$data((0,Ss._)`!${i}.test(${t})`)}};yi.default=Sv;var $i={};Object.defineProperty($i,"__esModule",{value:!0});const gn=ne,Pv={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,gn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,gn._)`{limit: ${e}}`},Rv={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Pv,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?gn.operators.GT:gn.operators.LT;e.fail$data((0,gn._)`Object.keys(${r}).length ${s} ${n}`)}};$i.default=Rv;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});const sn=ae,vn=ne,Nv=C,Ov={message:({params:{missingProperty:e}})=>(0,vn.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,vn._)`{missingProperty: ${e}}`},Iv={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ov,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:i}=o;if(!a&&r.length===0)return;const c=r.length>=i.loopRequired;if(o.allErrors?d():u(),i.strictRequired){const y=e.parentSchema.properties,{definedProperties:w}=e.it;for(const g of r)if((y==null?void 0:y[g])===void 0&&!w.has(g)){const _=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${g}" is not defined at "${_}" (strictRequired)`;(0,Nv.checkStrictMode)(o,m,o.opts.strictRequired)}}function d(){if(c||a)e.block$data(vn.nil,f);else for(const y of r)(0,sn.checkReportMissingProp)(e,y)}function u(){const y=t.let("missing");if(c||a){const w=t.let("valid",!0);e.block$data(w,()=>v(y,w)),e.ok(w)}else t.if((0,sn.checkMissingProp)(e,r,y)),(0,sn.reportMissingProp)(e,y),t.else()}function f(){t.forOf("prop",n,y=>{e.setParams({missingProperty:y}),t.if((0,sn.noPropertyInData)(t,s,y,i.ownProperties),()=>e.error())})}function v(y,w){e.setParams({missingProperty:y}),t.forOf(y,n,()=>{t.assign(w,(0,sn.propertyInData)(t,s,y,i.ownProperties)),t.if((0,vn.not)(w),()=>{e.error(),t.break()})},vn.nil)}}};_i.default=Iv;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});const wn=ne,Tv={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,wn.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,wn._)`{limit: ${e}}`},jv={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Tv,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?wn.operators.GT:wn.operators.LT;e.fail$data((0,wn._)`${r}.length ${s} ${n}`)}};gi.default=jv;var vi={},jn={};Object.defineProperty(jn,"__esModule",{value:!0});const yd=Is;yd.code='require("ajv/dist/runtime/equal").default';jn.default=yd;Object.defineProperty(vi,"__esModule",{value:!0});const ia=be,Oe=ne,kv=C,Av=jn,Cv={message:({params:{i:e,j:t}})=>(0,Oe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Oe._)`{i: ${e}, j: ${t}}`},Dv={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Cv,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:i}=e;if(!n&&!s)return;const c=t.let("valid"),d=a.items?(0,ia.getSchemaTypes)(a.items):[];e.block$data(c,u,(0,Oe._)`${o} === false`),e.ok(c);function u(){const w=t.let("i",(0,Oe._)`${r}.length`),g=t.let("j");e.setParams({i:w,j:g}),t.assign(c,!0),t.if((0,Oe._)`${w} > 1`,()=>(f()?v:y)(w,g))}function f(){return d.length>0&&!d.some(w=>w==="object"||w==="array")}function v(w,g){const _=t.name("item"),m=(0,ia.checkDataTypes)(d,_,i.opts.strictNumbers,ia.DataType.Wrong),E=t.const("indices",(0,Oe._)`{}`);t.for((0,Oe._)`;${w}--;`,()=>{t.let(_,(0,Oe._)`${r}[${w}]`),t.if(m,(0,Oe._)`continue`),d.length>1&&t.if((0,Oe._)`typeof ${_} == "string"`,(0,Oe._)`${_} += "_"`),t.if((0,Oe._)`typeof ${E}[${_}] == "number"`,()=>{t.assign(g,(0,Oe._)`${E}[${_}]`),e.error(),t.assign(c,!1).break()}).code((0,Oe._)`${E}[${_}] = ${w}`)})}function y(w,g){const _=(0,kv.useFunc)(t,Av.default),m=t.name("outer");t.label(m).for((0,Oe._)`;${w}--;`,()=>t.for((0,Oe._)`${g} = ${w}; ${g}--;`,()=>t.if((0,Oe._)`${_}(${r}[${w}], ${r}[${g}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};vi.default=Dv;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});const Fa=ne,Mv=C,Lv=jn,Fv={message:"must be equal to constant",params:({schemaCode:e})=>(0,Fa._)`{allowedValue: ${e}}`},Vv={keyword:"const",$data:!0,error:Fv,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Fa._)`!${(0,Mv.useFunc)(t,Lv.default)}(${r}, ${s})`):e.fail((0,Fa._)`${a} !== ${r}`)}};wi.default=Vv;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});const un=ne,zv=C,Uv=jn,qv={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,un._)`{allowedValues: ${e}}`},Kv={keyword:"enum",schemaType:"array",$data:!0,error:qv,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const i=s.length>=o.opts.loopEnum;let c;const d=()=>c??(c=(0,zv.useFunc)(t,Uv.default));let u;if(i||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const y=t.const("vSchema",a);u=(0,un.or)(...s.map((w,g)=>v(y,g)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",a,y=>t.if((0,un._)`${d()}(${r}, ${y})`,()=>t.assign(u,!0).break()))}function v(y,w){const g=s[w];return typeof g=="object"&&g!==null?(0,un._)`${d()}(${r}, ${y}[${w}])`:(0,un._)`${r} === ${g}`}}};Ei.default=Kv;Object.defineProperty(di,"__esModule",{value:!0});const Gv=fi,Hv=hi,Wv=mi,Bv=yi,Yv=$i,Jv=_i,Xv=gi,xv=vi,Qv=wi,Zv=Ei,ew=[Gv.default,Hv.default,Wv.default,Bv.default,Yv.default,Jv.default,Xv.default,xv.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Qv.default,Zv.default];di.default=ew;var bi={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.validateAdditionalItems=void 0;const $r=ne,Va=C,tw={message:({params:{len:e}})=>(0,$r.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,$r._)`{limit: ${e}}`},rw={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:tw,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Va.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}$d(e,n)}};function $d(e,t){const{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;const i=r.const("len",(0,$r._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,$r._)`${i} <= ${t.length}`);else if(typeof n=="object"&&!(0,Va.alwaysValidSchema)(o,n)){const d=r.var("valid",(0,$r._)`${i} <= ${t.length}`);r.if((0,$r.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,i,u=>{e.subschema({keyword:a,dataProp:u,dataPropType:Va.Type.Num},d),o.allErrors||r.if((0,$r.not)(d),()=>r.break())})}}Xr.validateAdditionalItems=$d;Xr.default=rw;var Si={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.validateTuple=void 0;const zc=ne,cs=C,nw=ae,sw={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return _d(e,"additionalItems",t);r.items=!0,!(0,cs.alwaysValidSchema)(r,t)&&e.ok((0,nw.validateArray)(e))}};function _d(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:i}=e;u(s),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=cs.mergeEvaluated.items(n,r.length,i.items));const c=n.name("valid"),d=n.const("len",(0,zc._)`${a}.length`);r.forEach((f,v)=>{(0,cs.alwaysValidSchema)(i,f)||(n.if((0,zc._)`${d} > ${v}`,()=>e.subschema({keyword:o,schemaProp:v,dataProp:v},c)),e.ok(c))});function u(f){const{opts:v,errSchemaPath:y}=i,w=r.length,g=w===f.minItems&&(w===f.maxItems||f[t]===!1);if(v.strictTuples&&!g){const _=`"${o}" is ${w}-tuple, but minItems or maxItems/${t} are not specified or different at path "${y}"`;(0,cs.checkStrictMode)(i,_,v.strictTuples)}}}xr.validateTuple=_d;xr.default=sw;Object.defineProperty(Si,"__esModule",{value:!0});const aw=xr,ow={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,aw.validateTuple)(e,"items")};Si.default=ow;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});const Uc=ne,iw=C,cw=ae,lw=Xr,uw={message:({params:{len:e}})=>(0,Uc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Uc._)`{limit: ${e}}`},dw={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:uw,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,iw.alwaysValidSchema)(n,t)&&(s?(0,lw.validateAdditionalItems)(e,s):e.ok((0,cw.validateArray)(e)))}};Pi.default=dw;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});const et=ne,qn=C,fw={message:({params:{min:e,max:t}})=>t===void 0?(0,et.str)`must contain at least ${e} valid item(s)`:(0,et.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,et._)`{minContains: ${e}}`:(0,et._)`{minContains: ${e}, maxContains: ${t}}`},hw={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:fw,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let o,i;const{minContains:c,maxContains:d}=n;a.opts.next?(o=c===void 0?1:c,i=d):o=1;const u=t.const("len",(0,et._)`${s}.length`);if(e.setParams({min:o,max:i}),i===void 0&&o===0){(0,qn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&o>i){(0,qn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,qn.alwaysValidSchema)(a,r)){let g=(0,et._)`${u} >= ${o}`;i!==void 0&&(g=(0,et._)`${g} && ${u} <= ${i}`),e.pass(g);return}a.items=!0;const f=t.name("valid");i===void 0&&o===1?y(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),i!==void 0&&t.if((0,et._)`${s}.length > 0`,v)):(t.let(f,!1),v()),e.result(f,()=>e.reset());function v(){const g=t.name("_valid"),_=t.let("count",0);y(g,()=>t.if(g,()=>w(_)))}function y(g,_){t.forRange("i",0,u,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:qn.Type.Num,compositeRule:!0},g),_()})}function w(g){t.code((0,et._)`${g}++`),i===void 0?t.if((0,et._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,et._)`${g} > ${i}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,et._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};Ri.default=hw;var gd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ne,r=C,n=ae;e.error={message:({params:{property:c,depsCount:d,deps:u}})=>{const f=d===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${d},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,u]=a(c);o(c,d),i(c,u)}};function a({schema:c}){const d={},u={};for(const f in c){if(f==="__proto__")continue;const v=Array.isArray(c[f])?d:u;v[f]=c[f]}return[d,u]}function o(c,d=c.schema){const{gen:u,data:f,it:v}=c;if(Object.keys(d).length===0)return;const y=u.let("missing");for(const w in d){const g=d[w];if(g.length===0)continue;const _=(0,n.propertyInData)(u,f,w,v.opts.ownProperties);c.setParams({property:w,depsCount:g.length,deps:g.join(", ")}),v.allErrors?u.if(_,()=>{for(const m of g)(0,n.checkReportMissingProp)(c,m)}):(u.if((0,t._)`${_} && (${(0,n.checkMissingProp)(c,g,y)})`),(0,n.reportMissingProp)(c,y),u.else())}}e.validatePropertyDeps=o;function i(c,d=c.schema){const{gen:u,data:f,keyword:v,it:y}=c,w=u.name("valid");for(const g in d)(0,r.alwaysValidSchema)(y,d[g])||(u.if((0,n.propertyInData)(u,f,g,y.opts.ownProperties),()=>{const _=c.subschema({keyword:v,schemaProp:g},w);c.mergeValidEvaluated(_,w)},()=>u.var(w,!0)),c.ok(w))}e.validateSchemaDeps=i,e.default=s})(gd);var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});const vd=ne,mw=C,pw={message:"property name must be valid",params:({params:e})=>(0,vd._)`{propertyName: ${e.propertyName}}`},yw={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:pw,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,mw.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,vd.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Ni.default=yw;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const Kn=ae,at=ne,$w=Et,Gn=C,_w={message:"must NOT have additional properties",params:({params:e})=>(0,at._)`{additionalProperty: ${e.additionalProperty}}`},gw={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:_w,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:i,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Gn.alwaysValidSchema)(o,r))return;const d=(0,Kn.allSchemaProperties)(n.properties),u=(0,Kn.allSchemaProperties)(n.patternProperties);f(),e.ok((0,at._)`${a} === ${$w.default.errors}`);function f(){t.forIn("key",s,_=>{!d.length&&!u.length?w(_):t.if(v(_),()=>w(_))})}function v(_){let m;if(d.length>8){const E=(0,Gn.schemaRefOrVal)(o,n.properties,"properties");m=(0,Kn.isOwnProperty)(t,E,_)}else d.length?m=(0,at.or)(...d.map(E=>(0,at._)`${_} === ${E}`)):m=at.nil;return u.length&&(m=(0,at.or)(m,...u.map(E=>(0,at._)`${(0,Kn.usePattern)(e,E)}.test(${_})`))),(0,at.not)(m)}function y(_){t.code((0,at._)`delete ${s}[${_}]`)}function w(_){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){y(_);return}if(r===!1){e.setParams({additionalProperty:_}),e.error(),i||t.break();return}if(typeof r=="object"&&!(0,Gn.alwaysValidSchema)(o,r)){const m=t.name("valid");c.removeAdditional==="failing"?(g(_,m,!1),t.if((0,at.not)(m),()=>{e.reset(),y(_)})):(g(_,m),i||t.if((0,at.not)(m),()=>t.break()))}}function g(_,m,E){const R={keyword:"additionalProperties",dataProp:_,dataPropType:Gn.Type.Str};E===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(R,m)}}};Vs.default=gw;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});const vw=dt,qc=ae,ca=C,Kc=Vs,ww={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Kc.default.code(new vw.KeywordCxt(a,Kc.default,"additionalProperties"));const o=(0,qc.allSchemaProperties)(r);for(const f of o)a.definedProperties.add(f);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=ca.mergeEvaluated.props(t,(0,ca.toHash)(o),a.props));const i=o.filter(f=>!(0,ca.alwaysValidSchema)(a,r[f]));if(i.length===0)return;const c=t.name("valid");for(const f of i)d(f)?u(f):(t.if((0,qc.propertyInData)(t,s,f,a.opts.ownProperties)),u(f),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function d(f){return a.opts.useDefaults&&!a.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};Oi.default=ww;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const Gc=ae,Hn=ne,Hc=C,Wc=C,Ew={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,i=(0,Gc.allSchemaProperties)(r),c=i.filter(g=>(0,Hc.alwaysValidSchema)(a,r[g]));if(i.length===0||c.length===i.length&&(!a.opts.unevaluated||a.props===!0))return;const d=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");a.props!==!0&&!(a.props instanceof Hn.Name)&&(a.props=(0,Wc.evaluatedPropsToName)(t,a.props));const{props:f}=a;v();function v(){for(const g of i)d&&y(g),a.allErrors?w(g):(t.var(u,!0),w(g),t.if(u))}function y(g){for(const _ in d)new RegExp(g).test(_)&&(0,Hc.checkStrictMode)(a,`property ${_} matches pattern ${g} (use allowMatchingProperties)`)}function w(g){t.forIn("key",n,_=>{t.if((0,Hn._)`${(0,Gc.usePattern)(e,g)}.test(${_})`,()=>{const m=c.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:_,dataPropType:Wc.Type.Str},u),a.opts.unevaluated&&f!==!0?t.assign((0,Hn._)`${f}[${_}]`,!0):!m&&!a.allErrors&&t.if((0,Hn.not)(u),()=>t.break())})})}}};Ii.default=Ew;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});const bw=C,Sw={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,bw.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ti.default=Sw;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});const Pw=ae,Rw={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Pw.validateUnion,error:{message:"must match a schema in anyOf"}};ji.default=Rw;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});const ls=ne,Nw=C,Ow={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ls._)`{passingSchemas: ${e.passing}}`},Iw={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ow,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),i=t.let("passing",null),c=t.name("_valid");e.setParams({passing:i}),t.block(d),e.result(o,()=>e.reset(),()=>e.error(!0));function d(){a.forEach((u,f)=>{let v;(0,Nw.alwaysValidSchema)(s,u)?t.var(c,!0):v=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,ls._)`${c} && ${o}`).assign(o,!1).assign(i,(0,ls._)`[${i}, ${f}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(i,f),v&&e.mergeEvaluated(v,ls.Name)})})}}};ki.default=Iw;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});const Tw=C,jw={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,o)=>{if((0,Tw.alwaysValidSchema)(n,a))return;const i=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(i)})}};Ai.default=jw;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});const Ps=ne,wd=C,kw={message:({params:e})=>(0,Ps.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Ps._)`{failingKeyword: ${e.ifClause}}`},Aw={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:kw,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,wd.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Bc(n,"then"),a=Bc(n,"else");if(!s&&!a)return;const o=t.let("valid",!0),i=t.name("_valid");if(c(),e.reset(),s&&a){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(i,d("then",u),d("else",u))}else s?t.if(i,d("then")):t.if((0,Ps.not)(i),d("else"));e.pass(o,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);e.mergeEvaluated(u)}function d(u,f){return()=>{const v=e.subschema({keyword:u},i);t.assign(o,i),e.mergeValidEvaluated(v,o),f?t.assign(f,(0,Ps._)`${u}`):e.setParams({ifClause:u})}}}};function Bc(e,t){const r=e.schema[t];return r!==void 0&&!(0,wd.alwaysValidSchema)(e,r)}Ci.default=Aw;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});const Cw=C,Dw={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Cw.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Di.default=Dw;Object.defineProperty(bi,"__esModule",{value:!0});const Mw=Xr,Lw=Si,Fw=xr,Vw=Pi,zw=Ri,Uw=gd,qw=Ni,Kw=Vs,Gw=Oi,Hw=Ii,Ww=Ti,Bw=ji,Yw=ki,Jw=Ai,Xw=Ci,xw=Di;function Qw(e=!1){const t=[Ww.default,Bw.default,Yw.default,Jw.default,Xw.default,xw.default,qw.default,Kw.default,Uw.default,Gw.default,Hw.default];return e?t.push(Lw.default,Vw.default):t.push(Mw.default,Fw.default),t.push(zw.default),t}bi.default=Qw;var Mi={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});const ve=ne,Zw={message:({schemaCode:e})=>(0,ve.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ve._)`{format: ${e}}`},eE={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Zw,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:i}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:f}=i;if(!c.validateFormats)return;s?v():y();function v(){const w=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),g=r.const("fDef",(0,ve._)`${w}[${o}]`),_=r.let("fType"),m=r.let("format");r.if((0,ve._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(_,(0,ve._)`${g}.type || "string"`).assign(m,(0,ve._)`${g}.validate`),()=>r.assign(_,(0,ve._)`"string"`).assign(m,g)),e.fail$data((0,ve.or)(E(),R()));function E(){return c.strictSchema===!1?ve.nil:(0,ve._)`${o} && !${m}`}function R(){const N=u.$async?(0,ve._)`(${g}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,ve._)`${m}(${n})`,O=(0,ve._)`(typeof ${m} == "function" ? ${N} : ${m}.test(${n}))`;return(0,ve._)`${m} && ${m} !== true && ${_} === ${t} && !${O}`}}function y(){const w=f.formats[a];if(!w){E();return}if(w===!0)return;const[g,_,m]=R(w);g===t&&e.pass(N());function E(){if(c.strictSchema===!1){f.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function R(O){const K=O instanceof RegExp?(0,ve.regexpCode)(O):c.code.formats?(0,ve._)`${c.code.formats}${(0,ve.getProperty)(a)}`:void 0,x=r.scopeValue("formats",{key:a,ref:O,code:K});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,ve._)`${x}.validate`]:["string",O,x]}function N(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!u.$async)throw new Error("async format in sync schema");return(0,ve._)`await ${m}(${n})`}return typeof _=="function"?(0,ve._)`${m}(${n})`:(0,ve._)`${m}.test(${n})`}}}};Li.default=eE;Object.defineProperty(Mi,"__esModule",{value:!0});const tE=Li,rE=[tE.default];Mi.default=rE;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.contentVocabulary=Kr.metadataVocabulary=void 0;Kr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Kr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ci,"__esModule",{value:!0});const nE=li,sE=di,aE=bi,oE=Mi,Yc=Kr,iE=[nE.default,sE.default,(0,aE.default)(),oE.default,Yc.metadataVocabulary,Yc.contentVocabulary];ci.default=iE;var Fi={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.DiscrError=void 0;var Jc;(function(e){e.Tag="tag",e.Mapping="mapping"})(Jc||(zs.DiscrError=Jc={}));Object.defineProperty(Fi,"__esModule",{value:!0});const jr=ne,za=zs,Xc=He,cE=Jr,lE=C,uE={message:({params:{discrError:e,tagName:t}})=>e===za.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,jr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},dE={keyword:"discriminator",type:"object",schemaType:"object",error:uE,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,jr._)`${r}${(0,jr.getProperty)(i)}`);t.if((0,jr._)`typeof ${d} == "string"`,()=>u(),()=>e.error(!1,{discrError:za.DiscrError.Tag,tag:d,tagName:i})),e.ok(c);function u(){const y=v();t.if(!1);for(const w in y)t.elseIf((0,jr._)`${d} === ${w}`),t.assign(c,f(y[w]));t.else(),e.error(!1,{discrError:za.DiscrError.Mapping,tag:d,tagName:i}),t.endIf()}function f(y){const w=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:y},w);return e.mergeEvaluated(g,jr.Name),w}function v(){var y;const w={},g=m(s);let _=!0;for(let N=0;N<o.length;N++){let O=o[N];if(O!=null&&O.$ref&&!(0,lE.schemaHasRulesButRef)(O,a.self.RULES)){const x=O.$ref;if(O=Xc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,x),O instanceof Xc.SchemaEnv&&(O=O.schema),O===void 0)throw new cE.default(a.opts.uriResolver,a.baseId,x)}const K=(y=O==null?void 0:O.properties)===null||y===void 0?void 0:y[i];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);_=_&&(g||m(O)),E(K,N)}if(!_)throw new Error(`discriminator: "${i}" must be required`);return w;function m({required:N}){return Array.isArray(N)&&N.includes(i)}function E(N,O){if(N.const)R(N.const,O);else if(N.enum)for(const K of N.enum)R(K,O);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function R(N,O){if(typeof N!="string"||N in w)throw new Error(`discriminator: "${i}" values must be unique strings`);w[N]=O}}}};Fi.default=dE;const fE="http://json-schema.org/draft-07/schema#",hE="http://json-schema.org/draft-07/schema#",mE="Core schema meta-schema",pE={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},yE=["object","boolean"],$E={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},_E={$schema:fE,$id:hE,title:mE,definitions:pE,type:yE,properties:$E,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Du,n=ci,s=Fi,a=_E,o=["/properties"],i="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const w=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(w,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=dt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var u=ne;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=Tn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var v=Jr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(Aa,Aa.exports);var gE=Aa.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=gE,r=ne,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:i,schemaCode:c})=>(0,r.str)`should be ${s[i].okStr} ${c}`,params:({keyword:i,schemaCode:c})=>(0,r._)`{comparison: ${s[i].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(i){const{gen:c,data:d,schemaCode:u,keyword:f,it:v}=i,{opts:y,self:w}=v;if(!y.validateFormats)return;const g=new t.KeywordCxt(v,w.RULES.all.format.definition,"format");g.$data?_():m();function _(){const R=c.scopeValue("formats",{ref:w.formats,code:y.code.formats}),N=c.const("fmt",(0,r._)`${R}[${g.schemaCode}]`);i.fail$data((0,r.or)((0,r._)`typeof ${N} != "object"`,(0,r._)`${N} instanceof RegExp`,(0,r._)`typeof ${N}.compare != "function"`,E(N)))}function m(){const R=g.schema,N=w.formats[R];if(!N||N===!0)return;if(typeof N!="object"||N instanceof RegExp||typeof N.compare!="function")throw new Error(`"${f}": format "${R}" does not define "compare" function`);const O=c.scopeValue("formats",{key:R,ref:N,code:y.code.formats?(0,r._)`${y.code.formats}${(0,r.getProperty)(R)}`:void 0});i.fail$data(E(O))}function E(R){return(0,r._)`${R}.compare(${d}, ${u}) ${s[f].fail} 0`}},dependencies:["format"]};const o=i=>(i.addKeyword(e.formatLimitDefinition),i);e.default=o})(Cu);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Au,n=Cu,s=ne,a=new s.Name("fullFormats"),o=new s.Name("fastFormats"),i=(d,u={keywords:!0})=>{if(Array.isArray(u))return c(d,u,r.fullFormats,a),d;const[f,v]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,a],y=u.formats||r.formatNames;return c(d,y,f,v),u.keywords&&(0,n.default)(d),d};i.get=(d,u="full")=>{const v=(u==="fast"?r.fastFormats:r.fullFormats)[d];if(!v)throw new Error(`Unknown format "${d}"`);return v};function c(d,u,f,v){var y,w;(y=(w=d.opts.code).formats)!==null&&y!==void 0||(w.formats=(0,s._)`require("ajv-formats/dist/formats").${v}`);for(const g of u)d.addFormat(g,f[g])}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i})(ka,ka.exports);var vE=ka.exports;const wE=Al(vE),EE=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!bE(s,a)&&n||Object.defineProperty(e,r,a)},bE=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},SE=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},PE=(e,t)=>`/* Wrapped ${e}*/
${t}`,RE=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),NE=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),OE=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=PE.bind(null,n,t.toString());Object.defineProperty(s,"name",NE);const{writable:a,enumerable:o,configurable:i}=RE;Object.defineProperty(e,"toString",{value:s,writable:a,enumerable:o,configurable:i})};function IE(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const s of Reflect.ownKeys(t))EE(e,t,s,r);return SE(e,t),OE(e,t,n),e}const xc=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:s=!1,after:a=!0}=t;if(r<0||n<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!s&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,i,c;const d=function(...u){const f=this,v=()=>{o=void 0,i&&(clearTimeout(i),i=void 0),a&&(c=e.apply(f,u))},y=()=>{i=void 0,o&&(clearTimeout(o),o=void 0),a&&(c=e.apply(f,u))},w=s&&!o;return clearTimeout(o),o=setTimeout(v,r),n>0&&n!==Number.POSITIVE_INFINITY&&!i&&(i=setTimeout(y,n)),w&&(c=e.apply(f,u)),c};return IE(d,e),d.cancel=()=>{o&&(clearTimeout(o),o=void 0),i&&(clearTimeout(i),i=void 0)},d};var Ua={exports:{}};const TE="2.0.0",Ed=256,jE=Number.MAX_SAFE_INTEGER||9007199254740991,kE=16,AE=Ed-6,CE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Us={MAX_LENGTH:Ed,MAX_SAFE_COMPONENT_LENGTH:kE,MAX_SAFE_BUILD_LENGTH:AE,MAX_SAFE_INTEGER:jE,RELEASE_TYPES:CE,SEMVER_SPEC_VERSION:TE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const DE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var qs=DE;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=Us,a=qs;t=e.exports={};const o=t.re=[],i=t.safeRe=[],c=t.src=[],d=t.safeSrc=[],u=t.t={};let f=0;const v="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",s],[v,n]],w=_=>{for(const[m,E]of y)_=_.split(`${m}*`).join(`${m}{0,${E}}`).split(`${m}+`).join(`${m}{1,${E}}`);return _},g=(_,m,E)=>{const R=w(m),N=f++;a(_,N,m),u[_]=N,c[N]=m,d[N]=R,o[N]=new RegExp(m,E?"g":void 0),i[N]=new RegExp(R,E?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${v}*`),g("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${v}+`),g("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),g("FULL",`^${c[u.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),g("LOOSE",`^${c[u.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),g("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[u.COERCE],!0),g("COERCERTLFULL",c[u.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ua,Ua.exports);var kn=Ua.exports;const ME=Object.freeze({loose:!0}),LE=Object.freeze({}),FE=e=>e?typeof e!="object"?ME:e:LE;var Vi=FE;const Qc=/^[0-9]+$/,bd=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const r=Qc.test(e),n=Qc.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},VE=(e,t)=>bd(t,e);var Sd={compareIdentifiers:bd,rcompareIdentifiers:VE};const Wn=qs,{MAX_LENGTH:Zc,MAX_SAFE_INTEGER:Bn}=Us,{safeRe:Yn,t:Jn}=kn,zE=Vi,{compareIdentifiers:la}=Sd;let UE=class pt{constructor(t,r){if(r=zE(r),t instanceof pt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Zc)throw new TypeError(`version is longer than ${Zc} characters`);Wn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Yn[Jn.LOOSE]:Yn[Jn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Bn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Bn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Bn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<Bn)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Wn("SemVer.compare",this.version,this.options,t),!(t instanceof pt)){if(typeof t=="string"&&t===this.version)return 0;t=new pt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof pt||(t=new pt(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof pt||(t=new pt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(Wn("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return la(n,s)}while(++r)}compareBuild(t){t instanceof pt||(t=new pt(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(Wn("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return la(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?Yn[Jn.PRERELEASELOOSE]:Yn[Jn.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),la(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ze=UE;const el=ze,qE=(e,t,r=!1)=>{if(e instanceof el)return e;try{return new el(e,t)}catch(n){if(!r)return null;throw n}};var Qr=qE;const KE=Qr,GE=(e,t)=>{const r=KE(e,t);return r?r.version:null};var HE=GE;const WE=Qr,BE=(e,t)=>{const r=WE(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var YE=BE;const tl=ze,JE=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new tl(e instanceof tl?e.version:e,r).inc(t,n,s).version}catch{return null}};var XE=JE;const rl=Qr,xE=(e,t)=>{const r=rl(e,null,!0),n=rl(t,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,o=a?r:n,i=a?n:r,c=!!o.prerelease.length;if(!!i.prerelease.length&&!c){if(!i.patch&&!i.minor)return"major";if(i.compareMain(o)===0)return i.minor&&!i.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var QE=xE;const ZE=ze,eb=(e,t)=>new ZE(e,t).major;var tb=eb;const rb=ze,nb=(e,t)=>new rb(e,t).minor;var sb=nb;const ab=ze,ob=(e,t)=>new ab(e,t).patch;var ib=ob;const cb=Qr,lb=(e,t)=>{const r=cb(e,t);return r&&r.prerelease.length?r.prerelease:null};var ub=lb;const nl=ze,db=(e,t,r)=>new nl(e,r).compare(new nl(t,r));var ft=db;const fb=ft,hb=(e,t,r)=>fb(t,e,r);var mb=hb;const pb=ft,yb=(e,t)=>pb(e,t,!0);var $b=yb;const sl=ze,_b=(e,t,r)=>{const n=new sl(e,r),s=new sl(t,r);return n.compare(s)||n.compareBuild(s)};var zi=_b;const gb=zi,vb=(e,t)=>e.sort((r,n)=>gb(r,n,t));var wb=vb;const Eb=zi,bb=(e,t)=>e.sort((r,n)=>Eb(n,r,t));var Sb=bb;const Pb=ft,Rb=(e,t,r)=>Pb(e,t,r)>0;var Ks=Rb;const Nb=ft,Ob=(e,t,r)=>Nb(e,t,r)<0;var Ui=Ob;const Ib=ft,Tb=(e,t,r)=>Ib(e,t,r)===0;var Pd=Tb;const jb=ft,kb=(e,t,r)=>jb(e,t,r)!==0;var Rd=kb;const Ab=ft,Cb=(e,t,r)=>Ab(e,t,r)>=0;var qi=Cb;const Db=ft,Mb=(e,t,r)=>Db(e,t,r)<=0;var Ki=Mb;const Lb=Pd,Fb=Rd,Vb=Ks,zb=qi,Ub=Ui,qb=Ki,Kb=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Lb(e,r,n);case"!=":return Fb(e,r,n);case">":return Vb(e,r,n);case">=":return zb(e,r,n);case"<":return Ub(e,r,n);case"<=":return qb(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Nd=Kb;const Gb=ze,Hb=Qr,{safeRe:Xn,t:xn}=kn,Wb=(e,t)=>{if(e instanceof Gb)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Xn[xn.COERCEFULL]:Xn[xn.COERCE]);else{const c=t.includePrerelease?Xn[xn.COERCERTLFULL]:Xn[xn.COERCERTL];let d;for(;(d=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",i=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Hb(`${n}.${s}.${a}${o}${i}`,t)};var Bb=Wb;class Yb{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var Jb=Yb,ua,al;function ht(){if(al)return ua;al=1;const e=/\s+/g;class t{constructor(k,L){if(L=s(L),k instanceof t)return k.loose===!!L.loose&&k.includePrerelease===!!L.includePrerelease?k:new t(k.raw,L);if(k instanceof a)return this.raw=k.value,this.set=[[k]],this.formatted=void 0,this;if(this.options=L,this.loose=!!L.loose,this.includePrerelease=!!L.includePrerelease,this.raw=k.trim().replace(e," "),this.set=this.raw.split("||").map(D=>this.parseRange(D.trim())).filter(D=>D.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const D=this.set[0];if(this.set=this.set.filter(G=>!g(G[0])),this.set.length===0)this.set=[D];else if(this.set.length>1){for(const G of this.set)if(G.length===1&&_(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let k=0;k<this.set.length;k++){k>0&&(this.formatted+="||");const L=this.set[k];for(let D=0;D<L.length;D++)D>0&&(this.formatted+=" "),this.formatted+=L[D].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(k){const D=((this.options.includePrerelease&&y)|(this.options.loose&&w))+":"+k,G=n.get(D);if(G)return G;const M=this.options.loose,P=M?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];k=k.replace(P,H(this.options.includePrerelease)),o("hyphen replace",k),k=k.replace(c[d.COMPARATORTRIM],u),o("comparator trim",k),k=k.replace(c[d.TILDETRIM],f),o("tilde trim",k),k=k.replace(c[d.CARETTRIM],v),o("caret trim",k);let p=k.split(" ").map(h=>E(h,this.options)).join(" ").split(/\s+/).map(h=>z(h,this.options));M&&(p=p.filter(h=>(o("loose invalid filter",h,this.options),!!h.match(c[d.COMPARATORLOOSE])))),o("range list",p);const S=new Map,$=p.map(h=>new a(h,this.options));for(const h of $){if(g(h))return[h];S.set(h.value,h)}S.size>1&&S.has("")&&S.delete("");const l=[...S.values()];return n.set(D,l),l}intersects(k,L){if(!(k instanceof t))throw new TypeError("a Range is required");return this.set.some(D=>m(D,L)&&k.set.some(G=>m(G,L)&&D.every(M=>G.every(P=>M.intersects(P,L)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new i(k,this.options)}catch{return!1}for(let L=0;L<this.set.length;L++)if(ce(this.set[L],k,this.options))return!0;return!1}}ua=t;const r=Jb,n=new r,s=Vi,a=Gs(),o=qs,i=ze,{safeRe:c,t:d,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:v}=kn,{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:w}=Us,g=T=>T.value==="<0.0.0-0",_=T=>T.value==="",m=(T,k)=>{let L=!0;const D=T.slice();let G=D.pop();for(;L&&D.length;)L=D.every(M=>G.intersects(M,k)),G=D.pop();return L},E=(T,k)=>(T=T.replace(c[d.BUILD],""),o("comp",T,k),T=K(T,k),o("caret",T),T=N(T,k),o("tildes",T),T=pe(T,k),o("xrange",T),T=we(T,k),o("stars",T),T),R=T=>!T||T.toLowerCase()==="x"||T==="*",N=(T,k)=>T.trim().split(/\s+/).map(L=>O(L,k)).join(" "),O=(T,k)=>{const L=k.loose?c[d.TILDELOOSE]:c[d.TILDE];return T.replace(L,(D,G,M,P,p)=>{o("tilde",T,D,G,M,P,p);let S;return R(G)?S="":R(M)?S=`>=${G}.0.0 <${+G+1}.0.0-0`:R(P)?S=`>=${G}.${M}.0 <${G}.${+M+1}.0-0`:p?(o("replaceTilde pr",p),S=`>=${G}.${M}.${P}-${p} <${G}.${+M+1}.0-0`):S=`>=${G}.${M}.${P} <${G}.${+M+1}.0-0`,o("tilde return",S),S})},K=(T,k)=>T.trim().split(/\s+/).map(L=>x(L,k)).join(" "),x=(T,k)=>{o("caret",T,k);const L=k.loose?c[d.CARETLOOSE]:c[d.CARET],D=k.includePrerelease?"-0":"";return T.replace(L,(G,M,P,p,S)=>{o("caret",T,G,M,P,p,S);let $;return R(M)?$="":R(P)?$=`>=${M}.0.0${D} <${+M+1}.0.0-0`:R(p)?M==="0"?$=`>=${M}.${P}.0${D} <${M}.${+P+1}.0-0`:$=`>=${M}.${P}.0${D} <${+M+1}.0.0-0`:S?(o("replaceCaret pr",S),M==="0"?P==="0"?$=`>=${M}.${P}.${p}-${S} <${M}.${P}.${+p+1}-0`:$=`>=${M}.${P}.${p}-${S} <${M}.${+P+1}.0-0`:$=`>=${M}.${P}.${p}-${S} <${+M+1}.0.0-0`):(o("no pr"),M==="0"?P==="0"?$=`>=${M}.${P}.${p}${D} <${M}.${P}.${+p+1}-0`:$=`>=${M}.${P}.${p}${D} <${M}.${+P+1}.0-0`:$=`>=${M}.${P}.${p} <${+M+1}.0.0-0`),o("caret return",$),$})},pe=(T,k)=>(o("replaceXRanges",T,k),T.split(/\s+/).map(L=>_e(L,k)).join(" ")),_e=(T,k)=>{T=T.trim();const L=k.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return T.replace(L,(D,G,M,P,p,S)=>{o("xRange",T,D,G,M,P,p,S);const $=R(M),l=$||R(P),h=l||R(p),b=h;return G==="="&&b&&(G=""),S=k.includePrerelease?"-0":"",$?G===">"||G==="<"?D="<0.0.0-0":D="*":G&&b?(l&&(P=0),p=0,G===">"?(G=">=",l?(M=+M+1,P=0,p=0):(P=+P+1,p=0)):G==="<="&&(G="<",l?M=+M+1:P=+P+1),G==="<"&&(S="-0"),D=`${G+M}.${P}.${p}${S}`):l?D=`>=${M}.0.0${S} <${+M+1}.0.0-0`:h&&(D=`>=${M}.${P}.0${S} <${M}.${+P+1}.0-0`),o("xRange return",D),D})},we=(T,k)=>(o("replaceStars",T,k),T.trim().replace(c[d.STAR],"")),z=(T,k)=>(o("replaceGTE0",T,k),T.trim().replace(c[k.includePrerelease?d.GTE0PRE:d.GTE0],"")),H=T=>(k,L,D,G,M,P,p,S,$,l,h,b)=>(R(D)?L="":R(G)?L=`>=${D}.0.0${T?"-0":""}`:R(M)?L=`>=${D}.${G}.0${T?"-0":""}`:P?L=`>=${L}`:L=`>=${L}${T?"-0":""}`,R($)?S="":R(l)?S=`<${+$+1}.0.0-0`:R(h)?S=`<${$}.${+l+1}.0-0`:b?S=`<=${$}.${l}.${h}-${b}`:T?S=`<${$}.${l}.${+h+1}-0`:S=`<=${S}`,`${L} ${S}`.trim()),ce=(T,k,L)=>{for(let D=0;D<T.length;D++)if(!T[D].test(k))return!1;if(k.prerelease.length&&!L.includePrerelease){for(let D=0;D<T.length;D++)if(o(T[D].semver),T[D].semver!==a.ANY&&T[D].semver.prerelease.length>0){const G=T[D].semver;if(G.major===k.major&&G.minor===k.minor&&G.patch===k.patch)return!0}return!1}return!0};return ua}var da,ol;function Gs(){if(ol)return da;ol=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=r(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const f=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],v=u.match(f);if(!v)throw new TypeError(`Invalid comparator: ${u}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new i(v[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new i(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||a(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||a(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}da=t;const r=Vi,{safeRe:n,t:s}=kn,a=Nd,o=qs,i=ze,c=ht();return da}const Xb=ht(),xb=(e,t,r)=>{try{t=new Xb(t,r)}catch{return!1}return t.test(e)};var Hs=xb;const Qb=ht(),Zb=(e,t)=>new Qb(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var eS=Zb;const tS=ze,rS=ht(),nS=(e,t,r)=>{let n=null,s=null,a=null;try{a=new rS(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new tS(n,r))}),n};var sS=nS;const aS=ze,oS=ht(),iS=(e,t,r)=>{let n=null,s=null,a=null;try{a=new oS(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new aS(n,r))}),n};var cS=iS;const fa=ze,lS=ht(),il=Ks,uS=(e,t)=>{e=new lS(e,t);let r=new fa("0.0.0");if(e.test(r)||(r=new fa("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(o=>{const i=new fa(o.semver.version);switch(o.operator){case">":i.prerelease.length===0?i.patch++:i.prerelease.push(0),i.raw=i.format();case"":case">=":(!a||il(i,a))&&(a=i);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!r||il(r,a))&&(r=a)}return r&&e.test(r)?r:null};var dS=uS;const fS=ht(),hS=(e,t)=>{try{return new fS(e,t).range||"*"}catch{return null}};var mS=hS;const pS=ze,Od=Gs(),{ANY:yS}=Od,$S=ht(),_S=Hs,cl=Ks,ll=Ui,gS=Ki,vS=qi,wS=(e,t,r,n)=>{e=new pS(e,n),t=new $S(t,n);let s,a,o,i,c;switch(r){case">":s=cl,a=gS,o=ll,i=">",c=">=";break;case"<":s=ll,a=vS,o=cl,i="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(_S(e,t,n))return!1;for(let d=0;d<t.set.length;++d){const u=t.set[d];let f=null,v=null;if(u.forEach(y=>{y.semver===yS&&(y=new Od(">=0.0.0")),f=f||y,v=v||y,s(y.semver,f.semver,n)?f=y:o(y.semver,v.semver,n)&&(v=y)}),f.operator===i||f.operator===c||(!v.operator||v.operator===i)&&a(e,v.semver))return!1;if(v.operator===c&&o(e,v.semver))return!1}return!0};var Gi=wS;const ES=Gi,bS=(e,t,r)=>ES(e,t,">",r);var SS=bS;const PS=Gi,RS=(e,t,r)=>PS(e,t,"<",r);var NS=RS;const ul=ht(),OS=(e,t,r)=>(e=new ul(e,r),t=new ul(t,r),e.intersects(t,r));var IS=OS;const TS=Hs,jS=ft;var kS=(e,t,r)=>{const n=[];let s=null,a=null;const o=e.sort((u,f)=>jS(u,f,r));for(const u of o)TS(u,t,r)?(a=u,s||(s=u)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const i=[];for(const[u,f]of n)u===f?i.push(u):!f&&u===o[0]?i.push("*"):f?u===o[0]?i.push(`<=${f}`):i.push(`${u} - ${f}`):i.push(`>=${u}`);const c=i.join(" || "),d=typeof t.raw=="string"?t.raw:String(t);return c.length<d.length?c:t};const dl=ht(),Hi=Gs(),{ANY:ha}=Hi,an=Hs,Wi=ft,AS=(e,t,r={})=>{if(e===t)return!0;e=new dl(e,r),t=new dl(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const o=DS(s,a,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},CS=[new Hi(">=0.0.0-0")],fl=[new Hi(">=0.0.0")],DS=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===ha){if(t.length===1&&t[0].semver===ha)return!0;r.includePrerelease?e=CS:e=fl}if(t.length===1&&t[0].semver===ha){if(r.includePrerelease)return!0;t=fl}const n=new Set;let s,a;for(const y of e)y.operator===">"||y.operator===">="?s=hl(s,y,r):y.operator==="<"||y.operator==="<="?a=ml(a,y,r):n.add(y.semver);if(n.size>1)return null;let o;if(s&&a){if(o=Wi(s.semver,a.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const y of n){if(s&&!an(y,String(s),r)||a&&!an(y,String(a),r))return null;for(const w of t)if(!an(y,String(w),r))return!1;return!0}let i,c,d,u,f=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,v=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const y of t){if(u=u||y.operator===">"||y.operator===">=",d=d||y.operator==="<"||y.operator==="<=",s){if(v&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===v.major&&y.semver.minor===v.minor&&y.semver.patch===v.patch&&(v=!1),y.operator===">"||y.operator===">="){if(i=hl(s,y,r),i===y&&i!==s)return!1}else if(s.operator===">="&&!an(s.semver,String(y),r))return!1}if(a){if(f&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===f.major&&y.semver.minor===f.minor&&y.semver.patch===f.patch&&(f=!1),y.operator==="<"||y.operator==="<="){if(c=ml(a,y,r),c===y&&c!==a)return!1}else if(a.operator==="<="&&!an(a.semver,String(y),r))return!1}if(!y.operator&&(a||s)&&o!==0)return!1}return!(s&&d&&!a&&o!==0||a&&u&&!s&&o!==0||v||f)},hl=(e,t,r)=>{if(!e)return t;const n=Wi(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},ml=(e,t,r)=>{if(!e)return t;const n=Wi(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var MS=AS;const ma=kn,pl=Us,LS=ze,yl=Sd,FS=Qr,VS=HE,zS=YE,US=XE,qS=QE,KS=tb,GS=sb,HS=ib,WS=ub,BS=ft,YS=mb,JS=$b,XS=zi,xS=wb,QS=Sb,ZS=Ks,eP=Ui,tP=Pd,rP=Rd,nP=qi,sP=Ki,aP=Nd,oP=Bb,iP=Gs(),cP=ht(),lP=Hs,uP=eS,dP=sS,fP=cS,hP=dS,mP=mS,pP=Gi,yP=SS,$P=NS,_P=IS,gP=kS,vP=MS;var wP={parse:FS,valid:VS,clean:zS,inc:US,diff:qS,major:KS,minor:GS,patch:HS,prerelease:WS,compare:BS,rcompare:YS,compareLoose:JS,compareBuild:XS,sort:xS,rsort:QS,gt:ZS,lt:eP,eq:tP,neq:rP,gte:nP,lte:sP,cmp:aP,coerce:oP,Comparator:iP,Range:cP,satisfies:lP,toComparators:uP,maxSatisfying:dP,minSatisfying:fP,minVersion:hP,validRange:mP,outside:pP,gtr:yP,ltr:$P,intersects:_P,simplifyRange:gP,subset:vP,SemVer:LS,re:ma.re,src:ma.src,tokens:ma.t,SEMVER_SPEC_VERSION:pl.SEMVER_SPEC_VERSION,RELEASE_TYPES:pl.RELEASE_TYPES,compareIdentifiers:yl.compareIdentifiers,rcompareIdentifiers:yl.rcompareIdentifiers};const Ir=Al(wP),EP=Object.prototype.toString,bP="[object Uint8Array]",SP="[object ArrayBuffer]";function Id(e,t,r){return e?e.constructor===t?!0:EP.call(e)===r:!1}function Td(e){return Id(e,Uint8Array,bP)}function PP(e){return Id(e,ArrayBuffer,SP)}function RP(e){return Td(e)||PP(e)}function NP(e){if(!Td(e))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function OP(e){if(!RP(e))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``)}function pa(e,t){if(e.length===0)return new Uint8Array(0);t??(t=e.reduce((s,a)=>s+a.length,0));const r=new Uint8Array(t);let n=0;for(const s of e)NP(s),r.set(s,n),n+=s.length;return r}const Qn={utf8:new globalThis.TextDecoder("utf8")};function Zn(e,t="utf8"){return OP(e),Qn[t]??(Qn[t]=new globalThis.TextDecoder(t)),Qn[t].decode(e)}function IP(e){if(typeof e!="string")throw new TypeError(`Expected \`string\`, got \`${typeof e}\``)}const TP=new globalThis.TextEncoder;function es(e){return IP(e),TP.encode(e)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const ya="aes-256-cbc",Vt=()=>Object.create(null),$l=e=>e!==void 0,$a=(e,t)=>{const r=new Set(["undefined","symbol","function"]),n=typeof t;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${e}\` is not allowed as it's not supported by JSON`)},Ut="__internal__",_a=`${Ut}.migrations.version`;var Kt,it,Ue,Qe,_r,gr,Vr,yt,Re,jd,kd,Ad,Cd,Dd,Md,Ld,Fd;class jP{constructor(t={}){mt(this,Re);W(this,"path");W(this,"events");mt(this,Kt);mt(this,it);mt(this,Ue);mt(this,Qe,{});mt(this,_r,!1);mt(this,gr);mt(this,Vr);mt(this,yt);W(this,"_deserialize",t=>JSON.parse(t));W(this,"_serialize",t=>JSON.stringify(t,void 0,"	"));const r=bt(this,Re,jd).call(this,t);Be(this,Ue,r),bt(this,Re,kd).call(this,r),bt(this,Re,Cd).call(this,r),bt(this,Re,Dd).call(this,r),this.events=new EventTarget,Be(this,it,r.encryptionKey),this.path=bt(this,Re,Md).call(this,r),bt(this,Re,Ld).call(this,r),r.watch&&this._watch()}get(t,r){if(Q(this,Ue).accessPropertiesByDotNotation)return this._get(t,r);const{store:n}=this;return t in n?n[t]:r}set(t,r){if(typeof t!="string"&&typeof t!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof t}`);if(typeof t!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(t))throw new TypeError(`Please don't use the ${Ut} key, as it's used to manage this module internal operations.`);const{store:n}=this,s=(a,o)=>{if($a(a,o),Q(this,Ue).accessPropertiesByDotNotation)An(n,a,o);else{if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=o}};if(typeof t=="object"){const a=t;for(const[o,i]of Object.entries(a))s(o,i)}else s(t,r);this.store=n}has(t){return Q(this,Ue).accessPropertiesByDotNotation?Xs(this.store,t):t in this.store}appendToArray(t,r){$a(t,r);const n=Q(this,Ue).accessPropertiesByDotNotation?this._get(t,[]):t in this.store?this.store[t]:[];if(!Array.isArray(n))throw new TypeError(`The key \`${t}\` is already set to a non-array value`);this.set(t,[...n,r])}reset(...t){for(const r of t)$l(Q(this,Qe)[r])&&this.set(r,Q(this,Qe)[r])}delete(t){const{store:r}=this;Q(this,Ue).accessPropertiesByDotNotation?rf(r,t):delete r[t],this.store=r}clear(){const t=Vt();for(const r of Object.keys(Q(this,Qe)))$l(Q(this,Qe)[r])&&($a(r,Q(this,Qe)[r]),Q(this,Ue).accessPropertiesByDotNotation?An(t,r,Q(this,Qe)[r]):t[r]=Q(this,Qe)[r]);this.store=t}onDidChange(t,r){if(typeof t!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof t}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleValueChange(()=>this.get(t),r)}onDidAnyChange(t){if(typeof t!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`);return this._handleStoreChange(t)}get size(){return Object.keys(this.store).filter(r=>!this._isReservedKeyPath(r)).length}get store(){var t;try{const r=Y.readFileSync(this.path,Q(this,it)?null:"utf8"),n=this._decryptData(r),s=this._deserialize(n);return Q(this,_r)||this._validate(s),Object.assign(Vt(),s)}catch(r){if((r==null?void 0:r.code)==="ENOENT")return this._ensureDirectory(),Vt();if(Q(this,Ue).clearInvalidConfig){const n=r;if(n.name==="SyntaxError"||(t=n.message)!=null&&t.startsWith("Config schema violation:"))return Vt()}throw r}}set store(t){if(this._ensureDirectory(),!Xs(t,Ut))try{const r=Y.readFileSync(this.path,Q(this,it)?null:"utf8"),n=this._decryptData(r),s=this._deserialize(n);Xs(s,Ut)&&An(t,Ut,Xi(s,Ut))}catch{}Q(this,_r)||this._validate(t),this._write(t),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[t,r]of Object.entries(this.store))this._isReservedKeyPath(t)||(yield[t,r])}_closeWatcher(){Q(this,gr)&&(Q(this,gr).close(),Be(this,gr,void 0)),Q(this,Vr)&&(Y.unwatchFile(this.path),Be(this,Vr,!1)),Be(this,yt,void 0)}_decryptData(t){if(!Q(this,it))return typeof t=="string"?t:Zn(t);try{const r=t.slice(0,16),n=cr.pbkdf2Sync(Q(this,it),r,1e4,32,"sha512"),s=cr.createDecipheriv(ya,n,r),a=t.slice(17),o=typeof a=="string"?es(a):a;return Zn(pa([s.update(o),s.final()]))}catch{try{const r=t.slice(0,16),n=cr.pbkdf2Sync(Q(this,it),r.toString(),1e4,32,"sha512"),s=cr.createDecipheriv(ya,n,r),a=t.slice(17),o=typeof a=="string"?es(a):a;return Zn(pa([s.update(o),s.final()]))}catch{}}return typeof t=="string"?t:Zn(t)}_handleStoreChange(t){let r=this.store;const n=()=>{const s=r,a=this.store;Se.isDeepStrictEqual(a,s)||(r=a,t.call(this,a,s))};return this.events.addEventListener("change",n),()=>{this.events.removeEventListener("change",n)}}_handleValueChange(t,r){let n=t();const s=()=>{const a=n,o=t();Se.isDeepStrictEqual(o,a)||(n=o,r.call(this,o,a))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_validate(t){if(!Q(this,Kt)||Q(this,Kt).call(this,t)||!Q(this,Kt).errors)return;const n=Q(this,Kt).errors.map(({instancePath:s,message:a=""})=>`\`${s.slice(1)}\` ${a}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){Y.mkdirSync(ie.dirname(this.path),{recursive:!0})}_write(t){let r=this._serialize(t);if(Q(this,it)){const n=cr.randomBytes(16),s=cr.pbkdf2Sync(Q(this,it),n,1e4,32,"sha512"),a=cr.createCipheriv(ya,s,n);r=pa([n,es(":"),a.update(es(r)),a.final()])}if(ye.env.SNAP)Y.writeFileSync(this.path,r,{mode:Q(this,Ue).configFileMode});else try{kl(this.path,r,{mode:Q(this,Ue).configFileMode})}catch(n){if((n==null?void 0:n.code)==="EXDEV"){Y.writeFileSync(this.path,r,{mode:Q(this,Ue).configFileMode});return}throw n}}_watch(){if(this._ensureDirectory(),Y.existsSync(this.path)||this._write(Vt()),ye.platform==="win32"||ye.platform==="darwin"){Q(this,yt)??Be(this,yt,xc(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100}));const t=ie.dirname(this.path),r=ie.basename(this.path);Be(this,gr,Y.watch(t,{persistent:!1,encoding:"utf8"},(n,s)=>{s&&s!==r||typeof Q(this,yt)=="function"&&Q(this,yt).call(this)}))}else Q(this,yt)??Be(this,yt,xc(()=>{this.events.dispatchEvent(new Event("change"))},{wait:1e3})),Y.watchFile(this.path,{persistent:!1},(t,r)=>{typeof Q(this,yt)=="function"&&Q(this,yt).call(this)}),Be(this,Vr,!0)}_migrate(t,r,n){let s=this._get(_a,"0.0.0");const a=Object.keys(t).filter(i=>this._shouldPerformMigration(i,s,r));let o=structuredClone(this.store);for(const i of a)try{n&&n(this,{fromVersion:s,toVersion:i,finalVersion:r,versions:a});const c=t[i];c==null||c(this),this._set(_a,i),s=i,o=structuredClone(this.store)}catch(c){this.store=o;try{this._write(o)}catch{}const d=c instanceof Error?c.message:String(c);throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${d}`)}(this._isVersionInRangeFormat(s)||!Ir.eq(s,r))&&this._set(_a,r)}_containsReservedKey(t){return typeof t=="string"?this._isReservedKeyPath(t):!t||typeof t!="object"?!1:this._objectContainsReservedKey(t)}_objectContainsReservedKey(t){if(!t||typeof t!="object")return!1;for(const[r,n]of Object.entries(t))if(this._isReservedKeyPath(r)||this._objectContainsReservedKey(n))return!0;return!1}_isReservedKeyPath(t){return t===Ut||t.startsWith(`${Ut}.`)}_isVersionInRangeFormat(t){return Ir.clean(t)===null}_shouldPerformMigration(t,r,n){return this._isVersionInRangeFormat(t)?r!=="0.0.0"&&Ir.satisfies(r,t)?!1:Ir.satisfies(n,t):!(Ir.lte(t,r)||Ir.gt(t,n))}_get(t,r){return Xi(this.store,t,r)}_set(t,r){const{store:n}=this;An(n,t,r),this.store=n}}Kt=new WeakMap,it=new WeakMap,Ue=new WeakMap,Qe=new WeakMap,_r=new WeakMap,gr=new WeakMap,Vr=new WeakMap,yt=new WeakMap,Re=new WeakSet,jd=function(t){const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...t};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=of(r.projectName,{suffix:r.projectSuffix}).config}return typeof r.fileExtension=="string"&&(r.fileExtension=r.fileExtension.replace(/^\.+/,"")),r},kd=function(t){if(!(t.schema??t.ajvOptions??t.rootSchema))return;if(t.schema&&typeof t.schema!="object")throw new TypeError("The `schema` option must be an object.");const r=wE.default,n=new cg.Ajv2020({allErrors:!0,useDefaults:!0,...t.ajvOptions});r(n);const s={...t.rootSchema,type:"object",properties:t.schema};Be(this,Kt,n.compile(s)),bt(this,Re,Ad).call(this,t.schema)},Ad=function(t){const r=Object.entries(t??{});for(const[n,s]of r){if(!s||typeof s!="object"||!Object.hasOwn(s,"default"))continue;const{default:a}=s;a!==void 0&&(Q(this,Qe)[n]=a)}},Cd=function(t){t.defaults&&Object.assign(Q(this,Qe),t.defaults)},Dd=function(t){t.serialize&&(this._serialize=t.serialize),t.deserialize&&(this._deserialize=t.deserialize)},Md=function(t){const r=typeof t.fileExtension=="string"?t.fileExtension:void 0,n=r?`.${r}`:"";return ie.resolve(t.cwd,`${t.configName??"config"}${n}`)},Ld=function(t){if(t.migrations){bt(this,Re,Fd).call(this,t),this._validate(this.store);return}const r=this.store,n=Object.assign(Vt(),t.defaults??{},r);this._validate(n);try{Ji.deepEqual(r,n)}catch{this.store=n}},Fd=function(t){const{migrations:r,projectVersion:n}=t;if(r){if(!n)throw new Error("Please specify the `projectVersion` option.");Be(this,_r,!0);try{const s=this.store,a=Object.assign(Vt(),t.defaults??{},s);try{Ji.deepEqual(s,a)}catch{this._write(a)}this._migrate(r,n,t.beforeEachMigration)}finally{Be(this,_r,!1)}}};const{app:us,ipcMain:qa,shell:kP}=ee;let _l=!1;const gl=()=>{if(!qa||!us)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:us.getPath("userData"),appVersion:us.getVersion()};return _l||(qa.on("electron-store-get-data",t=>{t.returnValue=e}),_l=!0),e};class Vd extends jP{constructor(t){let r,n;if(ye.type==="renderer"){const s=ee.ipcRenderer.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else qa&&us&&({defaultCwd:r,appVersion:n}=gl());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=ie.isAbsolute(t.cwd)?t.cwd:ie.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){gl()}async openInEditor(){const t=await kP.openPath(this.path);if(t)throw new Error(t)}}const Xe={FILE_TYPE:"files",DIR_TYPE:"directories",FILE_DIR_TYPE:"files_directories",EVERYTHING_TYPE:"all"},Ka={root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:Xe.FILE_TYPE,lstat:!1,depth:2147483648,alwaysStat:!1,highWaterMark:4096};Object.freeze(Ka);const zd="READDIRP_RECURSIVE_ERROR",AP=new Set(["ENOENT","EPERM","EACCES","ELOOP",zd]),vl=[Xe.DIR_TYPE,Xe.EVERYTHING_TYPE,Xe.FILE_DIR_TYPE,Xe.FILE_TYPE],CP=new Set([Xe.DIR_TYPE,Xe.EVERYTHING_TYPE,Xe.FILE_DIR_TYPE]),DP=new Set([Xe.EVERYTHING_TYPE,Xe.FILE_DIR_TYPE,Xe.FILE_TYPE]),MP=e=>AP.has(e.code),LP=process.platform==="win32",wl=e=>!0,El=e=>{if(e===void 0)return wl;if(typeof e=="function")return e;if(typeof e=="string"){const t=e.trim();return r=>r.basename===t}if(Array.isArray(e)){const t=e.map(r=>r.trim());return r=>t.some(n=>r.basename===n)}return wl};class FP extends Qd.Readable{constructor(r={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:r.highWaterMark});W(this,"parents");W(this,"reading");W(this,"parent");W(this,"_stat");W(this,"_maxDepth");W(this,"_wantsDir");W(this,"_wantsFile");W(this,"_wantsEverything");W(this,"_root");W(this,"_isDirent");W(this,"_statsProp");W(this,"_rdOptions");W(this,"_fileFilter");W(this,"_directoryFilter");const n={...Ka,...r},{root:s,type:a}=n;this._fileFilter=El(n.fileFilter),this._directoryFilter=El(n.directoryFilter);const o=n.lstat?Ge.lstat:Ge.stat;LP?this._stat=i=>o(i,{bigint:!0}):this._stat=o,this._maxDepth=n.depth!=null&&Number.isSafeInteger(n.depth)?n.depth:Ka.depth,this._wantsDir=a?CP.has(a):!1,this._wantsFile=a?DP.has(a):!1,this._wantsEverything=a===Xe.EVERYTHING_TYPE,this._root=ie.resolve(s),this._isDirent=!n.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(s,1)],this.reading=!1,this.parent=void 0}async _read(r){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&r>0;){const n=this.parent,s=n&&n.files;if(s&&s.length>0){const{path:a,depth:o}=n,i=s.splice(0,r).map(d=>this._formatEntry(d,a)),c=await Promise.all(i);for(const d of c){if(!d)continue;if(this.destroyed)return;const u=await this._getEntryType(d);u==="directory"&&this._directoryFilter(d)?(o<=this._maxDepth&&this.parents.push(this._exploreDir(d.fullPath,o+1)),this._wantsDir&&(this.push(d),r--)):(u==="file"||this._includeAsFile(d))&&this._fileFilter(d)&&this._wantsFile&&(this.push(d),r--)}}else{const a=this.parents.pop();if(!a){this.push(null);break}if(this.parent=await a,this.destroyed)return}}}catch(n){this.destroy(n)}finally{this.reading=!1}}}async _exploreDir(r,n){let s;try{s=await Ge.readdir(r,this._rdOptions)}catch(a){this._onError(a)}return{files:s,depth:n,path:r}}async _formatEntry(r,n){let s;const a=this._isDirent?r.name:r;try{const o=ie.resolve(ie.join(n,a));s={path:ie.relative(this._root,o),fullPath:o,basename:a},s[this._statsProp]=this._isDirent?r:await this._stat(o)}catch(o){this._onError(o);return}return s}_onError(r){MP(r)&&!this.destroyed?this.emit("warn",r):this.destroy(r)}async _getEntryType(r){if(!r&&this._statsProp in r)return"";const n=r[this._statsProp];if(n.isFile())return"file";if(n.isDirectory())return"directory";if(n&&n.isSymbolicLink()){const s=r.fullPath;try{const a=await Ge.realpath(s),o=await Ge.lstat(a);if(o.isFile())return"file";if(o.isDirectory()){const i=a.length;if(s.startsWith(a)&&s.substr(i,1)===ie.sep){const c=new Error(`Circular symlink detected: "${s}" points to "${a}"`);return c.code=zd,this._onError(c)}return"directory"}}catch(a){return this._onError(a),""}}}_includeAsFile(r){const n=r&&r[this._statsProp];return n&&this._wantsEverything&&!n.isDirectory()}}function VP(e,t={}){let r=t.entryType||t.type;if(r==="both"&&(r=Xe.FILE_DIR_TYPE),r&&(t.type=r),e){if(typeof e!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!vl.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${vl.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return t.root=e,new FP(t)}const zP="data",Ud="end",UP="close",Bi=()=>{},Ws=process.platform,qd=Ws==="win32",qP=Ws==="darwin",KP=Ws==="linux",GP=Ws==="freebsd",HP=Wa.type()==="OS400",$e={ALL:"all",READY:"ready",ADD:"add",CHANGE:"change",ADD_DIR:"addDir",UNLINK:"unlink",UNLINK_DIR:"unlinkDir",RAW:"raw",ERROR:"error"},ot=$e,WP="watch",BP={lstat:Ge.lstat,stat:Ge.stat},vr="listeners",ds="errHandlers",Fr="rawEmitters",YP=[vr,ds,Fr],JP=new Set(["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]),XP=e=>JP.has(B.extname(e).slice(1).toLowerCase()),Ga=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},En=(e,t,r)=>{let n=e[t];n instanceof Set||(e[t]=n=new Set([n])),n.add(r)},xP=e=>t=>{const r=e[t];r instanceof Set?r.clear():delete e[t]},bn=(e,t,r)=>{const n=e[t];n instanceof Set?n.delete(r):n===r&&delete e[t]},Kd=e=>e instanceof Set?e.size===0:!e,fs=new Map;function bl(e,t,r,n,s){const a=(o,i)=>{r(e),s(o,i,{watchedPath:e}),i&&e!==i&&hs(B.resolve(e,i),vr,B.join(e,i))};try{return Y.watch(e,{persistent:t.persistent},a)}catch(o){n(o);return}}const hs=(e,t,r,n,s)=>{const a=fs.get(e);a&&Ga(a[t],o=>{o(r,n,s)})},QP=(e,t,r,n)=>{const{listener:s,errHandler:a,rawEmitter:o}=n;let i=fs.get(t),c;if(!r.persistent)return c=bl(e,r,s,a,o),c?c.close.bind(c):void 0;if(i)En(i,vr,s),En(i,ds,a),En(i,Fr,o);else{if(c=bl(e,r,hs.bind(null,t,vr),a,hs.bind(null,t,Fr)),!c)return;c.on(ot.ERROR,async d=>{const u=hs.bind(null,t,ds);if(i&&(i.watcherUnusable=!0),qd&&d.code==="EPERM")try{await(await Ge.open(e,"r")).close(),u(d)}catch{}else u(d)}),i={listeners:s,errHandlers:a,rawEmitters:o,watcher:c},fs.set(t,i)}return()=>{bn(i,vr,s),bn(i,ds,a),bn(i,Fr,o),Kd(i.listeners)&&(i.watcher.close(),fs.delete(t),YP.forEach(xP(i)),i.watcher=void 0,Object.freeze(i))}},ga=new Map,ZP=(e,t,r,n)=>{const{listener:s,rawEmitter:a}=n;let o=ga.get(t);const i=o&&o.options;return i&&(i.persistent<r.persistent||i.interval>r.interval)&&(Y.unwatchFile(t),o=void 0),o?(En(o,vr,s),En(o,Fr,a)):(o={listeners:s,rawEmitters:a,options:r,watcher:Y.watchFile(t,r,(c,d)=>{Ga(o.rawEmitters,f=>{f(ot.CHANGE,t,{curr:c,prev:d})});const u=c.mtimeMs;(c.size!==d.size||u>d.mtimeMs||u===0)&&Ga(o.listeners,f=>f(e,c))})},ga.set(t,o)),()=>{bn(o,vr,s),bn(o,Fr,a),Kd(o.listeners)&&(ga.delete(t),Y.unwatchFile(t),o.options=o.watcher=void 0,Object.freeze(o))}};class e1{constructor(t){W(this,"fsw");W(this,"_boundHandleError");this.fsw=t,this._boundHandleError=r=>t._handleError(r)}_watchWithNodeFs(t,r){const n=this.fsw.options,s=B.dirname(t),a=B.basename(t);this.fsw._getWatchedDir(s).add(a);const i=B.resolve(t),c={persistent:n.persistent};r||(r=Bi);let d;if(n.usePolling){const u=n.interval!==n.binaryInterval;c.interval=u&&XP(a)?n.binaryInterval:n.interval,d=ZP(t,i,c,{listener:r,rawEmitter:this.fsw._emitRaw})}else d=QP(t,i,c,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw});return d}_handleFile(t,r,n){if(this.fsw.closed)return;const s=B.dirname(t),a=B.basename(t),o=this.fsw._getWatchedDir(s);let i=r;if(o.has(a))return;const c=async(u,f)=>{if(this.fsw._throttle(WP,t,5)){if(!f||f.mtimeMs===0)try{const v=await Ge.stat(t);if(this.fsw.closed)return;const y=v.atimeMs,w=v.mtimeMs;if((!y||y<=w||w!==i.mtimeMs)&&this.fsw._emit(ot.CHANGE,t,v),(qP||KP||GP)&&i.ino!==v.ino){this.fsw._closeFile(u),i=v;const g=this._watchWithNodeFs(t,c);g&&this.fsw._addPathCloser(u,g)}else i=v}catch{this.fsw._remove(s,a)}else if(o.has(a)){const v=f.atimeMs,y=f.mtimeMs;(!v||v<=y||y!==i.mtimeMs)&&this.fsw._emit(ot.CHANGE,t,f),i=f}}},d=this._watchWithNodeFs(t,c);if(!(n&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle(ot.ADD,t,0))return;this.fsw._emit(ot.ADD,t,r)}return d}async _handleSymlink(t,r,n,s){if(this.fsw.closed)return;const a=t.fullPath,o=this.fsw._getWatchedDir(r);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let i;try{i=await Ge.realpath(n)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(o.has(s)?this.fsw._symlinkPaths.get(a)!==i&&(this.fsw._symlinkPaths.set(a,i),this.fsw._emit(ot.CHANGE,n,t.stats)):(o.add(s),this.fsw._symlinkPaths.set(a,i),this.fsw._emit(ot.ADD,n,t.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(a))return!0;this.fsw._symlinkPaths.set(a,!0)}_handleRead(t,r,n,s,a,o,i){t=B.join(t,"");const c=s?`${t}:${s}`:t;if(i=this.fsw._throttle("readdir",c,1e3),!i)return;const d=this.fsw._getWatchedDir(n.path),u=new Set;let f=this.fsw._readdirp(t,{fileFilter:v=>n.filterPath(v),directoryFilter:v=>n.filterDir(v)});if(f)return f.on(zP,async v=>{if(this.fsw.closed){f=void 0;return}const y=v.path;let w=B.join(t,y);if(u.add(y),!(v.stats.isSymbolicLink()&&await this._handleSymlink(v,t,w,y))){if(this.fsw.closed){f=void 0;return}(y===s||!s&&!d.has(y))&&(this.fsw._incrReadyCount(),w=B.join(a,B.relative(a,w)),this._addToNodeFs(w,r,n,o+1))}}).on(ot.ERROR,this._boundHandleError),new Promise((v,y)=>{if(!f)return y();f.once(Ud,()=>{if(this.fsw.closed){f=void 0;return}const w=i?i.clear():!1;v(void 0),d.getChildren().filter(g=>g!==t&&!u.has(g)).forEach(g=>{this.fsw._remove(t,g)}),f=void 0,w&&this._handleRead(t,!1,n,s,a,o,i)})})}async _handleDir(t,r,n,s,a,o,i){const c=this.fsw._getWatchedDir(B.dirname(t)),d=c.has(B.basename(t));!(n&&this.fsw.options.ignoreInitial)&&!a&&!d&&this.fsw._emit(ot.ADD_DIR,t,r),c.add(B.basename(t)),this.fsw._getWatchedDir(t);let u,f;const v=this.fsw.options.depth;if((v==null||s<=v)&&!this.fsw._symlinkPaths.has(i)){if(!a&&(await this._handleRead(t,n,o,a,t,s,u),this.fsw.closed))return;f=this._watchWithNodeFs(t,(y,w)=>{w&&w.mtimeMs===0||this._handleRead(y,!1,o,a,t,s,u)})}return f}async _addToNodeFs(t,r,n,s,a){const o=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return o(),!1;const i=this.fsw._getWatchHelpers(t);n&&(i.filterPath=c=>n.filterPath(c),i.filterDir=c=>n.filterDir(c));try{const c=await BP[i.statMethod](i.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(i.watchPath,c))return o(),!1;const d=this.fsw.options.followSymlinks;let u;if(c.isDirectory()){const f=B.resolve(t),v=d?await Ge.realpath(t):t;if(this.fsw.closed||(u=await this._handleDir(i.watchPath,c,r,s,a,i,v),this.fsw.closed))return;f!==v&&v!==void 0&&this.fsw._symlinkPaths.set(f,v)}else if(c.isSymbolicLink()){const f=d?await Ge.realpath(t):t;if(this.fsw.closed)return;const v=B.dirname(i.watchPath);if(this.fsw._getWatchedDir(v).add(i.watchPath),this.fsw._emit(ot.ADD,i.watchPath,c),u=await this._handleDir(v,c,r,s,t,i,f),this.fsw.closed)return;f!==void 0&&this.fsw._symlinkPaths.set(B.resolve(t),f)}else u=this._handleFile(i.watchPath,c,r);return o(),u&&this.fsw._addPathCloser(t,u),!1}catch(c){if(this.fsw._handleError(c))return o(),t}}}/*! chokidar - MIT License (c) 2012 Paul Miller (paulmillr.com) */const va="/",t1="//",Gd=".",r1="..",n1="string",s1=/\\/g,Hd=/\/\//g,a1=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,o1=/^\.[/\\]/;function Rs(e){return Array.isArray(e)?e:[e]}const wa=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp);function i1(e){return typeof e=="function"?e:typeof e=="string"?t=>e===t:e instanceof RegExp?t=>e.test(t):typeof e=="object"&&e!==null?t=>{if(e.path===t)return!0;if(e.recursive){const r=B.relative(e.path,t);return r?!r.startsWith("..")&&!B.isAbsolute(r):!1}return!1}:()=>!1}function c1(e){if(typeof e!="string")throw new Error("string expected");e=B.normalize(e),e=e.replace(/\\/g,"/");let t=!1;return e.startsWith("//")&&(t=!0),e=e.replace(Hd,"/"),t&&(e="/"+e),e}function l1(e,t,r){const n=c1(t);for(let s=0;s<e.length;s++){const a=e[s];if(a(n,r))return!0}return!1}function u1(e,t){if(e==null)throw new TypeError("anymatch: specify first argument");const n=Rs(e).map(s=>i1(s));return(s,a)=>l1(n,s,a)}const Sl=e=>{const t=Rs(e).flat();if(!t.every(r=>typeof r===n1))throw new TypeError(`Non-string provided as watch path: ${t}`);return t.map(Wd)},Pl=e=>{let t=e.replace(s1,va),r=!1;return t.startsWith(t1)&&(r=!0),t=t.replace(Hd,va),r&&(t=va+t),t},Wd=e=>Pl(B.normalize(Pl(e))),Rl=(e="")=>t=>typeof t=="string"?Wd(B.isAbsolute(t)?t:B.join(e,t)):t,d1=(e,t)=>B.isAbsolute(e)?e:B.join(t,e),f1=Object.freeze(new Set);class h1{constructor(t,r){W(this,"path");W(this,"_removeWatcher");W(this,"items");this.path=t,this._removeWatcher=r,this.items=new Set}add(t){const{items:r}=this;r&&t!==Gd&&t!==r1&&r.add(t)}async remove(t){const{items:r}=this;if(!r||(r.delete(t),r.size>0))return;const n=this.path;try{await Ge.readdir(n)}catch{this._removeWatcher&&this._removeWatcher(B.dirname(n),B.basename(n))}}has(t){const{items:r}=this;if(r)return r.has(t)}getChildren(){const{items:t}=this;return t?[...t.values()]:[]}dispose(){this.items.clear(),this.path="",this._removeWatcher=Bi,this.items=f1,Object.freeze(this)}}const m1="stat",p1="lstat";class y1{constructor(t,r,n){W(this,"fsw");W(this,"path");W(this,"watchPath");W(this,"fullWatchPath");W(this,"dirParts");W(this,"followSymlinks");W(this,"statMethod");this.fsw=n;const s=t;this.path=t=t.replace(o1,""),this.watchPath=s,this.fullWatchPath=B.resolve(s),this.dirParts=[],this.dirParts.forEach(a=>{a.length>1&&a.pop()}),this.followSymlinks=r,this.statMethod=r?m1:p1}entryPath(t){return B.join(this.watchPath,B.relative(this.watchPath,t.fullPath))}filterPath(t){const{stats:r}=t;if(r&&r.isSymbolicLink())return this.filterDir(t);const n=this.entryPath(t);return this.fsw._isntIgnored(n,r)&&this.fsw._hasReadPermissions(r)}filterDir(t){return this.fsw._isntIgnored(this.entryPath(t),t.stats)}}class $1 extends xd.EventEmitter{constructor(r={}){super();W(this,"closed");W(this,"options");W(this,"_closers");W(this,"_ignoredPaths");W(this,"_throttled");W(this,"_streams");W(this,"_symlinkPaths");W(this,"_watched");W(this,"_pendingWrites");W(this,"_pendingUnlinks");W(this,"_readyCount");W(this,"_emitReady");W(this,"_closePromise");W(this,"_userIgnored");W(this,"_readyEmitted");W(this,"_emitRaw");W(this,"_boundRemove");W(this,"_nodeFsHandler");this.closed=!1,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._streams=new Set,this._symlinkPaths=new Map,this._watched=new Map,this._pendingWrites=new Map,this._pendingUnlinks=new Map,this._readyCount=0,this._readyEmitted=!1;const n=r.awaitWriteFinish,s={stabilityThreshold:2e3,pollInterval:100},a={persistent:!0,ignoreInitial:!1,ignorePermissionErrors:!1,interval:100,binaryInterval:300,followSymlinks:!0,usePolling:!1,atomic:!0,...r,ignored:r.ignored?Rs(r.ignored):Rs([]),awaitWriteFinish:n===!0?s:typeof n=="object"?{...s,...n}:!1};HP&&(a.usePolling=!0),a.atomic===void 0&&(a.atomic=!a.usePolling);const o=process.env.CHOKIDAR_USEPOLLING;if(o!==void 0){const d=o.toLowerCase();d==="false"||d==="0"?a.usePolling=!1:d==="true"||d==="1"?a.usePolling=!0:a.usePolling=!!d}const i=process.env.CHOKIDAR_INTERVAL;i&&(a.interval=Number.parseInt(i,10));let c=0;this._emitReady=()=>{c++,c>=this._readyCount&&(this._emitReady=Bi,this._readyEmitted=!0,process.nextTick(()=>this.emit($e.READY)))},this._emitRaw=(...d)=>this.emit($e.RAW,...d),this._boundRemove=this._remove.bind(this),this.options=a,this._nodeFsHandler=new e1(this),Object.freeze(a)}_addIgnoredPath(r){if(wa(r)){for(const n of this._ignoredPaths)if(wa(n)&&n.path===r.path&&n.recursive===r.recursive)return}this._ignoredPaths.add(r)}_removeIgnoredPath(r){if(this._ignoredPaths.delete(r),typeof r=="string")for(const n of this._ignoredPaths)wa(n)&&n.path===r&&this._ignoredPaths.delete(n)}add(r,n,s){const{cwd:a}=this.options;this.closed=!1,this._closePromise=void 0;let o=Sl(r);return a&&(o=o.map(i=>d1(i,a))),o.forEach(i=>{this._removeIgnoredPath(i)}),this._userIgnored=void 0,this._readyCount||(this._readyCount=0),this._readyCount+=o.length,Promise.all(o.map(async i=>{const c=await this._nodeFsHandler._addToNodeFs(i,!s,void 0,0,n);return c&&this._emitReady(),c})).then(i=>{this.closed||i.forEach(c=>{c&&this.add(B.dirname(c),B.basename(n||c))})}),this}unwatch(r){if(this.closed)return this;const n=Sl(r),{cwd:s}=this.options;return n.forEach(a=>{!B.isAbsolute(a)&&!this._closers.has(a)&&(s&&(a=B.join(s,a)),a=B.resolve(a)),this._closePath(a),this._addIgnoredPath(a),this._watched.has(a)&&this._addIgnoredPath({path:a,recursive:!0}),this._userIgnored=void 0}),this}close(){if(this._closePromise)return this._closePromise;this.closed=!0,this.removeAllListeners();const r=[];return this._closers.forEach(n=>n.forEach(s=>{const a=s();a instanceof Promise&&r.push(a)})),this._streams.forEach(n=>n.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(n=>n.dispose()),this._closers.clear(),this._watched.clear(),this._streams.clear(),this._symlinkPaths.clear(),this._throttled.clear(),this._closePromise=r.length?Promise.all(r).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const r={};return this._watched.forEach((n,s)=>{const o=(this.options.cwd?B.relative(this.options.cwd,s):s)||Gd;r[o]=n.getChildren().sort()}),r}emitWithAll(r,n){this.emit(r,...n),r!==$e.ERROR&&this.emit($e.ALL,r,...n)}async _emit(r,n,s){if(this.closed)return;const a=this.options;qd&&(n=B.normalize(n)),a.cwd&&(n=B.relative(a.cwd,n));const o=[n];s!=null&&o.push(s);const i=a.awaitWriteFinish;let c;if(i&&(c=this._pendingWrites.get(n)))return c.lastChange=new Date,this;if(a.atomic){if(r===$e.UNLINK)return this._pendingUnlinks.set(n,[r,...o]),setTimeout(()=>{this._pendingUnlinks.forEach((d,u)=>{this.emit(...d),this.emit($e.ALL,...d),this._pendingUnlinks.delete(u)})},typeof a.atomic=="number"?a.atomic:100),this;r===$e.ADD&&this._pendingUnlinks.has(n)&&(r=$e.CHANGE,this._pendingUnlinks.delete(n))}if(i&&(r===$e.ADD||r===$e.CHANGE)&&this._readyEmitted){const d=(u,f)=>{u?(r=$e.ERROR,o[0]=u,this.emitWithAll(r,o)):f&&(o.length>1?o[1]=f:o.push(f),this.emitWithAll(r,o))};return this._awaitWriteFinish(n,i.stabilityThreshold,r,d),this}if(r===$e.CHANGE&&!this._throttle($e.CHANGE,n,50))return this;if(a.alwaysStat&&s===void 0&&(r===$e.ADD||r===$e.ADD_DIR||r===$e.CHANGE)){const d=a.cwd?B.join(a.cwd,n):n;let u;try{u=await Ge.stat(d)}catch{}if(!u||this.closed)return;o.push(u)}return this.emitWithAll(r,o),this}_handleError(r){const n=r&&r.code;return r&&n!=="ENOENT"&&n!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||n!=="EPERM"&&n!=="EACCES")&&this.emit($e.ERROR,r),r||this.closed}_throttle(r,n,s){this._throttled.has(r)||this._throttled.set(r,new Map);const a=this._throttled.get(r);if(!a)throw new Error("invalid throttle");const o=a.get(n);if(o)return o.count++,!1;let i;const c=()=>{const u=a.get(n),f=u?u.count:0;return a.delete(n),clearTimeout(i),u&&clearTimeout(u.timeoutObject),f};i=setTimeout(c,s);const d={timeoutObject:i,clear:c,count:0};return a.set(n,d),d}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(r,n,s,a){const o=this.options.awaitWriteFinish;if(typeof o!="object")return;const i=o.pollInterval;let c,d=r;this.options.cwd&&!B.isAbsolute(r)&&(d=B.join(this.options.cwd,r));const u=new Date,f=this._pendingWrites;function v(y){Y.stat(d,(w,g)=>{if(w||!f.has(r)){w&&w.code!=="ENOENT"&&a(w);return}const _=Number(new Date);y&&g.size!==y.size&&(f.get(r).lastChange=_);const m=f.get(r);_-m.lastChange>=n?(f.delete(r),a(void 0,g)):c=setTimeout(v,i,g)})}f.has(r)||(f.set(r,{lastChange:u,cancelWait:()=>(f.delete(r),clearTimeout(c),s)}),c=setTimeout(v,i))}_isIgnored(r,n){if(this.options.atomic&&a1.test(r))return!0;if(!this._userIgnored){const{cwd:s}=this.options,o=(this.options.ignored||[]).map(Rl(s)),c=[...[...this._ignoredPaths].map(Rl(s)),...o];this._userIgnored=u1(c)}return this._userIgnored(r,n)}_isntIgnored(r,n){return!this._isIgnored(r,n)}_getWatchHelpers(r){return new y1(r,this.options.followSymlinks,this)}_getWatchedDir(r){const n=B.resolve(r);return this._watched.has(n)||this._watched.set(n,new h1(n,this._boundRemove)),this._watched.get(n)}_hasReadPermissions(r){return this.options.ignorePermissionErrors?!0:!!(Number(r.mode)&256)}_remove(r,n,s){const a=B.join(r,n),o=B.resolve(a);if(s=s??(this._watched.has(a)||this._watched.has(o)),!this._throttle("remove",a,100))return;!s&&this._watched.size===1&&this.add(r,n,!0),this._getWatchedDir(a).getChildren().forEach(y=>this._remove(a,y));const d=this._getWatchedDir(r),u=d.has(n);d.remove(n),this._symlinkPaths.has(o)&&this._symlinkPaths.delete(o);let f=a;if(this.options.cwd&&(f=B.relative(this.options.cwd,a)),this.options.awaitWriteFinish&&this._pendingWrites.has(f)&&this._pendingWrites.get(f).cancelWait()===$e.ADD)return;this._watched.delete(a),this._watched.delete(o);const v=s?$e.UNLINK_DIR:$e.UNLINK;u&&!this._isIgnored(a)&&this._emit(v,a),this._closePath(a)}_closePath(r){this._closeFile(r);const n=B.dirname(r);this._getWatchedDir(n).remove(B.basename(r))}_closeFile(r){const n=this._closers.get(r);n&&(n.forEach(s=>s()),this._closers.delete(r))}_addPathCloser(r,n){if(!n)return;let s=this._closers.get(r);s||(s=[],this._closers.set(r,s)),s.push(n)}_readdirp(r,n){if(this.closed)return;const s={type:$e.ALL,alwaysStat:!0,lstat:!0,...n,depth:0};let a=VP(r,s);return this._streams.add(a),a.once(UP,()=>{a=void 0}),a.once(Ud,()=>{a&&(this._streams.delete(a),a=void 0)}),a}}function _1(e,t={}){const r=new $1(t);return r.add(e),r}ee.app.commandLine.appendSwitch("enable-features","Vulkan");ee.app.commandLine.appendSwitch("use-vulkan");ee.app.commandLine.appendSwitch("enable-unsafe-webgpu");const ms=process.env.VITE_DEV_SERVER_URL,Me=new Vd({defaults:{vaultPath:null}}),Ea=new Vd({name:"settings",defaults:{theme:"light",fontFamily:"system",fontSize:17,ollamaBaseUrl:"http://localhost:11434",ollamaEnabled:!0,preferredEngine:"ollama",autoFallback:!0,customSystemPrompt:"",promptTemplates:[],defaultFormat:"md",smartFormatConversion:!0}});let Je=null;const g1=[".DS_Store",".git","node_modules",".zennote","*.swp","*.swo","*~"];let le=null,Pt=null;function dn(){if(ee.app.isPackaged){if(process.platform==="darwin")return fe.join(process.resourcesPath,"ollama","mac","ollama");if(process.platform==="win32")return fe.join(process.resourcesPath,"ollama","win","ollama.exe")}const{resolve:e}=require("path"),t=e(__dirname,"../public/ollama/mac/ollama");return console.log(" Ollama :",t),Pe.existsSync(t)?t:(console.log("  ollama"),"ollama")}function Ha(){if(ee.app.isPackaged)return fe.join(process.resourcesPath,"models","ollama-models");const{resolve:e}=require("path");return e(__dirname,"../public/models/ollama-models")}async function v1(){var n,s;const e=dn(),t=Ha();console.log("  Ollama..."),console.log("   :",e),console.log("   :",t);try{if((await fetch("http://127.0.0.1:11434/api/tags")).ok){console.log(" Ollama ");return}}catch{}const r={...process.env,OLLAMA_HOST:"127.0.0.1:11434",OLLAMA_MODELS:t};try{Pt=on.spawn(e,["serve"],{env:r,detached:!1,stdio:["ignore","pipe","pipe"]}),(n=Pt.stdout)==null||n.on("data",a=>{console.log("[Ollama]",a.toString().trim())}),(s=Pt.stderr)==null||s.on("data",a=>{console.log("[Ollama]",a.toString().trim())}),Pt.on("error",a=>{console.error(" Ollama :",a.message)}),Pt.on("exit",a=>{console.log(" Ollama , code:",a),Pt=null}),await new Promise(a=>setTimeout(a,2e3)),console.log(" Ollama ")}catch(a){console.error("  Ollama :",a)}}function w1(){Pt&&(console.log("  Ollama..."),Pt.kill(),Pt=null)}function Bd(e){return e.startsWith(".")?!0:g1.some(t=>t.includes("*")?new RegExp("^"+t.replace(/\*/g,".*")+"$").test(e):e===t)}async function Yd(e,t){const r=await Pe.promises.readdir(e,{withFileTypes:!0}),n=[];for(const s of r){if(Bd(s.name))continue;const a=fe.join(e,s.name),o=fe.relative(t,a),i=await Pe.promises.stat(a);if(s.isDirectory()){const c=await Yd(a,t);n.push({name:s.name,path:o,isDirectory:!0,children:c,modifiedAt:i.mtimeMs})}else{const c=fe.extname(s.name).toLowerCase();[".txt",".md",".markdown"].includes(c)&&n.push({name:s.name,path:o,isDirectory:!1,extension:c,modifiedAt:i.mtimeMs})}}return n.sort((s,a)=>s.isDirectory&&!a.isDirectory?-1:!s.isDirectory&&a.isDirectory?1:s.isDirectory&&a.isDirectory?s.name.localeCompare(a.name,"zh-CN"):(a.modifiedAt||0)-(s.modifiedAt||0))}function ba(e){const t=fe.join(e,".zennote"),r=fe.join(t,"chats");Pe.existsSync(t)||Pe.mkdirSync(t,{recursive:!0}),Pe.existsSync(r)||Pe.mkdirSync(r,{recursive:!0})}function E1(){ee.ipcMain.handle("fs:getVaultPath",()=>{const n=Me.get("vaultPath");return n&&!Pe.existsSync(n)?(console.log(" Vault :",n),Me.set("vaultPath",null),null):n}),ee.ipcMain.handle("fs:setVaultPath",(n,s)=>(Me.set("vaultPath",s),ba(s),!0)),ee.ipcMain.handle("fs:selectDirectory",async()=>{const n=await ee.dialog.showOpenDialog(le,{properties:["openDirectory","createDirectory"],title:"",buttonLabel:""});if(n.canceled||n.filePaths.length===0)return null;const s=n.filePaths[0];return Me.set("vaultPath",s),ba(s),s}),ee.ipcMain.handle("fs:disconnectVault",async()=>(Me.delete("vaultPath"),!0)),ee.ipcMain.handle("fs:readDirectory",async(n,s)=>{const a=s||Me.get("vaultPath");if(!a)return[];try{return await Yd(a,a)}catch(o){return console.error(":",o),[]}}),ee.ipcMain.handle("fs:readFile",async(n,s)=>{const a=Me.get("vaultPath");if(!a)throw new Error(" Vault ");const o=fe.join(a,s);return await Pe.promises.readFile(o,"utf-8")}),ee.ipcMain.handle("fs:writeFile",async(n,s,a)=>{const o=Me.get("vaultPath");if(!o)throw new Error(" Vault ");const i=fe.join(o,s);return await Pe.promises.writeFile(i,a,"utf-8"),!0}),ee.ipcMain.handle("fs:createFile",async(n,s)=>{const a=Me.get("vaultPath");if(!a)throw new Error(" Vault ");const o=fe.join(a,s);return await Pe.promises.writeFile(o,"","utf-8"),!0}),ee.ipcMain.handle("fs:createDirectory",async(n,s)=>{const a=Me.get("vaultPath");if(!a)throw new Error(" Vault ");const o=fe.join(a,s);return await Pe.promises.mkdir(o,{recursive:!0}),!0}),ee.ipcMain.handle("fs:deleteFile",async(n,s)=>{const a=Me.get("vaultPath");if(!a)throw new Error(" Vault ");const o=fe.join(a,s);return(await Pe.promises.stat(o)).isDirectory()?await Pe.promises.rm(o,{recursive:!0,force:!0}):await Pe.promises.unlink(o),!0}),ee.ipcMain.handle("fs:renameFile",async(n,s,a)=>{const o=Me.get("vaultPath");if(!o)throw new Error(" Vault ");const i=fe.join(o,s),c=fe.join(o,a);return await Pe.promises.rename(i,c),!0}),ee.ipcMain.handle("chat:load",async(n,s)=>{const a=Me.get("vaultPath");if(!a)return[];const o=Buffer.from(s).toString("base64").replace(/[\/+=]/g,"_"),i=fe.join(a,".zennote","chats",`${o}.json`);try{const c=await Pe.promises.readFile(i,"utf-8");return JSON.parse(c)}catch{return[]}}),ee.ipcMain.handle("chat:save",async(n,s,a)=>{const o=Me.get("vaultPath");if(!o)return!1;ba(o);const i=Buffer.from(s).toString("base64").replace(/[\/+=]/g,"_"),c=fe.join(o,".zennote","chats",`${i}.json`);return await Pe.promises.writeFile(c,JSON.stringify(a,null,2),"utf-8"),!0}),ee.ipcMain.handle("fs:watch",(n,s)=>{const a=s||Me.get("vaultPath");return a?(Je&&Je.close(),Je=_1(a,{ignored:o=>{const i=fe.basename(o);return Bd(i)},persistent:!0,ignoreInitial:!0,depth:10}),Je.on("add",o=>{const i=fe.relative(a,o);le==null||le.webContents.send("fs:change",{type:"add",path:i})}),Je.on("unlink",o=>{const i=fe.relative(a,o);le==null||le.webContents.send("fs:change",{type:"unlink",path:i})}),Je.on("change",o=>{const i=fe.relative(a,o);le==null||le.webContents.send("fs:change",{type:"change",path:i})}),Je.on("addDir",o=>{const i=fe.relative(a,o);le==null||le.webContents.send("fs:change",{type:"addDir",path:i})}),Je.on("unlinkDir",o=>{const i=fe.relative(a,o);le==null||le.webContents.send("fs:change",{type:"unlinkDir",path:i})}),console.log(" :",a),!0):!1}),ee.ipcMain.handle("fs:unwatch",()=>(Je&&(Je.close(),Je=null,console.log(" ")),!0)),ee.ipcMain.handle("window:setWidth",(n,s)=>{if(le){const a=le.getBounds();return le.setBounds({...a,width:s}),!0}return!1}),ee.ipcMain.handle("settings:get",()=>Ea.store),ee.ipcMain.handle("settings:set",(n,s,a)=>(Ea.set(s,a),!0)),ee.ipcMain.handle("settings:reset",()=>(Ea.clear(),!0));const e={...process.env,OLLAMA_HOST:"127.0.0.1:11434",OLLAMA_MODELS:Ha()};ee.ipcMain.handle("ollama:openModelsFolder",()=>{const n=Ha();return ee.shell.openPath(n),n}),ee.ipcMain.handle("ollama:listModels",async()=>{try{const n=dn();return new Promise(s=>{const a=on.spawn(n,["list"],{env:e});let o="";a.stdout.on("data",i=>{o+=i.toString()}),a.on("close",i=>{if(i===0)try{const d=o.trim().split(`
`).slice(1).map(u=>{const f=u.split(/\s{2,}/);return f.length>=3?{name:f[0],id:f[1],size:f[2],modified:f[3]||""}:null}).filter(u=>u!==null);s({success:!0,models:d})}catch{s({success:!1,error:""})}else s({success:!1,error:""})}),a.on("error",i=>{s({success:!1,error:i.message})})})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}});let t=null,r=null;ee.ipcMain.handle("ollama:pullModel",async(n,s)=>new Promise((a,o)=>{var d,u;const i=dn();r=s,t=on.spawn(i,["pull",s],{env:e});let c="";(d=t.stdout)==null||d.on("data",f=>{const v=f.toString();c+=v,le==null||le.webContents.send("ollama:pullProgress",{model:s,output:v})}),(u=t.stderr)==null||u.on("data",f=>{const v=f.toString();c+=v,le==null||le.webContents.send("ollama:pullProgress",{model:s,output:v})}),t.on("close",f=>{t=null,r=null,f===0?a({success:!0,output:c}):o(new Error(`: ${f}`))}),t.on("error",f=>{t=null,r=null,o(f)})})),ee.ipcMain.handle("ollama:cancelPull",async()=>{if(t){const n=r;if(console.log(` : ${n}`),t.kill("SIGTERM"),t=null,r=null,n)try{const s=dn();on.spawn(s,["rm",n],{env:e}),console.log(` : ${n}`)}catch(s){console.log(":",s)}return{success:!0,cancelled:n}}return{success:!1,error:""}}),ee.ipcMain.handle("ollama:deleteModel",async(n,s)=>new Promise((a,o)=>{const i=dn(),c=on.spawn(i,["rm",s],{env:e});c.on("close",d=>{d===0?a({success:!0}):o(new Error(`: ${d}`))}),c.on("error",d=>o(d))}))}function Nl(){const e=process.platform==="darwin",t={width:1400,height:900,minWidth:400,minHeight:300,hasShadow:!0,webPreferences:{preload:fe.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0,webSecurity:!0,experimentalFeatures:!0}};if(e?Object.assign(t,{vibrancy:"sidebar",visualEffectState:"active",transparent:!0,titleBarStyle:"hiddenInset",trafficLightPosition:{x:20,y:18},frame:!1}):Object.assign(t,{frame:!0,transparent:!1}),le=new ee.BrowserWindow(t),e||ee.Menu.setApplicationMenu(null),ms)console.log(" : ",ms),le.loadURL(ms),le.webContents.openDevTools();else{const r=fe.join(ee.app.getAppPath(),"dist","index.html");console.log(" : ",r),le.loadFile(r)}le.on("closed",()=>{le=null}),le.webContents.on("did-finish-load",()=>{console.log(" ")})}ee.app.whenReady().then(async()=>{await v1(),E1(),Nl(),ee.app.on("activate",()=>{ee.BrowserWindow.getAllWindows().length===0&&Nl()})});ee.app.on("window-all-closed",()=>{Je&&Je.close(),w1(),process.platform!=="darwin"&&ee.app.quit()});console.log(" ...");console.log(" VITE_DEV_SERVER_URL:",ms||" ()");
