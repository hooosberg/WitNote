"use strict";var Bu=Object.defineProperty;var _i=e=>{throw TypeError(e)};var Yu=(e,t,r)=>t in e?Bu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ee=(e,t,r)=>Yu(e,typeof t!="symbol"?t+"":t,r),Is=(e,t,r)=>t.has(e)||_i("Cannot "+r);var ae=(e,t,r)=>(Is(e,t,"read from private field"),r?r.call(e):t.get(e)),$t=(e,t,r)=>t.has(e)?_i("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ye=(e,t,r,n)=>(Is(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),wt=(e,t,r)=>(Is(e,t,"access private method"),r);const ne=require("electron"),_e=require("path"),Se=require("fs"),Ee=require("node:process"),ue=require("node:path"),Te=require("node:util"),re=require("node:fs"),Yt=require("node:crypto"),gi=require("node:assert"),Sa=require("node:os"),Ju=require("node:events"),Xu=require("node:stream"),He=require("node:fs/promises"),mr=require("child_process");function xu(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const te=xu(ue),ir=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},nl=new Set(["__proto__","prototype","constructor"]),sl=1e6,Qu=e=>e>="0"&&e<="9";function al(e){if(e==="0")return!0;if(/^[1-9]\d*$/.test(e)){const t=Number.parseInt(e,10);return t<=Number.MAX_SAFE_INTEGER&&t<=sl}return!1}function Ts(e,t){return nl.has(e)?!1:(e&&al(e)?t.push(Number.parseInt(e,10)):t.push(e),!0)}function Zu(e){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);const t=[];let r="",n="start",a=!1,s=0;for(const i of e){if(s++,a){r+=i,a=!1;continue}if(i==="\\"){if(n==="index")throw new Error(`Invalid character '${i}' in an index at position ${s}`);if(n==="indexEnd")throw new Error(`Invalid character '${i}' after an index at position ${s}`);a=!0,n=n==="start"?"property":n;continue}switch(i){case".":{if(n==="index")throw new Error(`Invalid character '${i}' in an index at position ${s}`);if(n==="indexEnd"){n="property";break}if(!Ts(r,t))return[];r="",n="property";break}case"[":{if(n==="index")throw new Error(`Invalid character '${i}' in an index at position ${s}`);if(n==="indexEnd"){n="index";break}if(n==="property"||n==="start"){if((r||n==="property")&&!Ts(r,t))return[];r=""}n="index";break}case"]":{if(n==="index"){if(r==="")r=(t.pop()||"")+"[]",n="property";else{const o=Number.parseInt(r,10);!Number.isNaN(o)&&Number.isFinite(o)&&o>=0&&o<=Number.MAX_SAFE_INTEGER&&o<=sl&&r===String(o)?t.push(o):t.push(r),r="",n="indexEnd"}break}if(n==="indexEnd")throw new Error(`Invalid character '${i}' after an index at position ${s}`);r+=i;break}default:{if(n==="index"&&!Qu(i))throw new Error(`Invalid character '${i}' in an index at position ${s}`);if(n==="indexEnd")throw new Error(`Invalid character '${i}' after an index at position ${s}`);n==="start"&&(n="property"),r+=i}}}switch(a&&(r+="\\"),n){case"property":{if(!Ts(r,t))return[];break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function cs(e){if(typeof e=="string")return Zu(e);if(Array.isArray(e)){const t=[];for(const[r,n]of e.entries()){if(typeof n!="string"&&typeof n!="number")throw new TypeError(`Expected a string or number for path segment at index ${r}, got ${typeof n}`);if(typeof n=="number"&&!Number.isFinite(n))throw new TypeError(`Path segment at index ${r} must be a finite number, got ${n}`);if(nl.has(n))return[];typeof n=="string"&&al(n)?t.push(Number.parseInt(n,10)):t.push(n)}return t}return[]}function vi(e,t,r){if(!ir(e)||typeof t!="string"&&!Array.isArray(t))return r===void 0?e:r;const n=cs(t);if(n.length===0)return r;for(let a=0;a<n.length;a++){const s=n[a];if(e=e[s],e==null){if(a!==n.length-1)return r;break}}return e===void 0?r:e}function dn(e,t,r){if(!ir(e)||typeof t!="string"&&!Array.isArray(t))return e;const n=e,a=cs(t);if(a.length===0)return e;for(let s=0;s<a.length;s++){const i=a[s];if(s===a.length-1)e[i]=r;else if(!ir(e[i])){const c=typeof a[s+1]=="number";e[i]=c?[]:{}}e=e[i]}return n}function ed(e,t){if(!ir(e)||typeof t!="string"&&!Array.isArray(t))return!1;const r=cs(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++){const a=r[n];if(n===r.length-1)return Object.hasOwn(e,a)?(delete e[a],!0):!1;if(e=e[a],!ir(e))return!1}}function js(e,t){if(!ir(e)||typeof t!="string"&&!Array.isArray(t))return!1;const r=cs(t);if(r.length===0)return!1;for(const n of r){if(!ir(e)||!(n in e))return!1;e=e[n]}return!0}const zt=Sa.homedir(),Pa=Sa.tmpdir(),{env:_r}=Ee,td=e=>{const t=ue.join(zt,"Library");return{data:ue.join(t,"Application Support",e),config:ue.join(t,"Preferences",e),cache:ue.join(t,"Caches",e),log:ue.join(t,"Logs",e),temp:ue.join(Pa,e)}},rd=e=>{const t=_r.APPDATA||ue.join(zt,"AppData","Roaming"),r=_r.LOCALAPPDATA||ue.join(zt,"AppData","Local");return{data:ue.join(r,e,"Data"),config:ue.join(t,e,"Config"),cache:ue.join(r,e,"Cache"),log:ue.join(r,e,"Log"),temp:ue.join(Pa,e)}},nd=e=>{const t=ue.basename(zt);return{data:ue.join(_r.XDG_DATA_HOME||ue.join(zt,".local","share"),e),config:ue.join(_r.XDG_CONFIG_HOME||ue.join(zt,".config"),e),cache:ue.join(_r.XDG_CACHE_HOME||ue.join(zt,".cache"),e),log:ue.join(_r.XDG_STATE_HOME||ue.join(zt,".local","state"),e),temp:ue.join(Pa,t,e)}};function sd(e,{suffix:t="nodejs"}={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return t&&(e+=`-${t}`),Ee.platform==="darwin"?td(e):Ee.platform==="win32"?rd(e):nd(e)}const kt=(e,t)=>{const{onError:r}=t;return function(...a){return e.apply(void 0,a).catch(r)}},Et=(e,t)=>{const{onError:r}=t;return function(...a){try{return e.apply(void 0,a)}catch(s){return r(s)}}},ad=250,At=(e,t)=>{const{isRetriable:r}=t;return function(a){const{timeout:s}=a,i=a.interval??ad,o=Date.now()+s;return function c(...d){return e.apply(void 0,d).catch(u=>{if(!r(u)||Date.now()>=o)throw u;const f=Math.round(i*Math.random());return f>0?new Promise(m=>setTimeout(m,f)).then(()=>c.apply(void 0,d)):c.apply(void 0,d)})}}},Ct=(e,t)=>{const{isRetriable:r}=t;return function(a){const{timeout:s}=a,i=Date.now()+s;return function(...c){for(;;)try{return e.apply(void 0,c)}catch(d){if(!r(d)||Date.now()>=i)throw d;continue}}}},gr={isChangeErrorOk:e=>{if(!gr.isNodeError(e))return!1;const{code:t}=e;return t==="ENOSYS"||!od&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!gr.isNodeError(e))return!1;const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!gr.isNodeError(e))throw e;if(!gr.isChangeErrorOk(e))throw e}},fn={onError:gr.onChangeError},Je={onError:()=>{}},od=Ee.getuid?!Ee.getuid():!1,Me={isRetriable:gr.isRetriableError},Le={attempt:{chmod:kt(Te.promisify(re.chmod),fn),chown:kt(Te.promisify(re.chown),fn),close:kt(Te.promisify(re.close),Je),fsync:kt(Te.promisify(re.fsync),Je),mkdir:kt(Te.promisify(re.mkdir),Je),realpath:kt(Te.promisify(re.realpath),Je),stat:kt(Te.promisify(re.stat),Je),unlink:kt(Te.promisify(re.unlink),Je),chmodSync:Et(re.chmodSync,fn),chownSync:Et(re.chownSync,fn),closeSync:Et(re.closeSync,Je),existsSync:Et(re.existsSync,Je),fsyncSync:Et(re.fsync,Je),mkdirSync:Et(re.mkdirSync,Je),realpathSync:Et(re.realpathSync,Je),statSync:Et(re.statSync,Je),unlinkSync:Et(re.unlinkSync,Je)},retry:{close:At(Te.promisify(re.close),Me),fsync:At(Te.promisify(re.fsync),Me),open:At(Te.promisify(re.open),Me),readFile:At(Te.promisify(re.readFile),Me),rename:At(Te.promisify(re.rename),Me),stat:At(Te.promisify(re.stat),Me),write:At(Te.promisify(re.write),Me),writeFile:At(Te.promisify(re.writeFile),Me),closeSync:Ct(re.closeSync,Me),fsyncSync:Ct(re.fsyncSync,Me),openSync:Ct(re.openSync,Me),readFileSync:Ct(re.readFileSync,Me),renameSync:Ct(re.renameSync,Me),statSync:Ct(re.statSync,Me),writeSync:Ct(re.writeSync,Me),writeFileSync:Ct(re.writeFileSync,Me)}},id="utf8",wi=438,cd=511,ld={},ud=Ee.geteuid?Ee.geteuid():-1,dd=Ee.getegid?Ee.getegid():-1,fd=1e3,hd=!!Ee.getuid;Ee.getuid&&Ee.getuid();const Ei=128,md=e=>e instanceof Error&&"code"in e,bi=e=>typeof e=="string",ks=e=>e===void 0,pd=Ee.platform==="linux",ol=Ee.platform==="win32",Ra=["SIGHUP","SIGINT","SIGTERM"];ol||Ra.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");pd&&Ra.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");class yd{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=t=>{if(!this.exited){this.exited=!0;for(const r of this.callbacks)r();t&&(ol&&t!=="SIGINT"&&t!=="SIGTERM"&&t!=="SIGKILL"?Ee.kill(Ee.pid,"SIGTERM"):Ee.kill(Ee.pid,t))}},this.hook=()=>{Ee.once("exit",()=>this.exit());for(const t of Ra)try{Ee.once(t,()=>this.exit(t))}catch{}},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t)}),this.hook()}}const $d=new yd,_d=$d.register,Fe={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),a=`.tmp-${Date.now().toString().slice(-10)}${t}`;return`${e}${a}`},get:(e,t,r=!0)=>{const n=Fe.truncate(t(e));return n in Fe.store?Fe.get(e,t,r):(Fe.store[n]=r,[n,()=>delete Fe.store[n]])},purge:e=>{Fe.store[e]&&(delete Fe.store[e],Le.attempt.unlink(e))},purgeSync:e=>{Fe.store[e]&&(delete Fe.store[e],Le.attempt.unlinkSync(e))},purgeSyncAll:()=>{for(const e in Fe.store)Fe.purgeSync(e)},truncate:e=>{const t=ue.basename(e);if(t.length<=Ei)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Ei;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};_d(Fe.purgeSyncAll);function il(e,t,r=ld){if(bi(r))return il(e,t,{encoding:r});const a={timeout:r.timeout??fd};let s=null,i=null,o=null;try{const c=Le.attempt.realpathSync(e),d=!!c;e=c||e,[i,s]=Fe.get(e,r.tmpCreate||Fe.create,r.tmpPurge!==!1);const u=hd&&ks(r.chown),f=ks(r.mode);if(d&&(u||f)){const y=Le.attempt.statSync(e);y&&(r={...r},u&&(r.chown={uid:y.uid,gid:y.gid}),f&&(r.mode=y.mode))}if(!d){const y=ue.dirname(e);Le.attempt.mkdirSync(y,{mode:cd,recursive:!0})}o=Le.retry.openSync(a)(i,"w",r.mode||wi),r.tmpCreated&&r.tmpCreated(i),bi(t)?Le.retry.writeSync(a)(o,t,0,r.encoding||id):ks(t)||Le.retry.writeSync(a)(o,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Le.retry.fsyncSync(a)(o):Le.attempt.fsync(o)),Le.retry.closeSync(a)(o),o=null,r.chown&&(r.chown.uid!==ud||r.chown.gid!==dd)&&Le.attempt.chownSync(i,r.chown.uid,r.chown.gid),r.mode&&r.mode!==wi&&Le.attempt.chmodSync(i,r.mode);try{Le.retry.renameSync(a)(i,e)}catch(y){if(!md(y)||y.code!=="ENAMETOOLONG")throw y;Le.retry.renameSync(a)(i,Fe.truncate(e))}s(),i=null}finally{o&&Le.attempt.closeSync(o),i&&Fe.purge(i)}}function cl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var na={exports:{}},ll={},bt={},Jt={},an={},oe={},nn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor($){if(super(),!e.IDENTIFIER.test($))throw new Error("CodeGen: name must be a valid identifier");this.str=$}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor($){super(),this._items=typeof $=="string"?[$]:$}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const $=this._items[0];return $===""||$==='""'}get str(){var $;return($=this._str)!==null&&$!==void 0?$:this._str=this._items.reduce((P,O)=>`${P}${O}`,"")}get names(){var $;return($=this._names)!==null&&$!==void 0?$:this._names=this._items.reduce((P,O)=>(O instanceof r&&(P[O.str]=(P[O.str]||0)+1),P),{})}}e._Code=n,e.nil=new n("");function a(p,...$){const P=[p[0]];let O=0;for(;O<$.length;)o(P,$[O]),P.push(p[++O]);return new n(P)}e._=a;const s=new n("+");function i(p,...$){const P=[m(p[0])];let O=0;for(;O<$.length;)P.push(s),o(P,$[O]),P.push(s,m(p[++O]));return c(P),new n(P)}e.str=i;function o(p,$){$ instanceof n?p.push(...$._items):$ instanceof r?p.push($):p.push(f($))}e.addCodeArg=o;function c(p){let $=1;for(;$<p.length-1;){if(p[$]===s){const P=d(p[$-1],p[$+1]);if(P!==void 0){p.splice($-1,3,P);continue}p[$++]="+"}$++}}function d(p,$){if($==='""')return p;if(p==='""')return $;if(typeof p=="string")return $ instanceof r||p[p.length-1]!=='"'?void 0:typeof $!="string"?`${p.slice(0,-1)}${$}"`:$[0]==='"'?p.slice(0,-1)+$.slice(1):void 0;if(typeof $=="string"&&$[0]==='"'&&!(p instanceof r))return`"${p}${$.slice(1)}`}function u(p,$){return $.emptyStr()?p:p.emptyStr()?$:i`${p}${$}`}e.strConcat=u;function f(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function y(p){return new n(m(p))}e.stringify=y;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function v(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):a`[${p}]`}e.getProperty=v;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function E(p){return new n(p.toString())}e.regexpCode=E})(nn);var sa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=nn;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:d,parent:u}={}){this._names={},this._prefixes=d,this._parent=u}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const u=this._names[d]||this._nameGroup(d);return`${d}${u.index++}`}_nameGroup(d){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=a;class s extends t.Name{constructor(d,u){super(u),this.prefix=d}setValue(d,{property:u,itemIndex:f}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=s;const i=(0,t._)`\n`;class o extends a{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?i:t.nil}}get(){return this._scope}name(d){return new s(d,this._newName(d))}value(d,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const y=this.toName(d),{prefix:m}=y,v=(f=u.key)!==null&&f!==void 0?f:u.ref;let _=this._values[m];if(_){const $=_.get(v);if($)return $}else _=this._values[m]=new Map;_.set(v,y);const E=this._scope[m]||(this._scope[m]=[]),p=E.length;return E[p]=u.ref,y.setValue(u,{property:m,itemIndex:p}),y}getValue(d,u){const f=this._values[d];if(f)return f.get(u)}scopeRefs(d,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${d}${f.scopePath}`})}scopeCode(d=this._values,u,f){return this._reduceValues(d,y=>{if(y.value===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return y.value.code},u,f)}_reduceValues(d,u,f={},y){let m=t.nil;for(const v in d){const _=d[v];if(!_)continue;const E=f[v]=f[v]||new Map;_.forEach(p=>{if(E.has(p))return;E.set(p,n.Started);let $=u(p);if($){const P=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${P} ${p} = ${$};${this.opts._n}`}else if($=y==null?void 0:y(p))m=(0,t._)`${m}${$}${this.opts._n}`;else throw new r(p);E.set(p,n.Completed)})}return m}}e.ValueScope=o})(sa);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=nn,r=sa;var n=nn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=sa;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(l,h){return this}}class i extends s{constructor(l,h,R){super(),this.varKind=l,this.name=h,this.rhs=R}render({es5:l,_n:h}){const R=l?r.varKinds.var:this.varKind,C=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${C};`+h}optimizeNames(l,h){if(l[this.name.str])return this.rhs&&(this.rhs=A(this.rhs,l,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(l,h,R){super(),this.lhs=l,this.rhs=h,this.sideEffects=R}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,h){if(!(this.lhs instanceof t.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=A(this.rhs,l,h),this}get names(){const l=this.lhs instanceof t.Name?{}:{...this.lhs.names};return G(l,this.rhs)}}class c extends o{constructor(l,h,R,C){super(l,R,C),this.op=h}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class d extends s{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class u extends s{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class f extends s{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class y extends s{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,h){return this.code=A(this.code,l,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((h,R)=>h+R.render(l),"")}optimizeNodes(){const{nodes:l}=this;let h=l.length;for(;h--;){const R=l[h].optimizeNodes();Array.isArray(R)?l.splice(h,1,...R):R?l[h]=R:l.splice(h,1)}return l.length>0?this:void 0}optimizeNames(l,h){const{nodes:R}=this;let C=R.length;for(;C--;){const M=R[C];M.optimizeNames(l,h)||(F(l,M.names),R.splice(C,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((l,h)=>W(l,h.names),{})}}class v extends m{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class _ extends m{}class E extends v{}E.kind="else";class p extends v{constructor(l,h){super(h),this.condition=l}render(l){let h=`if(${this.condition})`+super.render(l);return this.else&&(h+="else "+this.else.render(l)),h}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let h=this.else;if(h){const R=h.optimizeNodes();h=this.else=Array.isArray(R)?new E(R):R}if(h)return l===!1?h instanceof p?h:h.nodes:this.nodes.length?this:new p(B(l),h instanceof p?[h]:h.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,h){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(l,h),!!(super.optimizeNames(l,h)||this.else))return this.condition=A(this.condition,l,h),this}get names(){const l=super.names;return G(l,this.condition),this.else&&W(l,this.else.names),l}}p.kind="if";class $ extends v{}$.kind="for";class P extends ${constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iteration=A(this.iteration,l,h),this}get names(){return W(super.names,this.iteration.names)}}class O extends ${constructor(l,h,R,C){super(),this.varKind=l,this.name=h,this.from=R,this.to=C}render(l){const h=l.es5?r.varKinds.var:this.varKind,{name:R,from:C,to:M}=this;return`for(${h} ${R}=${C}; ${R}<${M}; ${R}++)`+super.render(l)}get names(){const l=G(super.names,this.from);return G(l,this.to)}}class j extends ${constructor(l,h,R,C){super(),this.loop=l,this.varKind=h,this.name=R,this.iterable=C}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iterable=A(this.iterable,l,h),this}get names(){return W(super.names,this.iterable.names)}}class L extends v{constructor(l,h,R){super(),this.name=l,this.args=h,this.async=R}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}L.kind="func";class V extends m{render(l){return"return "+super.render(l)}}V.kind="return";class Q extends v{render(l){let h="try"+super.render(l);return this.catch&&(h+=this.catch.render(l)),this.finally&&(h+=this.finally.render(l)),h}optimizeNodes(){var l,h;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(l,h){var R,C;return super.optimizeNames(l,h),(R=this.catch)===null||R===void 0||R.optimizeNames(l,h),(C=this.finally)===null||C===void 0||C.optimizeNames(l,h),this}get names(){const l=super.names;return this.catch&&W(l,this.catch.names),this.finally&&W(l,this.finally.names),l}}class Z extends v{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}Z.kind="catch";class se extends v{render(l){return"finally"+super.render(l)}}se.kind="finally";class z{constructor(l,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=l,this._scope=new r.Scope({parent:l}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,h){const R=this._extScope.value(l,h);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(l,h){return this._extScope.getValue(l,h)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,h,R,C){const M=this._scope.toName(h);return R!==void 0&&C&&(this._constants[M.str]=R),this._leafNode(new i(l,M,R)),M}const(l,h,R){return this._def(r.varKinds.const,l,h,R)}let(l,h,R){return this._def(r.varKinds.let,l,h,R)}var(l,h,R){return this._def(r.varKinds.var,l,h,R)}assign(l,h,R){return this._leafNode(new o(l,h,R))}add(l,h){return this._leafNode(new c(l,e.operators.ADD,h))}code(l){return typeof l=="function"?l():l!==t.nil&&this._leafNode(new y(l)),this}object(...l){const h=["{"];for(const[R,C]of l)h.length>1&&h.push(","),h.push(R),(R!==C||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,C));return h.push("}"),new t._Code(h)}if(l,h,R){if(this._blockNode(new p(l)),h&&R)this.code(h).else().code(R).endIf();else if(h)this.code(h).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new p(l))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(p,E)}_for(l,h){return this._blockNode(l),h&&this.code(h).endFor(),this}for(l,h){return this._for(new P(l),h)}forRange(l,h,R,C,M=this.opts.es5?r.varKinds.var:r.varKinds.let){const X=this._scope.toName(l);return this._for(new O(M,X,h,R),()=>C(X))}forOf(l,h,R,C=r.varKinds.const){const M=this._scope.toName(l);if(this.opts.es5){const X=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${X}.length`,Y=>{this.var(M,(0,t._)`${X}[${Y}]`),R(M)})}return this._for(new j("of",C,M,h),()=>R(M))}forIn(l,h,R,C=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,t._)`Object.keys(${h})`,R);const M=this._scope.toName(l);return this._for(new j("in",C,M,h),()=>R(M))}endFor(){return this._endBlockNode($)}label(l){return this._leafNode(new d(l))}break(l){return this._leafNode(new u(l))}return(l){const h=new V;if(this._blockNode(h),this.code(l),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(V)}try(l,h,R){if(!h&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');const C=new Q;if(this._blockNode(C),this.code(l),h){const M=this.name("e");this._currNode=C.catch=new Z(M),h(M)}return R&&(this._currNode=C.finally=new se,this.code(R)),this._endBlockNode(Z,se)}throw(l){return this._leafNode(new f(l))}block(l,h){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(h),this}endBlock(l){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const R=this._nodes.length-h;if(R<0||l!==void 0&&R!==l)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${l} expected`);return this._nodes.length=h,this}func(l,h=t.nil,R,C){return this._blockNode(new L(l,h,R)),C&&this.code(C).endFunc(),this}endFunc(){return this._endBlockNode(L)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,h){const R=this._currNode;if(R instanceof l||h&&R instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${l.kind}/${h.kind}`:l.kind}"`)}_elseNode(l){const h=this._currNode;if(!(h instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const h=this._nodes;h[h.length-1]=l}}e.CodeGen=z;function W(b,l){for(const h in l)b[h]=(b[h]||0)+(l[h]||0);return b}function G(b,l){return l instanceof t._CodeOrName?W(b,l.names):b}function A(b,l,h){if(b instanceof t.Name)return R(b);if(!C(b))return b;return new t._Code(b._items.reduce((M,X)=>(X instanceof t.Name&&(X=R(X)),X instanceof t._Code?M.push(...X._items):M.push(X),M),[]));function R(M){const X=h[M.str];return X===void 0||l[M.str]!==1?M:(delete l[M.str],X)}function C(M){return M instanceof t._Code&&M._items.some(X=>X instanceof t.Name&&l[X.str]===1&&h[X.str]!==void 0)}}function F(b,l){for(const h in l)b[h]=(b[h]||0)-(l[h]||0)}function B(b){return typeof b=="boolean"||typeof b=="number"||b===null?!b:(0,t._)`!${N(b)}`}e.not=B;const q=w(e.operators.AND);function x(...b){return b.reduce(q)}e.and=x;const H=w(e.operators.OR);function T(...b){return b.reduce(H)}e.or=T;function w(b){return(l,h)=>l===t.nil?h:h===t.nil?l:(0,t._)`${N(l)} ${b} ${N(h)}`}function N(b){return b instanceof t.Name?b:(0,t._)`(${b})`}})(oe);var K={};Object.defineProperty(K,"__esModule",{value:!0});K.checkStrictMode=K.getErrorPath=K.Type=K.useFunc=K.setEvaluated=K.evaluatedPropsToName=K.mergeEvaluated=K.eachItem=K.unescapeJsonPointer=K.escapeJsonPointer=K.escapeFragment=K.unescapeFragment=K.schemaRefOrVal=K.schemaHasRulesButRef=K.schemaHasRules=K.checkUnknownRules=K.alwaysValidSchema=K.toHash=void 0;const ge=oe,gd=nn;function vd(e){const t={};for(const r of e)t[r]=!0;return t}K.toHash=vd;function wd(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(ul(e,t),!dl(t,e.self.RULES.all))}K.alwaysValidSchema=wd;function ul(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const s in t)a[s]||ml(e,`unknown keyword: "${s}"`)}K.checkUnknownRules=ul;function dl(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}K.schemaHasRules=dl;function Ed(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}K.schemaHasRulesButRef=Ed;function bd({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ge._)`${r}`}return(0,ge._)`${e}${t}${(0,ge.getProperty)(n)}`}K.schemaRefOrVal=bd;function Sd(e){return fl(decodeURIComponent(e))}K.unescapeFragment=Sd;function Pd(e){return encodeURIComponent(Na(e))}K.escapeFragment=Pd;function Na(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}K.escapeJsonPointer=Na;function fl(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}K.unescapeJsonPointer=fl;function Rd(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}K.eachItem=Rd;function Si({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,s,i,o)=>{const c=i===void 0?s:i instanceof ge.Name?(s instanceof ge.Name?e(a,s,i):t(a,s,i),i):s instanceof ge.Name?(t(a,i,s),s):r(s,i);return o===ge.Name&&!(c instanceof ge.Name)?n(a,c):c}}K.mergeEvaluated={props:Si({mergeNames:(e,t,r)=>e.if((0,ge._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ge._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ge._)`${r} || {}`).code((0,ge._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ge._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ge._)`${r} || {}`),Oa(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:hl}),items:Si({mergeNames:(e,t,r)=>e.if((0,ge._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ge._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ge._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ge._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function hl(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ge._)`{}`);return t!==void 0&&Oa(e,r,t),r}K.evaluatedPropsToName=hl;function Oa(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ge._)`${t}${(0,ge.getProperty)(n)}`,!0))}K.setEvaluated=Oa;const Pi={};function Nd(e,t){return e.scopeValue("func",{ref:t,code:Pi[t.code]||(Pi[t.code]=new gd._Code(t.code))})}K.useFunc=Nd;var aa;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(aa||(K.Type=aa={}));function Od(e,t,r){if(e instanceof ge.Name){const n=t===aa.Num;return r?n?(0,ge._)`"[" + ${e} + "]"`:(0,ge._)`"['" + ${e} + "']"`:n?(0,ge._)`"/" + ${e}`:(0,ge._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ge.getProperty)(e).toString():"/"+Na(e)}K.getErrorPath=Od;function ml(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}K.checkStrictMode=ml;var hn={},Ri;function ft(){if(Ri)return hn;Ri=1,Object.defineProperty(hn,"__esModule",{value:!0});const e=oe,t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return hn.default=t,hn}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=oe,r=K,n=ft();e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:p})=>p?(0,t.str)`"${E}" keyword must be ${p} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function a(E,p=e.keywordError,$,P){const{it:O}=E,{gen:j,compositeRule:L,allErrors:V}=O,Q=f(E,p,$);P??(L||V)?c(j,Q):d(O,(0,t._)`[${Q}]`)}e.reportError=a;function s(E,p=e.keywordError,$){const{it:P}=E,{gen:O,compositeRule:j,allErrors:L}=P,V=f(E,p,$);c(O,V),j||L||d(P,n.default.vErrors)}e.reportExtraError=s;function i(E,p){E.assign(n.default.errors,p),E.if((0,t._)`${n.default.vErrors} !== null`,()=>E.if(p,()=>E.assign((0,t._)`${n.default.vErrors}.length`,p),()=>E.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function o({gen:E,keyword:p,schemaValue:$,data:P,errsCount:O,it:j}){if(O===void 0)throw new Error("ajv implementation error");const L=E.name("err");E.forRange("i",O,n.default.errors,V=>{E.const(L,(0,t._)`${n.default.vErrors}[${V}]`),E.if((0,t._)`${L}.instancePath === undefined`,()=>E.assign((0,t._)`${L}.instancePath`,(0,t.strConcat)(n.default.instancePath,j.errorPath))),E.assign((0,t._)`${L}.schemaPath`,(0,t.str)`${j.errSchemaPath}/${p}`),j.opts.verbose&&(E.assign((0,t._)`${L}.schema`,$),E.assign((0,t._)`${L}.data`,P))})}e.extendErrors=o;function c(E,p){const $=E.const("err",p);E.if((0,t._)`${n.default.vErrors} === null`,()=>E.assign(n.default.vErrors,(0,t._)`[${$}]`),(0,t._)`${n.default.vErrors}.push(${$})`),E.code((0,t._)`${n.default.errors}++`)}function d(E,p){const{gen:$,validateName:P,schemaEnv:O}=E;O.$async?$.throw((0,t._)`new ${E.ValidationError}(${p})`):($.assign((0,t._)`${P}.errors`,p),$.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(E,p,$){const{createErrors:P}=E.it;return P===!1?(0,t._)`{}`:y(E,p,$)}function y(E,p,$={}){const{gen:P,it:O}=E,j=[m(O,$),v(E,$)];return _(E,p,j),P.object(...j)}function m({errorPath:E},{instancePath:p}){const $=p?(0,t.str)`${E}${(0,r.getErrorPath)(p,r.Type.Str)}`:E;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,$)]}function v({keyword:E,it:{errSchemaPath:p}},{schemaPath:$,parentSchema:P}){let O=P?p:(0,t.str)`${p}/${E}`;return $&&(O=(0,t.str)`${O}${(0,r.getErrorPath)($,r.Type.Str)}`),[u.schemaPath,O]}function _(E,{params:p,message:$},P){const{keyword:O,data:j,schemaValue:L,it:V}=E,{opts:Q,propertyName:Z,topSchemaRef:se,schemaPath:z}=V;P.push([u.keyword,O],[u.params,typeof p=="function"?p(E):p||(0,t._)`{}`]),Q.messages&&P.push([u.message,typeof $=="function"?$(E):$]),Q.verbose&&P.push([u.schema,L],[u.parentSchema,(0,t._)`${se}${z}`],[n.default.data,j]),Z&&P.push([u.propertyName,Z])}})(an);var Ni;function Id(){if(Ni)return Jt;Ni=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.boolOrEmptySchema=Jt.topBoolOrEmptySchema=void 0;const e=an,t=oe,r=ft(),n={message:"boolean schema is false"};function a(o){const{gen:c,schema:d,validateName:u}=o;d===!1?i(o,!1):typeof d=="object"&&d.$async===!0?c.return(r.default.data):(c.assign((0,t._)`${u}.errors`,null),c.return(!0))}Jt.topBoolOrEmptySchema=a;function s(o,c){const{gen:d,schema:u}=o;u===!1?(d.var(c,!1),i(o)):d.var(c,!0)}Jt.boolOrEmptySchema=s;function i(o,c){const{gen:d,data:u}=o,f={gen:d,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,e.reportError)(f,n,void 0,c)}return Jt}var Oe={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.getRules=cr.isJSONType=void 0;const Td=["string","number","integer","boolean","null","object","array"],jd=new Set(Td);function kd(e){return typeof e=="string"&&jd.has(e)}cr.isJSONType=kd;function Ad(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}cr.getRules=Ad;var It={};Object.defineProperty(It,"__esModule",{value:!0});It.shouldUseRule=It.shouldUseGroup=It.schemaHasRulesForType=void 0;function Cd({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&pl(e,n)}It.schemaHasRulesForType=Cd;function pl(e,t){return t.rules.some(r=>yl(e,r))}It.shouldUseGroup=pl;function yl(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}It.shouldUseRule=yl;Object.defineProperty(Oe,"__esModule",{value:!0});Oe.reportTypeError=Oe.checkDataTypes=Oe.checkDataType=Oe.coerceAndCheckDataType=Oe.getJSONTypes=Oe.getSchemaTypes=Oe.DataType=void 0;const Dd=cr,Md=It,Ld=an,ie=oe,$l=K;var vr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(vr||(Oe.DataType=vr={}));function Fd(e){const t=_l(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Oe.getSchemaTypes=Fd;function _l(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Dd.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Oe.getJSONTypes=_l;function Vd(e,t){const{gen:r,data:n,opts:a}=e,s=zd(t,a.coerceTypes),i=t.length>0&&!(s.length===0&&t.length===1&&(0,Md.schemaHasRulesForType)(e,t[0]));if(i){const o=Ia(t,n,a.strictNumbers,vr.Wrong);r.if(o,()=>{s.length?Ud(e,t,s):Ta(e)})}return i}Oe.coerceAndCheckDataType=Vd;const gl=new Set(["string","number","integer","boolean","null"]);function zd(e,t){return t?e.filter(r=>gl.has(r)||t==="array"&&r==="array"):[]}function Ud(e,t,r){const{gen:n,data:a,opts:s}=e,i=n.let("dataType",(0,ie._)`typeof ${a}`),o=n.let("coerced",(0,ie._)`undefined`);s.coerceTypes==="array"&&n.if((0,ie._)`${i} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,ie._)`${a}[0]`).assign(i,(0,ie._)`typeof ${a}`).if(Ia(t,a,s.strictNumbers),()=>n.assign(o,a))),n.if((0,ie._)`${o} !== undefined`);for(const d of r)(gl.has(d)||d==="array"&&s.coerceTypes==="array")&&c(d);n.else(),Ta(e),n.endIf(),n.if((0,ie._)`${o} !== undefined`,()=>{n.assign(a,o),qd(e,o)});function c(d){switch(d){case"string":n.elseIf((0,ie._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,ie._)`"" + ${a}`).elseIf((0,ie._)`${a} === null`).assign(o,(0,ie._)`""`);return;case"number":n.elseIf((0,ie._)`${i} == "boolean" || ${a} === null
              || (${i} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,ie._)`+${a}`);return;case"integer":n.elseIf((0,ie._)`${i} === "boolean" || ${a} === null
              || (${i} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,ie._)`+${a}`);return;case"boolean":n.elseIf((0,ie._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,ie._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,ie._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,ie._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${a} === null`).assign(o,(0,ie._)`[${a}]`)}}}function qd({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,ie._)`${t} !== undefined`,()=>e.assign((0,ie._)`${t}[${r}]`,n))}function oa(e,t,r,n=vr.Correct){const a=n===vr.Correct?ie.operators.EQ:ie.operators.NEQ;let s;switch(e){case"null":return(0,ie._)`${t} ${a} null`;case"array":s=(0,ie._)`Array.isArray(${t})`;break;case"object":s=(0,ie._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=i((0,ie._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=i();break;default:return(0,ie._)`typeof ${t} ${a} ${e}`}return n===vr.Correct?s:(0,ie.not)(s);function i(o=ie.nil){return(0,ie.and)((0,ie._)`typeof ${t} == "number"`,o,r?(0,ie._)`isFinite(${t})`:ie.nil)}}Oe.checkDataType=oa;function Ia(e,t,r,n){if(e.length===1)return oa(e[0],t,r,n);let a;const s=(0,$l.toHash)(e);if(s.array&&s.object){const i=(0,ie._)`typeof ${t} != "object"`;a=s.null?i:(0,ie._)`!${t} || ${i}`,delete s.null,delete s.array,delete s.object}else a=ie.nil;s.number&&delete s.integer;for(const i in s)a=(0,ie.and)(a,oa(i,t,r,n));return a}Oe.checkDataTypes=Ia;const Kd={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,ie._)`{type: ${e}}`:(0,ie._)`{type: ${t}}`};function Ta(e){const t=Gd(e);(0,Ld.reportError)(t,Kd)}Oe.reportTypeError=Ta;function Gd(e){const{gen:t,data:r,schema:n}=e,a=(0,$l.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var Vr={},Oi;function Hd(){if(Oi)return Vr;Oi=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.assignDefaults=void 0;const e=oe,t=K;function r(a,s){const{properties:i,items:o}=a.schema;if(s==="object"&&i)for(const c in i)n(a,c,i[c].default);else s==="array"&&Array.isArray(o)&&o.forEach((c,d)=>n(a,d,c.default))}Vr.assignDefaults=r;function n(a,s,i){const{gen:o,compositeRule:c,data:d,opts:u}=a;if(i===void 0)return;const f=(0,e._)`${d}${(0,e.getProperty)(s)}`;if(c){(0,t.checkStrictMode)(a,`default is ignored for: ${f}`);return}let y=(0,e._)`${f} === undefined`;u.useDefaults==="empty"&&(y=(0,e._)`${y} || ${f} === null || ${f} === ""`),o.if(y,(0,e._)`${f} = ${(0,e.stringify)(i)}`)}return Vr}var rt={},ye={},Ii;function ht(){if(Ii)return ye;Ii=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.validateUnion=ye.validateArray=ye.usePattern=ye.callValidateCode=ye.schemaProperties=ye.allSchemaProperties=ye.noPropertyInData=ye.propertyInData=ye.isOwnProperty=ye.hasPropFunc=ye.reportMissingProp=ye.checkMissingProp=ye.checkReportMissingProp=void 0;const e=oe,t=K,r=ft(),n=K;function a($,P){const{gen:O,data:j,it:L}=$;O.if(u(O,j,P,L.opts.ownProperties),()=>{$.setParams({missingProperty:(0,e._)`${P}`},!0),$.error()})}ye.checkReportMissingProp=a;function s({gen:$,data:P,it:{opts:O}},j,L){return(0,e.or)(...j.map(V=>(0,e.and)(u($,P,V,O.ownProperties),(0,e._)`${L} = ${V}`)))}ye.checkMissingProp=s;function i($,P){$.setParams({missingProperty:P},!0),$.error()}ye.reportMissingProp=i;function o($){return $.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}ye.hasPropFunc=o;function c($,P,O){return(0,e._)`${o($)}.call(${P}, ${O})`}ye.isOwnProperty=c;function d($,P,O,j){const L=(0,e._)`${P}${(0,e.getProperty)(O)} !== undefined`;return j?(0,e._)`${L} && ${c($,P,O)}`:L}ye.propertyInData=d;function u($,P,O,j){const L=(0,e._)`${P}${(0,e.getProperty)(O)} === undefined`;return j?(0,e.or)(L,(0,e.not)(c($,P,O))):L}ye.noPropertyInData=u;function f($){return $?Object.keys($).filter(P=>P!=="__proto__"):[]}ye.allSchemaProperties=f;function y($,P){return f(P).filter(O=>!(0,t.alwaysValidSchema)($,P[O]))}ye.schemaProperties=y;function m({schemaCode:$,data:P,it:{gen:O,topSchemaRef:j,schemaPath:L,errorPath:V},it:Q},Z,se,z){const W=z?(0,e._)`${$}, ${P}, ${j}${L}`:P,G=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,V)],[r.default.parentData,Q.parentData],[r.default.parentDataProperty,Q.parentDataProperty],[r.default.rootData,r.default.rootData]];Q.opts.dynamicRef&&G.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const A=(0,e._)`${W}, ${O.object(...G)}`;return se!==e.nil?(0,e._)`${Z}.call(${se}, ${A})`:(0,e._)`${Z}(${A})`}ye.callValidateCode=m;const v=(0,e._)`new RegExp`;function _({gen:$,it:{opts:P}},O){const j=P.unicodeRegExp?"u":"",{regExp:L}=P.code,V=L(O,j);return $.scopeValue("pattern",{key:V.toString(),ref:V,code:(0,e._)`${L.code==="new RegExp"?v:(0,n.useFunc)($,L)}(${O}, ${j})`})}ye.usePattern=_;function E($){const{gen:P,data:O,keyword:j,it:L}=$,V=P.name("valid");if(L.allErrors){const Z=P.let("valid",!0);return Q(()=>P.assign(Z,!1)),Z}return P.var(V,!0),Q(()=>P.break()),V;function Q(Z){const se=P.const("len",(0,e._)`${O}.length`);P.forRange("i",0,se,z=>{$.subschema({keyword:j,dataProp:z,dataPropType:t.Type.Num},V),P.if((0,e.not)(V),Z)})}}ye.validateArray=E;function p($){const{gen:P,schema:O,keyword:j,it:L}=$;if(!Array.isArray(O))throw new Error("ajv implementation error");if(O.some(se=>(0,t.alwaysValidSchema)(L,se))&&!L.opts.unevaluated)return;const Q=P.let("valid",!1),Z=P.name("_valid");P.block(()=>O.forEach((se,z)=>{const W=$.subschema({keyword:j,schemaProp:z,compositeRule:!0},Z);P.assign(Q,(0,e._)`${Q} || ${Z}`),$.mergeValidEvaluated(W,Z)||P.if((0,e.not)(Q))})),$.result(Q,()=>$.reset(),()=>$.error(!0))}return ye.validateUnion=p,ye}var Ti;function Wd(){if(Ti)return rt;Ti=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.validateKeywordUsage=rt.validSchemaType=rt.funcKeywordCode=rt.macroKeywordCode=void 0;const e=oe,t=ft(),r=ht(),n=an;function a(y,m){const{gen:v,keyword:_,schema:E,parentSchema:p,it:$}=y,P=m.macro.call($.self,E,p,$),O=d(v,_,P);$.opts.validateSchema!==!1&&$.self.validateSchema(P,!0);const j=v.name("valid");y.subschema({schema:P,schemaPath:e.nil,errSchemaPath:`${$.errSchemaPath}/${_}`,topSchemaRef:O,compositeRule:!0},j),y.pass(j,()=>y.error(!0))}rt.macroKeywordCode=a;function s(y,m){var v;const{gen:_,keyword:E,schema:p,parentSchema:$,$data:P,it:O}=y;c(O,m);const j=!P&&m.compile?m.compile.call(O.self,p,$,O):m.validate,L=d(_,E,j),V=_.let("valid");y.block$data(V,Q),y.ok((v=m.valid)!==null&&v!==void 0?v:V);function Q(){if(m.errors===!1)z(),m.modifying&&i(y),W(()=>y.error());else{const G=m.async?Z():se();m.modifying&&i(y),W(()=>o(y,G))}}function Z(){const G=_.let("ruleErrs",null);return _.try(()=>z((0,e._)`await `),A=>_.assign(V,!1).if((0,e._)`${A} instanceof ${O.ValidationError}`,()=>_.assign(G,(0,e._)`${A}.errors`),()=>_.throw(A))),G}function se(){const G=(0,e._)`${L}.errors`;return _.assign(G,null),z(e.nil),G}function z(G=m.async?(0,e._)`await `:e.nil){const A=O.opts.passContext?t.default.this:t.default.self,F=!("compile"in m&&!P||m.schema===!1);_.assign(V,(0,e._)`${G}${(0,r.callValidateCode)(y,L,A,F)}`,m.modifying)}function W(G){var A;_.if((0,e.not)((A=m.valid)!==null&&A!==void 0?A:V),G)}}rt.funcKeywordCode=s;function i(y){const{gen:m,data:v,it:_}=y;m.if(_.parentData,()=>m.assign(v,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function o(y,m){const{gen:v}=y;v.if((0,e._)`Array.isArray(${m})`,()=>{v.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${m} : ${t.default.vErrors}.concat(${m})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(y)},()=>y.error())}function c({schemaEnv:y},m){if(m.async&&!y.$async)throw new Error("async keyword in sync schema")}function d(y,m,v){if(v===void 0)throw new Error(`keyword "${m}" failed to compile`);return y.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function u(y,m,v=!1){return!m.length||m.some(_=>_==="array"?Array.isArray(y):_==="object"?y&&typeof y=="object"&&!Array.isArray(y):typeof y==_||v&&typeof y>"u")}rt.validSchemaType=u;function f({schema:y,opts:m,self:v,errSchemaPath:_},E,p){if(Array.isArray(E.keyword)?!E.keyword.includes(p):E.keyword!==p)throw new Error("ajv implementation error");const $=E.dependencies;if($!=null&&$.some(P=>!Object.prototype.hasOwnProperty.call(y,P)))throw new Error(`parent schema must have dependencies of ${p}: ${$.join(",")}`);if(E.validateSchema&&!E.validateSchema(y[p])){const O=`keyword "${p}" value is invalid at path "${_}": `+v.errorsText(E.validateSchema.errors);if(m.validateSchema==="log")v.logger.error(O);else throw new Error(O)}}return rt.validateKeywordUsage=f,rt}var St={},ji;function Bd(){if(ji)return St;ji=1,Object.defineProperty(St,"__esModule",{value:!0}),St.extendSubschemaMode=St.extendSubschemaData=St.getSubschema=void 0;const e=oe,t=K;function r(s,{keyword:i,schemaProp:o,schema:c,schemaPath:d,errSchemaPath:u,topSchemaRef:f}){if(i!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(i!==void 0){const y=s.schema[i];return o===void 0?{schema:y,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${i}`}:{schema:y[o],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(i)}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${i}/${(0,t.escapeFragment)(o)}`}}if(c!==void 0){if(d===void 0||u===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:d,topSchemaRef:f,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}St.getSubschema=r;function n(s,i,{dataProp:o,dataPropType:c,data:d,dataTypes:u,propertyName:f}){if(d!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:y}=i;if(o!==void 0){const{errorPath:v,dataPathArr:_,opts:E}=i,p=y.let("data",(0,e._)`${i.data}${(0,e.getProperty)(o)}`,!0);m(p),s.errorPath=(0,e.str)`${v}${(0,t.getErrorPath)(o,c,E.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${o}`,s.dataPathArr=[..._,s.parentDataProperty]}if(d!==void 0){const v=d instanceof e.Name?d:y.let("data",d,!0);m(v),f!==void 0&&(s.propertyName=f)}u&&(s.dataTypes=u);function m(v){s.data=v,s.dataLevel=i.dataLevel+1,s.dataTypes=[],i.definedProperties=new Set,s.parentData=i.data,s.dataNames=[...i.dataNames,v]}}St.extendSubschemaData=n;function a(s,{jtdDiscriminator:i,jtdMetadata:o,compositeRule:c,createErrors:d,allErrors:u}){c!==void 0&&(s.compositeRule=c),d!==void 0&&(s.createErrors=d),u!==void 0&&(s.allErrors=u),s.jtdDiscriminator=i,s.jtdMetadata=o}return St.extendSubschemaMode=a,St}var Ce={},ls=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var i=s[a];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},vl={exports:{}},qt=vl.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};Ln(t,n,a,e,"",e)};qt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};qt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};qt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};qt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ln(e,t,r,n,a,s,i,o,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,s,i,o,c,d);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in qt.arrayKeywords)for(var y=0;y<f.length;y++)Ln(e,t,r,f[y],a+"/"+u+"/"+y,s,a,u,n,y)}else if(u in qt.propsKeywords){if(f&&typeof f=="object")for(var m in f)Ln(e,t,r,f[m],a+"/"+u+"/"+Yd(m),s,a,u,n,m)}else(u in qt.keywords||e.allKeys&&!(u in qt.skipKeywords))&&Ln(e,t,r,f,a+"/"+u,s,a,u,n)}r(n,a,s,i,o,c,d)}}function Yd(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Jd=vl.exports;Object.defineProperty(Ce,"__esModule",{value:!0});Ce.getSchemaRefs=Ce.resolveUrl=Ce.normalizeId=Ce._getFullPath=Ce.getFullPath=Ce.inlineRef=void 0;const Xd=K,xd=ls,Qd=Jd,Zd=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ef(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ia(e):t?wl(e)<=t:!1}Ce.inlineRef=ef;const tf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ia(e){for(const t in e){if(tf.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(ia)||typeof r=="object"&&ia(r))return!0}return!1}function wl(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Zd.has(r)&&(typeof e[r]=="object"&&(0,Xd.eachItem)(e[r],n=>t+=wl(n)),t===1/0))return 1/0}return t}function El(e,t="",r){r!==!1&&(t=wr(t));const n=e.parse(t);return bl(e,n)}Ce.getFullPath=El;function bl(e,t){return e.serialize(t).split("#")[0]+"#"}Ce._getFullPath=bl;const rf=/#\/?$/;function wr(e){return e?e.replace(rf,""):""}Ce.normalizeId=wr;function nf(e,t,r){return r=wr(r),e.resolve(t,r)}Ce.resolveUrl=nf;const sf=/^[a-z_][-a-z0-9._]*$/i;function af(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=wr(e[r]||t),s={"":a},i=El(n,a,!1),o={},c=new Set;return Qd(e,{allKeys:!0},(f,y,m,v)=>{if(v===void 0)return;const _=i+y;let E=s[v];typeof f[r]=="string"&&(E=p.call(this,f[r])),$.call(this,f.$anchor),$.call(this,f.$dynamicAnchor),s[y]=E;function p(P){const O=this.opts.uriResolver.resolve;if(P=wr(E?O(E,P):P),c.has(P))throw u(P);c.add(P);let j=this.refs[P];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?d(f,j.schema,P):P!==wr(_)&&(P[0]==="#"?(d(f,o[P],P),o[P]=f):this.refs[P]=_),P}function $(P){if(typeof P=="string"){if(!sf.test(P))throw new Error(`invalid anchor "${P}"`);p.call(this,`#${P}`)}}}),o;function d(f,y,m){if(y!==void 0&&!xd(f,y))throw u(m)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ce.getSchemaRefs=af;var ki;function us(){if(ki)return bt;ki=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.getData=bt.KeywordCxt=bt.validateFunctionCode=void 0;const e=Id(),t=Oe,r=It,n=Oe,a=Hd(),s=Wd(),i=Bd(),o=oe,c=ft(),d=Ce,u=K,f=an;function y(g){if(j(g)&&(V(g),O(g))){E(g);return}m(g,()=>(0,e.topBoolOrEmptySchema)(g))}bt.validateFunctionCode=y;function m({gen:g,validateName:S,schema:I,schemaEnv:k,opts:D},U){D.code.es5?g.func(S,(0,o._)`${c.default.data}, ${c.default.valCxt}`,k.$async,()=>{g.code((0,o._)`"use strict"; ${$(I,D)}`),_(g,D),g.code(U)}):g.func(S,(0,o._)`${c.default.data}, ${v(D)}`,k.$async,()=>g.code($(I,D)).code(U))}function v(g){return(0,o._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${g.dynamicRef?(0,o._)`, ${c.default.dynamicAnchors}={}`:o.nil}}={}`}function _(g,S){g.if(c.default.valCxt,()=>{g.var(c.default.instancePath,(0,o._)`${c.default.valCxt}.${c.default.instancePath}`),g.var(c.default.parentData,(0,o._)`${c.default.valCxt}.${c.default.parentData}`),g.var(c.default.parentDataProperty,(0,o._)`${c.default.valCxt}.${c.default.parentDataProperty}`),g.var(c.default.rootData,(0,o._)`${c.default.valCxt}.${c.default.rootData}`),S.dynamicRef&&g.var(c.default.dynamicAnchors,(0,o._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{g.var(c.default.instancePath,(0,o._)`""`),g.var(c.default.parentData,(0,o._)`undefined`),g.var(c.default.parentDataProperty,(0,o._)`undefined`),g.var(c.default.rootData,c.default.data),S.dynamicRef&&g.var(c.default.dynamicAnchors,(0,o._)`{}`)})}function E(g){const{schema:S,opts:I,gen:k}=g;m(g,()=>{I.$comment&&S.$comment&&G(g),se(g),k.let(c.default.vErrors,null),k.let(c.default.errors,0),I.unevaluated&&p(g),Q(g),A(g)})}function p(g){const{gen:S,validateName:I}=g;g.evaluated=S.const("evaluated",(0,o._)`${I}.evaluated`),S.if((0,o._)`${g.evaluated}.dynamicProps`,()=>S.assign((0,o._)`${g.evaluated}.props`,(0,o._)`undefined`)),S.if((0,o._)`${g.evaluated}.dynamicItems`,()=>S.assign((0,o._)`${g.evaluated}.items`,(0,o._)`undefined`))}function $(g,S){const I=typeof g=="object"&&g[S.schemaId];return I&&(S.code.source||S.code.process)?(0,o._)`/*# sourceURL=${I} */`:o.nil}function P(g,S){if(j(g)&&(V(g),O(g))){L(g,S);return}(0,e.boolOrEmptySchema)(g,S)}function O({schema:g,self:S}){if(typeof g=="boolean")return!g;for(const I in g)if(S.RULES.all[I])return!0;return!1}function j(g){return typeof g.schema!="boolean"}function L(g,S){const{schema:I,gen:k,opts:D}=g;D.$comment&&I.$comment&&G(g),z(g),W(g);const U=k.const("_errs",c.default.errors);Q(g,U),k.var(S,(0,o._)`${U} === ${c.default.errors}`)}function V(g){(0,u.checkUnknownRules)(g),Z(g)}function Q(g,S){if(g.opts.jtd)return B(g,[],!1,S);const I=(0,t.getSchemaTypes)(g.schema),k=(0,t.coerceAndCheckDataType)(g,I);B(g,I,!k,S)}function Z(g){const{schema:S,errSchemaPath:I,opts:k,self:D}=g;S.$ref&&k.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(S,D.RULES)&&D.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function se(g){const{schema:S,opts:I}=g;S.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,u.checkStrictMode)(g,"default is ignored in the schema root")}function z(g){const S=g.schema[g.opts.schemaId];S&&(g.baseId=(0,d.resolveUrl)(g.opts.uriResolver,g.baseId,S))}function W(g){if(g.schema.$async&&!g.schemaEnv.$async)throw new Error("async schema in sync schema")}function G({gen:g,schemaEnv:S,schema:I,errSchemaPath:k,opts:D}){const U=I.$comment;if(D.$comment===!0)g.code((0,o._)`${c.default.self}.logger.log(${U})`);else if(typeof D.$comment=="function"){const de=(0,o.str)`${k}/$comment`,be=g.scopeValue("root",{ref:S.root});g.code((0,o._)`${c.default.self}.opts.$comment(${U}, ${de}, ${be}.schema)`)}}function A(g){const{gen:S,schemaEnv:I,validateName:k,ValidationError:D,opts:U}=g;I.$async?S.if((0,o._)`${c.default.errors} === 0`,()=>S.return(c.default.data),()=>S.throw((0,o._)`new ${D}(${c.default.vErrors})`)):(S.assign((0,o._)`${k}.errors`,c.default.vErrors),U.unevaluated&&F(g),S.return((0,o._)`${c.default.errors} === 0`))}function F({gen:g,evaluated:S,props:I,items:k}){I instanceof o.Name&&g.assign((0,o._)`${S}.props`,I),k instanceof o.Name&&g.assign((0,o._)`${S}.items`,k)}function B(g,S,I,k){const{gen:D,schema:U,data:de,allErrors:be,opts:me,self:pe}=g,{RULES:fe}=pe;if(U.$ref&&(me.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(U,fe))){D.block(()=>C(g,"$ref",fe.all.$ref.definition));return}me.jtd||x(g,S),D.block(()=>{for(const we of fe.rules)Be(we);Be(fe.post)});function Be(we){(0,r.shouldUseGroup)(U,we)&&(we.type?(D.if((0,n.checkDataType)(we.type,de,me.strictNumbers)),q(g,we),S.length===1&&S[0]===we.type&&I&&(D.else(),(0,n.reportTypeError)(g)),D.endIf()):q(g,we),be||D.if((0,o._)`${c.default.errors} === ${k||0}`))}}function q(g,S){const{gen:I,schema:k,opts:{useDefaults:D}}=g;D&&(0,a.assignDefaults)(g,S.type),I.block(()=>{for(const U of S.rules)(0,r.shouldUseRule)(k,U)&&C(g,U.keyword,U.definition,S.type)})}function x(g,S){g.schemaEnv.meta||!g.opts.strictTypes||(H(g,S),g.opts.allowUnionTypes||T(g,S),w(g,g.dataTypes))}function H(g,S){if(S.length){if(!g.dataTypes.length){g.dataTypes=S;return}S.forEach(I=>{b(g.dataTypes,I)||h(g,`type "${I}" not allowed by context "${g.dataTypes.join(",")}"`)}),l(g,S)}}function T(g,S){S.length>1&&!(S.length===2&&S.includes("null"))&&h(g,"use allowUnionTypes to allow union type keyword")}function w(g,S){const I=g.self.RULES.all;for(const k in I){const D=I[k];if(typeof D=="object"&&(0,r.shouldUseRule)(g.schema,D)){const{type:U}=D.definition;U.length&&!U.some(de=>N(S,de))&&h(g,`missing type "${U.join(",")}" for keyword "${k}"`)}}}function N(g,S){return g.includes(S)||S==="number"&&g.includes("integer")}function b(g,S){return g.includes(S)||S==="integer"&&g.includes("number")}function l(g,S){const I=[];for(const k of g.dataTypes)b(S,k)?I.push(k):S.includes("integer")&&k==="number"&&I.push("integer");g.dataTypes=I}function h(g,S){const I=g.schemaEnv.baseId+g.errSchemaPath;S+=` at "${I}" (strictTypes)`,(0,u.checkStrictMode)(g,S,g.opts.strictTypes)}class R{constructor(S,I,k){if((0,s.validateKeywordUsage)(S,I,k),this.gen=S.gen,this.allErrors=S.allErrors,this.keyword=k,this.data=S.data,this.schema=S.schema[k],this.$data=I.$data&&S.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(S,this.schema,k,this.$data),this.schemaType=I.schemaType,this.parentSchema=S.schema,this.params={},this.it=S,this.def=I,this.$data)this.schemaCode=S.gen.const("vSchema",Y(this.$data,S));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${k} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=S.gen.const("_errs",c.default.errors))}result(S,I,k){this.failResult((0,o.not)(S),I,k)}failResult(S,I,k){this.gen.if(S),k?k():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(S,I){this.failResult((0,o.not)(S),void 0,I)}fail(S){if(S===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(S),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(S){if(!this.$data)return this.fail(S);const{schemaCode:I}=this;this.fail((0,o._)`${I} !== undefined && (${(0,o.or)(this.invalid$data(),S)})`)}error(S,I,k){if(I){this.setParams(I),this._error(S,k),this.setParams({});return}this._error(S,k)}_error(S,I){(S?f.reportExtraError:f.reportError)(this,this.def.error,I)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(S){this.allErrors||this.gen.if(S)}setParams(S,I){I?Object.assign(this.params,S):this.params=S}block$data(S,I,k=o.nil){this.gen.block(()=>{this.check$data(S,k),I()})}check$data(S=o.nil,I=o.nil){if(!this.$data)return;const{gen:k,schemaCode:D,schemaType:U,def:de}=this;k.if((0,o.or)((0,o._)`${D} === undefined`,I)),S!==o.nil&&k.assign(S,!0),(U.length||de.validateSchema)&&(k.elseIf(this.invalid$data()),this.$dataError(),S!==o.nil&&k.assign(S,!1)),k.else()}invalid$data(){const{gen:S,schemaCode:I,schemaType:k,def:D,it:U}=this;return(0,o.or)(de(),be());function de(){if(k.length){if(!(I instanceof o.Name))throw new Error("ajv implementation error");const me=Array.isArray(k)?k:[k];return(0,o._)`${(0,n.checkDataTypes)(me,I,U.opts.strictNumbers,n.DataType.Wrong)}`}return o.nil}function be(){if(D.validateSchema){const me=S.scopeValue("validate$data",{ref:D.validateSchema});return(0,o._)`!${me}(${I})`}return o.nil}}subschema(S,I){const k=(0,i.getSubschema)(this.it,S);(0,i.extendSubschemaData)(k,this.it,S),(0,i.extendSubschemaMode)(k,S);const D={...this.it,...k,items:void 0,props:void 0};return P(D,I),D}mergeEvaluated(S,I){const{it:k,gen:D}=this;k.opts.unevaluated&&(k.props!==!0&&S.props!==void 0&&(k.props=u.mergeEvaluated.props(D,S.props,k.props,I)),k.items!==!0&&S.items!==void 0&&(k.items=u.mergeEvaluated.items(D,S.items,k.items,I)))}mergeValidEvaluated(S,I){const{it:k,gen:D}=this;if(k.opts.unevaluated&&(k.props!==!0||k.items!==!0))return D.if(I,()=>this.mergeEvaluated(S,o.Name)),!0}}bt.KeywordCxt=R;function C(g,S,I,k){const D=new R(g,I,S);"code"in I?I.code(D,k):D.$data&&I.validate?(0,s.funcKeywordCode)(D,I):"macro"in I?(0,s.macroKeywordCode)(D,I):(I.compile||I.validate)&&(0,s.funcKeywordCode)(D,I)}const M=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(g,{dataLevel:S,dataNames:I,dataPathArr:k}){let D,U;if(g==="")return c.default.rootData;if(g[0]==="/"){if(!M.test(g))throw new Error(`Invalid JSON-pointer: ${g}`);D=g,U=c.default.rootData}else{const pe=X.exec(g);if(!pe)throw new Error(`Invalid JSON-pointer: ${g}`);const fe=+pe[1];if(D=pe[2],D==="#"){if(fe>=S)throw new Error(me("property/index",fe));return k[S-fe]}if(fe>S)throw new Error(me("data",fe));if(U=I[S-fe],!D)return U}let de=U;const be=D.split("/");for(const pe of be)pe&&(U=(0,o._)`${U}${(0,o.getProperty)((0,u.unescapeJsonPointer)(pe))}`,de=(0,o._)`${de} && ${U}`);return de;function me(pe,fe){return`Cannot access ${pe} ${fe} levels up, current level is ${S}`}}return bt.getData=Y,bt}var mn={},Ai;function ja(){if(Ai)return mn;Ai=1,Object.defineProperty(mn,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return mn.default=e,mn}var Or={};Object.defineProperty(Or,"__esModule",{value:!0});const As=Ce;let of=class extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,As.resolveUrl)(t,r,n),this.missingSchema=(0,As.normalizeId)((0,As.getFullPath)(t,this.missingRef))}};Or.default=of;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.resolveSchema=ze.getCompilingSchema=ze.resolveRef=ze.compileSchema=ze.SchemaEnv=void 0;const nt=oe,cf=ja(),Xt=ft(),ut=Ce,Ci=K,lf=us();let ds=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ut.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};ze.SchemaEnv=ds;function ka(e){const t=Sl.call(this,e);if(t)return t;const r=(0,ut.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,i=new nt.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;e.$async&&(o=i.scopeValue("Error",{ref:cf.default,code:(0,nt._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const d={gen:i,allErrors:this.opts.allErrors,data:Xt.default.data,parentData:Xt.default.parentData,parentDataProperty:Xt.default.parentDataProperty,dataNames:[Xt.default.data],dataPathArr:[nt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,nt.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:nt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,nt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,lf.validateFunctionCode)(d),i.optimize(this.opts.code.optimize);const f=i.toString();u=`${i.scopeRefs(Xt.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const m=new Function(`${Xt.default.self}`,`${Xt.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:f,scopeValues:i._values}),this.opts.unevaluated){const{props:v,items:_}=d;m.evaluated={props:v instanceof nt.Name?void 0:v,items:_ instanceof nt.Name?void 0:_,dynamicProps:v instanceof nt.Name,dynamicItems:_ instanceof nt.Name},m.source&&(m.source.evaluated=(0,nt.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}ze.compileSchema=ka;function uf(e,t,r){var n;r=(0,ut.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let s=hf.call(this,e,r);if(s===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new ds({schema:i,schemaId:o,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=df.call(this,s)}ze.resolveRef=uf;function df(e){return(0,ut.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ka.call(this,e)}function Sl(e){for(const t of this._compilations)if(ff(t,e))return t}ze.getCompilingSchema=Sl;function ff(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function hf(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||fs.call(this,e,t)}function fs(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ut._getFullPath)(this.opts.uriResolver,r);let a=(0,ut.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return Cs.call(this,r,e);const s=(0,ut.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=fs.call(this,e,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Cs.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||ka.call(this,i),s===(0,ut.normalizeId)(t)){const{schema:o}=i,{schemaId:c}=this.opts,d=o[c];return d&&(a=(0,ut.resolveUrl)(this.opts.uriResolver,a,d)),new ds({schema:o,schemaId:c,root:e,baseId:a})}return Cs.call(this,r,i)}}ze.resolveSchema=fs;const mf=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Cs(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Ci.unescapeFragment)(o)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!mf.has(o)&&d&&(t=(0,ut.resolveUrl)(this.opts.uriResolver,t,d))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Ci.schemaHasRulesButRef)(r,this.RULES)){const o=(0,ut.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=fs.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new ds({schema:r,schemaId:i,root:n,baseId:t}),s.schema!==s.root.schema)return s}const pf="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",yf="Meta-schema for $data reference (JSON AnySchema extension proposal)",$f="object",_f=["$data"],gf={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},vf=!1,wf={$id:pf,description:yf,type:$f,required:_f,properties:gf,additionalProperties:vf};var Aa={},hs={exports:{}};const Ef=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),Pl=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function Rl(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const bf=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function Di(e){return e.length=0,!0}function Sf(e,t,r){if(e.length){const n=Rl(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function Pf(e){let t=0;const r={error:!1,address:"",zone:""},n=[],a=[];let s=!1,i=!1,o=Sf;for(let c=0;c<e.length;c++){const d=e[c];if(!(d==="["||d==="]"))if(d===":"){if(s===!0&&(i=!0),!o(a,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(s=!0),n.push(":");continue}else if(d==="%"){if(!o(a,n,r))break;o=Di}else{a.push(d);continue}}return a.length&&(o===Di?r.zone=a.join(""):i?n.push(a.join("")):n.push(Rl(a))),r.address=n.join(""),r}function Nl(e){if(Rf(e,":")<2)return{host:e,isIPV6:!1};const t=Pf(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Rf(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function Nf(e){let t=e;const r=[];let n=-1,a=0;for(;a=t.length;){if(a===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(a===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(a===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Of(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function If(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!Pl(r)){const n=Nl(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var Ol={nonSimpleDomain:bf,recomposeAuthority:If,normalizeComponentEncoding:Of,removeDotSegments:Nf,isIPv4:Pl,isUUID:Ef,normalizeIPv6:Nl};const{isUUID:Tf}=Ol,jf=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Il(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function Tl(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function jl(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function kf(e){return e.secure=Il(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Af(e){if((e.port===(Il(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Cf(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(jf);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const a=`${n}:${t.nid||e.nid}`,s=Ca(a);e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Df(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),a=`${r}:${t.nid||n}`,s=Ca(a);s&&(e=s.serialize(e,t));const i=e,o=e.nss;return i.path=`${n||t.nid}:${o}`,t.skipEscape=!0,i}function Mf(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Tf(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Lf(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const kl={scheme:"http",domainHost:!0,parse:Tl,serialize:jl},Ff={scheme:"https",domainHost:kl.domainHost,parse:Tl,serialize:jl},Fn={scheme:"ws",domainHost:!0,parse:kf,serialize:Af},Vf={scheme:"wss",domainHost:Fn.domainHost,parse:Fn.parse,serialize:Fn.serialize},zf={scheme:"urn",parse:Cf,serialize:Df,skipNormalize:!0},Uf={scheme:"urn:uuid",parse:Mf,serialize:Lf,skipNormalize:!0},xn={http:kl,https:Ff,ws:Fn,wss:Vf,urn:zf,"urn:uuid":Uf};Object.setPrototypeOf(xn,null);function Ca(e){return e&&(xn[e]||xn[e.toLowerCase()])||void 0}var qf={SCHEMES:xn,getSchemeHandler:Ca};const{normalizeIPv6:Kf,removeDotSegments:Gr,recomposeAuthority:Gf,normalizeComponentEncoding:pn,isIPv4:Hf,nonSimpleDomain:Wf}=Ol,{SCHEMES:Bf,getSchemeHandler:Al}=qf;function Yf(e,t){return typeof e=="string"?e=vt(Tt(e,t),t):typeof e=="object"&&(e=Tt(vt(e,t),t)),e}function Jf(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},a=Cl(Tt(e,n),Tt(t,n),n,!0);return n.skipEscape=!0,vt(a,n)}function Cl(e,t,r,n){const a={};return n||(e=Tt(vt(e,r),r),t=Tt(vt(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=Gr(t.path||""),a.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=Gr(t.path||""),a.query=t.query):(t.path?(t.path[0]==="/"?a.path=Gr(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?a.path="/"+t.path:e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path,a.path=Gr(a.path)),a.query=t.query):(a.path=e.path,t.query!==void 0?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function Xf(e,t,r){return typeof e=="string"?(e=unescape(e),e=vt(pn(Tt(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=vt(pn(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=vt(pn(Tt(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=vt(pn(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function vt(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),a=[],s=Al(n.scheme||r.scheme);s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&a.push(r.scheme,":");const i=Gf(r);if(i!==void 0&&(n.reference!=="suffix"&&a.push("//"),a.push(i),r.path&&r.path[0]!=="/"&&a.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(o=Gr(o)),i===void 0&&o[0]==="/"&&o[1]==="/"&&(o="/%2F"+o.slice(2)),a.push(o)}return r.query!==void 0&&a.push("?",r.query),r.fragment!==void 0&&a.push("#",r.fragment),a.join("")}const xf=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Tt(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let a=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const s=e.match(xf);if(s){if(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5]),n.host)if(Hf(n.host)===!1){const c=Kf(n.host);n.host=c.host.toLowerCase(),a=c.isIPV6}else a=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const i=Al(r.scheme||n.scheme);if(!r.unicodeSupport&&(!i||!i.unicodeSupport)&&n.host&&(r.domainHost||i&&i.domainHost)&&a===!1&&Wf(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(o){n.error=n.error||"Host's domain name can not be converted to ASCII: "+o}(!i||i&&!i.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),i&&i.parse&&i.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const Da={SCHEMES:Bf,normalize:Yf,resolve:Jf,resolveComponent:Cl,equal:Xf,serialize:vt,parse:Tt};hs.exports=Da;hs.exports.default=Da;hs.exports.fastUri=Da;var Dl=hs.exports;Object.defineProperty(Aa,"__esModule",{value:!0});const Ml=Dl;Ml.code='require("ajv/dist/runtime/uri").default';Aa.default=Ml;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=us();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=oe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=ja(),a=Or,s=cr,i=ze,o=oe,c=Ce,d=Oe,u=K,f=wf,y=Aa,m=(T,w)=>new RegExp(T,w);m.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$=200;function P(T){var w,N,b,l,h,R,C,M,X,Y,g,S,I,k,D,U,de,be,me,pe,fe,Be,we,Ht,Wt;const tt=T.strict,Bt=(w=T.code)===null||w===void 0?void 0:w.optimize,Lr=Bt===!0||Bt===void 0?1:Bt||0,Fr=(b=(N=T.code)===null||N===void 0?void 0:N.regExp)!==null&&b!==void 0?b:m,Os=(l=T.uriResolver)!==null&&l!==void 0?l:y.default;return{strictSchema:(R=(h=T.strictSchema)!==null&&h!==void 0?h:tt)!==null&&R!==void 0?R:!0,strictNumbers:(M=(C=T.strictNumbers)!==null&&C!==void 0?C:tt)!==null&&M!==void 0?M:!0,strictTypes:(Y=(X=T.strictTypes)!==null&&X!==void 0?X:tt)!==null&&Y!==void 0?Y:"log",strictTuples:(S=(g=T.strictTuples)!==null&&g!==void 0?g:tt)!==null&&S!==void 0?S:"log",strictRequired:(k=(I=T.strictRequired)!==null&&I!==void 0?I:tt)!==null&&k!==void 0?k:!1,code:T.code?{...T.code,optimize:Lr,regExp:Fr}:{optimize:Lr,regExp:Fr},loopRequired:(D=T.loopRequired)!==null&&D!==void 0?D:$,loopEnum:(U=T.loopEnum)!==null&&U!==void 0?U:$,meta:(de=T.meta)!==null&&de!==void 0?de:!0,messages:(be=T.messages)!==null&&be!==void 0?be:!0,inlineRefs:(me=T.inlineRefs)!==null&&me!==void 0?me:!0,schemaId:(pe=T.schemaId)!==null&&pe!==void 0?pe:"$id",addUsedSchema:(fe=T.addUsedSchema)!==null&&fe!==void 0?fe:!0,validateSchema:(Be=T.validateSchema)!==null&&Be!==void 0?Be:!0,validateFormats:(we=T.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:(Ht=T.unicodeRegExp)!==null&&Ht!==void 0?Ht:!0,int32range:(Wt=T.int32range)!==null&&Wt!==void 0?Wt:!0,uriResolver:Os}}class O{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...P(w)};const{es5:N,lines:b}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:_,es5:N,lines:b}),this.logger=W(w.logger);const l=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),j.call(this,E,w,"NOT SUPPORTED"),j.call(this,p,w,"DEPRECATED","warn"),this._metaOpts=se.call(this),w.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&Z.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),V.call(this),w.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:N,schemaId:b}=this.opts;let l=f;b==="id"&&(l={...f},l.id=l.$id,delete l.$id),N&&w&&this.addMetaSchema(l,l[b],!1)}defaultMeta(){const{meta:w,schemaId:N}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[N]||w:void 0}validate(w,N){let b;if(typeof w=="string"){if(b=this.getSchema(w),!b)throw new Error(`no schema with key or ref "${w}"`)}else b=this.compile(w);const l=b(N);return"$async"in b||(this.errors=b.errors),l}compile(w,N){const b=this._addSchema(w,N);return b.validate||this._compileSchemaEnv(b)}compileAsync(w,N){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:b}=this.opts;return l.call(this,w,N);async function l(Y,g){await h.call(this,Y.$schema);const S=this._addSchema(Y,g);return S.validate||R.call(this,S)}async function h(Y){Y&&!this.getSchema(Y)&&await l.call(this,{$ref:Y},!0)}async function R(Y){try{return this._compileSchemaEnv(Y)}catch(g){if(!(g instanceof a.default))throw g;return C.call(this,g),await M.call(this,g.missingSchema),R.call(this,Y)}}function C({missingSchema:Y,missingRef:g}){if(this.refs[Y])throw new Error(`AnySchema ${Y} is loaded but ${g} cannot be resolved`)}async function M(Y){const g=await X.call(this,Y);this.refs[Y]||await h.call(this,g.$schema),this.refs[Y]||this.addSchema(g,Y,N)}async function X(Y){const g=this._loading[Y];if(g)return g;try{return await(this._loading[Y]=b(Y))}finally{delete this._loading[Y]}}}addSchema(w,N,b,l=this.opts.validateSchema){if(Array.isArray(w)){for(const R of w)this.addSchema(R,void 0,b,l);return this}let h;if(typeof w=="object"){const{schemaId:R}=this.opts;if(h=w[R],h!==void 0&&typeof h!="string")throw new Error(`schema ${R} must be string`)}return N=(0,c.normalizeId)(N||h),this._checkUnique(N),this.schemas[N]=this._addSchema(w,b,N,l,!0),this}addMetaSchema(w,N,b=this.opts.validateSchema){return this.addSchema(w,N,!0,b),this}validateSchema(w,N){if(typeof w=="boolean")return!0;let b;if(b=w.$schema,b!==void 0&&typeof b!="string")throw new Error("$schema must be a string");if(b=b||this.opts.defaultMeta||this.defaultMeta(),!b)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate(b,w);if(!l&&N){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return l}getSchema(w){let N;for(;typeof(N=L.call(this,w))=="string";)w=N;if(N===void 0){const{schemaId:b}=this.opts,l=new i.SchemaEnv({schema:{},schemaId:b});if(N=i.resolveSchema.call(this,l,w),!N)return;this.refs[w]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=L.call(this,w);return typeof N=="object"&&this._cache.delete(N.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const N=w;this._cache.delete(N);let b=w[this.opts.schemaId];return b&&(b=(0,c.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const N of w)this.addKeyword(N);return this}addKeyword(w,N){let b;if(typeof w=="string")b=w,typeof N=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=b);else if(typeof w=="object"&&N===void 0){if(N=w,b=N.keyword,Array.isArray(b)&&!b.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(A.call(this,b,N),!N)return(0,u.eachItem)(b,h=>F.call(this,h)),this;q.call(this,N);const l={...N,type:(0,d.getJSONTypes)(N.type),schemaType:(0,d.getJSONTypes)(N.schemaType)};return(0,u.eachItem)(b,l.type.length===0?h=>F.call(this,h,l):h=>l.type.forEach(R=>F.call(this,h,l,R))),this}getKeyword(w){const N=this.RULES.all[w];return typeof N=="object"?N.definition:!!N}removeKeyword(w){const{RULES:N}=this;delete N.keywords[w],delete N.all[w];for(const b of N.rules){const l=b.rules.findIndex(h=>h.keyword===w);l>=0&&b.rules.splice(l,1)}return this}addFormat(w,N){return typeof N=="string"&&(N=new RegExp(N)),this.formats[w]=N,this}errorsText(w=this.errors,{separator:N=", ",dataVar:b="data"}={}){return!w||w.length===0?"No errors":w.map(l=>`${b}${l.instancePath} ${l.message}`).reduce((l,h)=>l+N+h)}$dataMetaSchema(w,N){const b=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const l of N){const h=l.split("/").slice(1);let R=w;for(const C of h)R=R[C];for(const C in b){const M=b[C];if(typeof M!="object")continue;const{$data:X}=M.definition,Y=R[C];X&&Y&&(R[C]=H(Y))}}return w}_removeAllSchemas(w,N){for(const b in w){const l=w[b];(!N||N.test(b))&&(typeof l=="string"?delete w[b]:l&&!l.meta&&(this._cache.delete(l.schema),delete w[b]))}}_addSchema(w,N,b,l=this.opts.validateSchema,h=this.opts.addUsedSchema){let R;const{schemaId:C}=this.opts;if(typeof w=="object")R=w[C];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let M=this._cache.get(w);if(M!==void 0)return M;b=(0,c.normalizeId)(R||b);const X=c.getSchemaRefs.call(this,w,b);return M=new i.SchemaEnv({schema:w,schemaId:C,meta:N,baseId:b,localRefs:X}),this._cache.set(M.schema,M),h&&!b.startsWith("#")&&(b&&this._checkUnique(b),this.refs[b]=M),l&&this.validateSchema(w,!0),M}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):i.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const N=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,w)}finally{this.opts=N}}}O.ValidationError=n.default,O.MissingRefError=a.default,e.default=O;function j(T,w,N,b="error"){for(const l in T){const h=l;h in w&&this.logger[b](`${N}: option ${l}. ${T[h]}`)}}function L(T){return T=(0,c.normalizeId)(T),this.schemas[T]||this.refs[T]}function V(){const T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(const w in T)this.addSchema(T[w],w)}function Q(){for(const T in this.opts.formats){const w=this.opts.formats[T];w&&this.addFormat(T,w)}}function Z(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in T){const N=T[w];N.keyword||(N.keyword=w),this.addKeyword(N)}}function se(){const T={...this.opts};for(const w of v)delete T[w];return T}const z={log(){},warn(){},error(){}};function W(T){if(T===!1)return z;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}const G=/^[a-z_$][a-z0-9_$:-]*$/i;function A(T,w){const{RULES:N}=this;if((0,u.eachItem)(T,b=>{if(N.keywords[b])throw new Error(`Keyword ${b} is already defined`);if(!G.test(b))throw new Error(`Keyword ${b} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function F(T,w,N){var b;const l=w==null?void 0:w.post;if(N&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let R=l?h.post:h.rules.find(({type:M})=>M===N);if(R||(R={type:N,rules:[]},h.rules.push(R)),h.keywords[T]=!0,!w)return;const C={keyword:T,definition:{...w,type:(0,d.getJSONTypes)(w.type),schemaType:(0,d.getJSONTypes)(w.schemaType)}};w.before?B.call(this,R,C,w.before):R.rules.push(C),h.all[T]=C,(b=w.implements)===null||b===void 0||b.forEach(M=>this.addKeyword(M))}function B(T,w,N){const b=T.rules.findIndex(l=>l.keyword===N);b>=0?T.rules.splice(b,0,w):(T.rules.push(w),this.logger.warn(`rule ${N} is not defined`))}function q(T){let{metaSchema:w}=T;w!==void 0&&(T.$data&&this.opts.$data&&(w=H(w)),T.validateSchema=this.compile(w,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function H(T){return{anyOf:[T,x]}}})(ll);var Ma={},La={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});const Qf={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Fa.default=Qf;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.callRef=jt.getValidate=void 0;const Zf=Or,Mi=ht(),Ke=oe,dr=ft(),Li=ze,yn=K,eh={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:s,validateName:i,opts:o,self:c}=n,{root:d}=s;if((r==="#"||r==="#/")&&a===d.baseId)return f();const u=Li.resolveRef.call(c,d,a,r);if(u===void 0)throw new Zf.default(n.opts.uriResolver,a,r);if(u instanceof Li.SchemaEnv)return y(u);return m(u);function f(){if(s===d)return Vn(e,i,s,s.$async);const v=t.scopeValue("root",{ref:d});return Vn(e,(0,Ke._)`${v}.validate`,d,d.$async)}function y(v){const _=Ll(e,v);Vn(e,_,v,v.$async)}function m(v){const _=t.scopeValue("schema",o.code.source===!0?{ref:v,code:(0,Ke.stringify)(v)}:{ref:v}),E=t.name("valid"),p=e.subschema({schema:v,dataTypes:[],schemaPath:Ke.nil,topSchemaRef:_,errSchemaPath:r},E);e.mergeEvaluated(p),e.ok(E)}}};function Ll(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ke._)`${r.scopeValue("wrapper",{ref:t})}.validate`}jt.getValidate=Ll;function Vn(e,t,r,n){const{gen:a,it:s}=e,{allErrors:i,schemaEnv:o,opts:c}=s,d=c.passContext?dr.default.this:Ke.nil;n?u():f();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");const v=a.let("valid");a.try(()=>{a.code((0,Ke._)`await ${(0,Mi.callValidateCode)(e,t,d)}`),m(t),i||a.assign(v,!0)},_=>{a.if((0,Ke._)`!(${_} instanceof ${s.ValidationError})`,()=>a.throw(_)),y(_),i||a.assign(v,!1)}),e.ok(v)}function f(){e.result((0,Mi.callValidateCode)(e,t,d),()=>m(t),()=>y(t))}function y(v){const _=(0,Ke._)`${v}.errors`;a.assign(dr.default.vErrors,(0,Ke._)`${dr.default.vErrors} === null ? ${_} : ${dr.default.vErrors}.concat(${_})`),a.assign(dr.default.errors,(0,Ke._)`${dr.default.vErrors}.length`)}function m(v){var _;if(!s.opts.unevaluated)return;const E=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(s.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(s.props=yn.mergeEvaluated.props(a,E.props,s.props));else{const p=a.var("props",(0,Ke._)`${v}.evaluated.props`);s.props=yn.mergeEvaluated.props(a,p,s.props,Ke.Name)}if(s.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(s.items=yn.mergeEvaluated.items(a,E.items,s.items));else{const p=a.var("items",(0,Ke._)`${v}.evaluated.items`);s.items=yn.mergeEvaluated.items(a,p,s.items,Ke.Name)}}}jt.callRef=Vn;jt.default=eh;Object.defineProperty(La,"__esModule",{value:!0});const th=Fa,rh=jt,nh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",th.default,rh.default];La.default=nh;var Va={},za={};Object.defineProperty(za,"__esModule",{value:!0});const Qn=oe,Dt=Qn.operators,Zn={maximum:{okStr:"<=",ok:Dt.LTE,fail:Dt.GT},minimum:{okStr:">=",ok:Dt.GTE,fail:Dt.LT},exclusiveMaximum:{okStr:"<",ok:Dt.LT,fail:Dt.GTE},exclusiveMinimum:{okStr:">",ok:Dt.GT,fail:Dt.LTE}},sh={message:({keyword:e,schemaCode:t})=>(0,Qn.str)`must be ${Zn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Qn._)`{comparison: ${Zn[e].okStr}, limit: ${t}}`},ah={keyword:Object.keys(Zn),type:"number",schemaType:"number",$data:!0,error:sh,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Qn._)`${r} ${Zn[t].fail} ${n} || isNaN(${r})`)}};za.default=ah;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const Br=oe,oh={message:({schemaCode:e})=>(0,Br.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Br._)`{multipleOf: ${e}}`},ih={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:oh,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,s=a.opts.multipleOfPrecision,i=t.let("res"),o=s?(0,Br._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,Br._)`${i} !== parseInt(${i})`;e.fail$data((0,Br._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};Ua.default=ih;var qa={},Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});function Fl(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}Ka.default=Fl;Fl.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(qa,"__esModule",{value:!0});const Zt=oe,ch=K,lh=Ka,uh={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Zt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Zt._)`{limit: ${e}}`},dh={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:uh,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,s=t==="maxLength"?Zt.operators.GT:Zt.operators.LT,i=a.opts.unicode===!1?(0,Zt._)`${r}.length`:(0,Zt._)`${(0,ch.useFunc)(e.gen,lh.default)}(${r})`;e.fail$data((0,Zt._)`${i} ${s} ${n}`)}};qa.default=dh;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});const fh=ht(),es=oe,hh={message:({schemaCode:e})=>(0,es.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,es._)`{pattern: ${e}}`},mh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:hh,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:s}=e,i=s.opts.unicodeRegExp?"u":"",o=r?(0,es._)`(new RegExp(${a}, ${i}))`:(0,fh.usePattern)(e,n);e.fail$data((0,es._)`!${o}.test(${t})`)}};Ga.default=mh;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const Yr=oe,ph={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Yr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Yr._)`{limit: ${e}}`},yh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:ph,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Yr.operators.GT:Yr.operators.LT;e.fail$data((0,Yr._)`Object.keys(${r}).length ${a} ${n}`)}};Ha.default=yh;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});const zr=ht(),Jr=oe,$h=K,_h={message:({params:{missingProperty:e}})=>(0,Jr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Jr._)`{missingProperty: ${e}}`},gh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:_h,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:s,it:i}=e,{opts:o}=i;if(!s&&r.length===0)return;const c=r.length>=o.loopRequired;if(i.allErrors?d():u(),o.strictRequired){const m=e.parentSchema.properties,{definedProperties:v}=e.it;for(const _ of r)if((m==null?void 0:m[_])===void 0&&!v.has(_)){const E=i.schemaEnv.baseId+i.errSchemaPath,p=`required property "${_}" is not defined at "${E}" (strictRequired)`;(0,$h.checkStrictMode)(i,p,i.opts.strictRequired)}}function d(){if(c||s)e.block$data(Jr.nil,f);else for(const m of r)(0,zr.checkReportMissingProp)(e,m)}function u(){const m=t.let("missing");if(c||s){const v=t.let("valid",!0);e.block$data(v,()=>y(m,v)),e.ok(v)}else t.if((0,zr.checkMissingProp)(e,r,m)),(0,zr.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,zr.noPropertyInData)(t,a,m,o.ownProperties),()=>e.error())})}function y(m,v){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(v,(0,zr.propertyInData)(t,a,m,o.ownProperties)),t.if((0,Jr.not)(v),()=>{e.error(),t.break()})},Jr.nil)}}};Wa.default=gh;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});const Xr=oe,vh={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Xr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Xr._)`{limit: ${e}}`},wh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:vh,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?Xr.operators.GT:Xr.operators.LT;e.fail$data((0,Xr._)`${r}.length ${a} ${n}`)}};Ba.default=wh;var Ya={},on={};Object.defineProperty(on,"__esModule",{value:!0});const Vl=ls;Vl.code='require("ajv/dist/runtime/equal").default';on.default=Vl;Object.defineProperty(Ya,"__esModule",{value:!0});const Ds=Oe,ke=oe,Eh=K,bh=on,Sh={message:({params:{i:e,j:t}})=>(0,ke.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,ke._)`{i: ${e}, j: ${t}}`},Ph={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Sh,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:s,schemaCode:i,it:o}=e;if(!n&&!a)return;const c=t.let("valid"),d=s.items?(0,Ds.getSchemaTypes)(s.items):[];e.block$data(c,u,(0,ke._)`${i} === false`),e.ok(c);function u(){const v=t.let("i",(0,ke._)`${r}.length`),_=t.let("j");e.setParams({i:v,j:_}),t.assign(c,!0),t.if((0,ke._)`${v} > 1`,()=>(f()?y:m)(v,_))}function f(){return d.length>0&&!d.some(v=>v==="object"||v==="array")}function y(v,_){const E=t.name("item"),p=(0,Ds.checkDataTypes)(d,E,o.opts.strictNumbers,Ds.DataType.Wrong),$=t.const("indices",(0,ke._)`{}`);t.for((0,ke._)`;${v}--;`,()=>{t.let(E,(0,ke._)`${r}[${v}]`),t.if(p,(0,ke._)`continue`),d.length>1&&t.if((0,ke._)`typeof ${E} == "string"`,(0,ke._)`${E} += "_"`),t.if((0,ke._)`typeof ${$}[${E}] == "number"`,()=>{t.assign(_,(0,ke._)`${$}[${E}]`),e.error(),t.assign(c,!1).break()}).code((0,ke._)`${$}[${E}] = ${v}`)})}function m(v,_){const E=(0,Eh.useFunc)(t,bh.default),p=t.name("outer");t.label(p).for((0,ke._)`;${v}--;`,()=>t.for((0,ke._)`${_} = ${v}; ${_}--;`,()=>t.if((0,ke._)`${E}(${r}[${v}], ${r}[${_}])`,()=>{e.error(),t.assign(c,!1).break(p)})))}}};Ya.default=Ph;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const ca=oe,Rh=K,Nh=on,Oh={message:"must be equal to constant",params:({schemaCode:e})=>(0,ca._)`{allowedValue: ${e}}`},Ih={keyword:"const",$data:!0,error:Oh,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,ca._)`!${(0,Rh.useFunc)(t,Nh.default)}(${r}, ${a})`):e.fail((0,ca._)`${s} !== ${r}`)}};Ja.default=Ih;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});const Hr=oe,Th=K,jh=on,kh={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Hr._)`{allowedValues: ${e}}`},Ah={keyword:"enum",schemaType:"array",$data:!0,error:kh,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:s,it:i}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=i.opts.loopEnum;let c;const d=()=>c??(c=(0,Th.useFunc)(t,jh.default));let u;if(o||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const m=t.const("vSchema",s);u=(0,Hr.or)(...a.map((v,_)=>y(m,_)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",s,m=>t.if((0,Hr._)`${d()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function y(m,v){const _=a[v];return typeof _=="object"&&_!==null?(0,Hr._)`${d()}(${r}, ${m}[${v}])`:(0,Hr._)`${r} === ${_}`}}};Xa.default=Ah;Object.defineProperty(Va,"__esModule",{value:!0});const Ch=za,Dh=Ua,Mh=qa,Lh=Ga,Fh=Ha,Vh=Wa,zh=Ba,Uh=Ya,qh=Ja,Kh=Xa,Gh=[Ch.default,Dh.default,Mh.default,Lh.default,Fh.default,Vh.default,zh.default,Uh.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},qh.default,Kh.default];Va.default=Gh;var xa={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.validateAdditionalItems=void 0;const er=oe,la=K,Hh={message:({params:{len:e}})=>(0,er.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,er._)`{limit: ${e}}`},Wh={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Hh,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,la.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}zl(e,n)}};function zl(e,t){const{gen:r,schema:n,data:a,keyword:s,it:i}=e;i.items=!0;const o=r.const("len",(0,er._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,er._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,la.alwaysValidSchema)(i,n)){const d=r.var("valid",(0,er._)`${o} <= ${t.length}`);r.if((0,er.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,o,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:la.Type.Num},d),i.allErrors||r.if((0,er.not)(d),()=>r.break())})}}Ir.validateAdditionalItems=zl;Ir.default=Wh;var Qa={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.validateTuple=void 0;const Fi=oe,zn=K,Bh=ht(),Yh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ul(e,"additionalItems",t);r.items=!0,!(0,zn.alwaysValidSchema)(r,t)&&e.ok((0,Bh.validateArray)(e))}};function Ul(e,t,r=e.schema){const{gen:n,parentSchema:a,data:s,keyword:i,it:o}=e;u(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=zn.mergeEvaluated.items(n,r.length,o.items));const c=n.name("valid"),d=n.const("len",(0,Fi._)`${s}.length`);r.forEach((f,y)=>{(0,zn.alwaysValidSchema)(o,f)||(n.if((0,Fi._)`${d} > ${y}`,()=>e.subschema({keyword:i,schemaProp:y,dataProp:y},c)),e.ok(c))});function u(f){const{opts:y,errSchemaPath:m}=o,v=r.length,_=v===f.minItems&&(v===f.maxItems||f[t]===!1);if(y.strictTuples&&!_){const E=`"${i}" is ${v}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,zn.checkStrictMode)(o,E,y.strictTuples)}}}Tr.validateTuple=Ul;Tr.default=Yh;Object.defineProperty(Qa,"__esModule",{value:!0});const Jh=Tr,Xh={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Jh.validateTuple)(e,"items")};Qa.default=Xh;var Za={};Object.defineProperty(Za,"__esModule",{value:!0});const Vi=oe,xh=K,Qh=ht(),Zh=Ir,em={message:({params:{len:e}})=>(0,Vi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Vi._)`{limit: ${e}}`},tm={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:em,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,xh.alwaysValidSchema)(n,t)&&(a?(0,Zh.validateAdditionalItems)(e,a):e.ok((0,Qh.validateArray)(e)))}};Za.default=tm;var eo={};Object.defineProperty(eo,"__esModule",{value:!0});const Ze=oe,$n=K,rm={message:({params:{min:e,max:t}})=>t===void 0?(0,Ze.str)`must contain at least ${e} valid item(s)`:(0,Ze.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ze._)`{minContains: ${e}}`:(0,Ze._)`{minContains: ${e}, maxContains: ${t}}`},nm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:rm,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;let i,o;const{minContains:c,maxContains:d}=n;s.opts.next?(i=c===void 0?1:c,o=d):i=1;const u=t.const("len",(0,Ze._)`${a}.length`);if(e.setParams({min:i,max:o}),o===void 0&&i===0){(0,$n.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,$n.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,$n.alwaysValidSchema)(s,r)){let _=(0,Ze._)`${u} >= ${i}`;o!==void 0&&(_=(0,Ze._)`${_} && ${u} <= ${o}`),e.pass(_);return}s.items=!0;const f=t.name("valid");o===void 0&&i===1?m(f,()=>t.if(f,()=>t.break())):i===0?(t.let(f,!0),o!==void 0&&t.if((0,Ze._)`${a}.length > 0`,y)):(t.let(f,!1),y()),e.result(f,()=>e.reset());function y(){const _=t.name("_valid"),E=t.let("count",0);m(_,()=>t.if(_,()=>v(E)))}function m(_,E){t.forRange("i",0,u,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:$n.Type.Num,compositeRule:!0},_),E()})}function v(_){t.code((0,Ze._)`${_}++`),o===void 0?t.if((0,Ze._)`${_} >= ${i}`,()=>t.assign(f,!0).break()):(t.if((0,Ze._)`${_} > ${o}`,()=>t.assign(f,!1).break()),i===1?t.assign(f,!0):t.if((0,Ze._)`${_} >= ${i}`,()=>t.assign(f,!0)))}}};eo.default=nm;var ms={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=oe,r=K,n=ht();e.error={message:({params:{property:c,depsCount:d,deps:u}})=>{const f=d===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${d},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,u]=s(c);i(c,d),o(c,u)}};function s({schema:c}){const d={},u={};for(const f in c){if(f==="__proto__")continue;const y=Array.isArray(c[f])?d:u;y[f]=c[f]}return[d,u]}function i(c,d=c.schema){const{gen:u,data:f,it:y}=c;if(Object.keys(d).length===0)return;const m=u.let("missing");for(const v in d){const _=d[v];if(_.length===0)continue;const E=(0,n.propertyInData)(u,f,v,y.opts.ownProperties);c.setParams({property:v,depsCount:_.length,deps:_.join(", ")}),y.allErrors?u.if(E,()=>{for(const p of _)(0,n.checkReportMissingProp)(c,p)}):(u.if((0,t._)`${E} && (${(0,n.checkMissingProp)(c,_,m)})`),(0,n.reportMissingProp)(c,m),u.else())}}e.validatePropertyDeps=i;function o(c,d=c.schema){const{gen:u,data:f,keyword:y,it:m}=c,v=u.name("valid");for(const _ in d)(0,r.alwaysValidSchema)(m,d[_])||(u.if((0,n.propertyInData)(u,f,_,m.opts.ownProperties),()=>{const E=c.subschema({keyword:y,schemaProp:_},v);c.mergeValidEvaluated(E,v)},()=>u.var(v,!0)),c.ok(v))}e.validateSchemaDeps=o,e.default=a})(ms);var to={};Object.defineProperty(to,"__esModule",{value:!0});const ql=oe,sm=K,am={message:"property name must be valid",params:({params:e})=>(0,ql._)`{propertyName: ${e.propertyName}}`},om={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:am,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,sm.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),t.if((0,ql.not)(s),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(s)}};to.default=om;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const _n=ht(),ot=oe,im=ft(),gn=K,cm={message:"must NOT have additional properties",params:({params:e})=>(0,ot._)`{additionalProperty: ${e.additionalProperty}}`},lm={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:cm,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,gn.alwaysValidSchema)(i,r))return;const d=(0,_n.allSchemaProperties)(n.properties),u=(0,_n.allSchemaProperties)(n.patternProperties);f(),e.ok((0,ot._)`${s} === ${im.default.errors}`);function f(){t.forIn("key",a,E=>{!d.length&&!u.length?v(E):t.if(y(E),()=>v(E))})}function y(E){let p;if(d.length>8){const $=(0,gn.schemaRefOrVal)(i,n.properties,"properties");p=(0,_n.isOwnProperty)(t,$,E)}else d.length?p=(0,ot.or)(...d.map($=>(0,ot._)`${E} === ${$}`)):p=ot.nil;return u.length&&(p=(0,ot.or)(p,...u.map($=>(0,ot._)`${(0,_n.usePattern)(e,$)}.test(${E})`))),(0,ot.not)(p)}function m(E){t.code((0,ot._)`delete ${a}[${E}]`)}function v(E){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(E);return}if(r===!1){e.setParams({additionalProperty:E}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,gn.alwaysValidSchema)(i,r)){const p=t.name("valid");c.removeAdditional==="failing"?(_(E,p,!1),t.if((0,ot.not)(p),()=>{e.reset(),m(E)})):(_(E,p),o||t.if((0,ot.not)(p),()=>t.break()))}}function _(E,p,$){const P={keyword:"additionalProperties",dataProp:E,dataPropType:gn.Type.Str};$===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(P,p)}}};ps.default=lm;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});const um=us(),zi=ht(),Ms=K,Ui=ps,dm={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ui.default.code(new um.KeywordCxt(s,Ui.default,"additionalProperties"));const i=(0,zi.allSchemaProperties)(r);for(const f of i)s.definedProperties.add(f);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Ms.mergeEvaluated.props(t,(0,Ms.toHash)(i),s.props));const o=i.filter(f=>!(0,Ms.alwaysValidSchema)(s,r[f]));if(o.length===0)return;const c=t.name("valid");for(const f of o)d(f)?u(f):(t.if((0,zi.propertyInData)(t,a,f,s.opts.ownProperties)),u(f),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function d(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};ro.default=dm;var no={};Object.defineProperty(no,"__esModule",{value:!0});const qi=ht(),vn=oe,Ki=K,Gi=K,fm={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:s}=e,{opts:i}=s,o=(0,qi.allSchemaProperties)(r),c=o.filter(_=>(0,Ki.alwaysValidSchema)(s,r[_]));if(o.length===0||c.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const d=i.strictSchema&&!i.allowMatchingProperties&&a.properties,u=t.name("valid");s.props!==!0&&!(s.props instanceof vn.Name)&&(s.props=(0,Gi.evaluatedPropsToName)(t,s.props));const{props:f}=s;y();function y(){for(const _ of o)d&&m(_),s.allErrors?v(_):(t.var(u,!0),v(_),t.if(u))}function m(_){for(const E in d)new RegExp(_).test(E)&&(0,Ki.checkStrictMode)(s,`property ${E} matches pattern ${_} (use allowMatchingProperties)`)}function v(_){t.forIn("key",n,E=>{t.if((0,vn._)`${(0,qi.usePattern)(e,_)}.test(${E})`,()=>{const p=c.includes(_);p||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:E,dataPropType:Gi.Type.Str},u),s.opts.unevaluated&&f!==!0?t.assign((0,vn._)`${f}[${E}]`,!0):!p&&!s.allErrors&&t.if((0,vn.not)(u),()=>t.break())})})}}};no.default=fm;var so={};Object.defineProperty(so,"__esModule",{value:!0});const hm=K,mm={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,hm.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};so.default=mm;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});const pm=ht(),ym={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:pm.validateUnion,error:{message:"must match a schema in anyOf"}};ao.default=ym;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});const Un=oe,$m=K,_m={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Un._)`{passingSchemas: ${e.passing}}`},gm={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:_m,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,i=t.let("valid",!1),o=t.let("passing",null),c=t.name("_valid");e.setParams({passing:o}),t.block(d),e.result(i,()=>e.reset(),()=>e.error(!0));function d(){s.forEach((u,f)=>{let y;(0,$m.alwaysValidSchema)(a,u)?t.var(c,!0):y=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,Un._)`${c} && ${i}`).assign(i,!1).assign(o,(0,Un._)`[${o}, ${f}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(o,f),y&&e.mergeEvaluated(y,Un.Name)})})}}};oo.default=gm;var io={};Object.defineProperty(io,"__esModule",{value:!0});const vm=K,wm={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((s,i)=>{if((0,vm.alwaysValidSchema)(n,s))return;const o=e.subschema({keyword:"allOf",schemaProp:i},a);e.ok(a),e.mergeEvaluated(o)})}};io.default=wm;var co={};Object.defineProperty(co,"__esModule",{value:!0});const ts=oe,Kl=K,Em={message:({params:e})=>(0,ts.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ts._)`{failingKeyword: ${e.ifClause}}`},bm={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Em,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Kl.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Hi(n,"then"),s=Hi(n,"else");if(!a&&!s)return;const i=t.let("valid",!0),o=t.name("_valid");if(c(),e.reset(),a&&s){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(o,d("then",u),d("else",u))}else a?t.if(o,d("then")):t.if((0,ts.not)(o),d("else"));e.pass(i,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(u)}function d(u,f){return()=>{const y=e.subschema({keyword:u},o);t.assign(i,o),e.mergeValidEvaluated(y,i),f?t.assign(f,(0,ts._)`${u}`):e.setParams({ifClause:u})}}}};function Hi(e,t){const r=e.schema[t];return r!==void 0&&!(0,Kl.alwaysValidSchema)(e,r)}co.default=bm;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});const Sm=K,Pm={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Sm.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};lo.default=Pm;Object.defineProperty(xa,"__esModule",{value:!0});const Rm=Ir,Nm=Qa,Om=Tr,Im=Za,Tm=eo,jm=ms,km=to,Am=ps,Cm=ro,Dm=no,Mm=so,Lm=ao,Fm=oo,Vm=io,zm=co,Um=lo;function qm(e=!1){const t=[Mm.default,Lm.default,Fm.default,Vm.default,zm.default,Um.default,km.default,Am.default,jm.default,Cm.default,Dm.default];return e?t.push(Nm.default,Im.default):t.push(Rm.default,Om.default),t.push(Tm.default),t}xa.default=qm;var uo={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.dynamicAnchor=void 0;const Ls=oe,Km=ft(),Wi=ze,Gm=jt,Hm={keyword:"$dynamicAnchor",schemaType:"string",code:e=>Gl(e,e.schema)};function Gl(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const a=(0,Ls._)`${Km.default.dynamicAnchors}${(0,Ls.getProperty)(t)}`,s=n.errSchemaPath==="#"?n.validateName:Wm(e);r.if((0,Ls._)`!${a}`,()=>r.assign(a,s))}jr.dynamicAnchor=Gl;function Wm(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:a,baseId:s,localRefs:i,meta:o}=t.root,{schemaId:c}=n.opts,d=new Wi.SchemaEnv({schema:r,schemaId:c,root:a,baseId:s,localRefs:i,meta:o});return Wi.compileSchema.call(n,d),(0,Gm.getValidate)(e,d)}jr.default=Hm;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.dynamicRef=void 0;const Bi=oe,Bm=ft(),Yi=jt,Ym={keyword:"$dynamicRef",schemaType:"string",code:e=>Hl(e,e.schema)};function Hl(e,t){const{gen:r,keyword:n,it:a}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const s=t.slice(1);if(a.allErrors)i();else{const c=r.let("valid",!1);i(c),e.ok(c)}function i(c){if(a.schemaEnv.root.dynamicAnchors[s]){const d=r.let("_v",(0,Bi._)`${Bm.default.dynamicAnchors}${(0,Bi.getProperty)(s)}`);r.if(d,o(d,c),o(a.validateName,c))}else o(a.validateName,c)()}function o(c,d){return d?()=>r.block(()=>{(0,Yi.callRef)(e,c),r.let(d,!0)}):()=>(0,Yi.callRef)(e,c)}}kr.dynamicRef=Hl;kr.default=Ym;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});const Jm=jr,Xm=K,xm={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Jm.dynamicAnchor)(e,""):(0,Xm.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};fo.default=xm;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});const Qm=kr,Zm={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Qm.dynamicRef)(e,e.schema)};ho.default=Zm;Object.defineProperty(uo,"__esModule",{value:!0});const ep=jr,tp=kr,rp=fo,np=ho,sp=[ep.default,tp.default,rp.default,np.default];uo.default=sp;var mo={},po={};Object.defineProperty(po,"__esModule",{value:!0});const Ji=ms,ap={keyword:"dependentRequired",type:"object",schemaType:"object",error:Ji.error,code:e=>(0,Ji.validatePropertyDeps)(e)};po.default=ap;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});const op=ms,ip={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,op.validateSchemaDeps)(e)};yo.default=ip;var $o={};Object.defineProperty($o,"__esModule",{value:!0});const cp=K,lp={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,cp.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};$o.default=lp;Object.defineProperty(mo,"__esModule",{value:!0});const up=po,dp=yo,fp=$o,hp=[up.default,dp.default,fp.default];mo.default=hp;var _o={},go={};Object.defineProperty(go,"__esModule",{value:!0});const Ft=oe,Xi=K,mp=ft(),pp={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Ft._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},yp={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:pp,code(e){const{gen:t,schema:r,data:n,errsCount:a,it:s}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:i,props:o}=s;o instanceof Ft.Name?t.if((0,Ft._)`${o} !== true`,()=>t.forIn("key",n,f=>t.if(d(o,f),()=>c(f)))):o!==!0&&t.forIn("key",n,f=>o===void 0?c(f):t.if(u(o,f),()=>c(f))),s.props=!0,e.ok((0,Ft._)`${a} === ${mp.default.errors}`);function c(f){if(r===!1){e.setParams({unevaluatedProperty:f}),e.error(),i||t.break();return}if(!(0,Xi.alwaysValidSchema)(s,r)){const y=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:Xi.Type.Str},y),i||t.if((0,Ft.not)(y),()=>t.break())}}function d(f,y){return(0,Ft._)`!${f} || !${f}[${y}]`}function u(f,y){const m=[];for(const v in f)f[v]===!0&&m.push((0,Ft._)`${y} !== ${v}`);return(0,Ft.and)(...m)}}};go.default=yp;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});const tr=oe,xi=K,$p={message:({params:{len:e}})=>(0,tr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,tr._)`{limit: ${e}}`},_p={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:$p,code(e){const{gen:t,schema:r,data:n,it:a}=e,s=a.items||0;if(s===!0)return;const i=t.const("len",(0,tr._)`${n}.length`);if(r===!1)e.setParams({len:s}),e.fail((0,tr._)`${i} > ${s}`);else if(typeof r=="object"&&!(0,xi.alwaysValidSchema)(a,r)){const c=t.var("valid",(0,tr._)`${i} <= ${s}`);t.if((0,tr.not)(c),()=>o(c,s)),e.ok(c)}a.items=!0;function o(c,d){t.forRange("i",d,i,u=>{e.subschema({keyword:"unevaluatedItems",dataProp:u,dataPropType:xi.Type.Num},c),a.allErrors||t.if((0,tr.not)(c),()=>t.break())})}}};vo.default=_p;Object.defineProperty(_o,"__esModule",{value:!0});const gp=go,vp=vo,wp=[gp.default,vp.default];_o.default=wp;var wo={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});const Re=oe,Ep={message:({schemaCode:e})=>(0,Re.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Re._)`{format: ${e}}`},bp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ep,code(e,t){const{gen:r,data:n,$data:a,schema:s,schemaCode:i,it:o}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:f}=o;if(!c.validateFormats)return;a?y():m();function y(){const v=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),_=r.const("fDef",(0,Re._)`${v}[${i}]`),E=r.let("fType"),p=r.let("format");r.if((0,Re._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(E,(0,Re._)`${_}.type || "string"`).assign(p,(0,Re._)`${_}.validate`),()=>r.assign(E,(0,Re._)`"string"`).assign(p,_)),e.fail$data((0,Re.or)($(),P()));function $(){return c.strictSchema===!1?Re.nil:(0,Re._)`${i} && !${p}`}function P(){const O=u.$async?(0,Re._)`(${_}.async ? await ${p}(${n}) : ${p}(${n}))`:(0,Re._)`${p}(${n})`,j=(0,Re._)`(typeof ${p} == "function" ? ${O} : ${p}.test(${n}))`;return(0,Re._)`${p} && ${p} !== true && ${E} === ${t} && !${j}`}}function m(){const v=f.formats[s];if(!v){$();return}if(v===!0)return;const[_,E,p]=P(v);_===t&&e.pass(O());function $(){if(c.strictSchema===!1){f.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${s}" ignored in schema at path "${d}"`}}function P(j){const L=j instanceof RegExp?(0,Re.regexpCode)(j):c.code.formats?(0,Re._)`${c.code.formats}${(0,Re.getProperty)(s)}`:void 0,V=r.scopeValue("formats",{key:s,ref:j,code:L});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,Re._)`${V}.validate`]:["string",j,V]}function O(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Re._)`await ${p}(${n})`}return typeof E=="function"?(0,Re._)`${p}(${n})`:(0,Re._)`${p}.test(${n})`}}}};Eo.default=bp;Object.defineProperty(wo,"__esModule",{value:!0});const Sp=Eo,Pp=[Sp.default];wo.default=Pp;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.contentVocabulary=Rr.metadataVocabulary=void 0;Rr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Rr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Ma,"__esModule",{value:!0});const Rp=La,Np=Va,Op=xa,Ip=uo,Tp=mo,jp=_o,kp=wo,Qi=Rr,Ap=[Ip.default,Rp.default,Np.default,(0,Op.default)(!0),kp.default,Qi.metadataVocabulary,Qi.contentVocabulary,Tp.default,jp.default];Ma.default=Ap;var bo={},ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.DiscrError=void 0;var Zi;(function(e){e.Tag="tag",e.Mapping="mapping"})(Zi||(ys.DiscrError=Zi={}));Object.defineProperty(bo,"__esModule",{value:!0});const pr=oe,ua=ys,ec=ze,Cp=Or,Dp=K,Mp={message:({params:{discrError:e,tagName:t}})=>e===ua.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,pr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Lp={keyword:"discriminator",type:"object",schemaType:"object",error:Mp,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:s}=e,{oneOf:i}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,pr._)`${r}${(0,pr.getProperty)(o)}`);t.if((0,pr._)`typeof ${d} == "string"`,()=>u(),()=>e.error(!1,{discrError:ua.DiscrError.Tag,tag:d,tagName:o})),e.ok(c);function u(){const m=y();t.if(!1);for(const v in m)t.elseIf((0,pr._)`${d} === ${v}`),t.assign(c,f(m[v]));t.else(),e.error(!1,{discrError:ua.DiscrError.Mapping,tag:d,tagName:o}),t.endIf()}function f(m){const v=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},v);return e.mergeEvaluated(_,pr.Name),v}function y(){var m;const v={},_=p(a);let E=!0;for(let O=0;O<i.length;O++){let j=i[O];if(j!=null&&j.$ref&&!(0,Dp.schemaHasRulesButRef)(j,s.self.RULES)){const V=j.$ref;if(j=ec.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,V),j instanceof ec.SchemaEnv&&(j=j.schema),j===void 0)throw new Cp.default(s.opts.uriResolver,s.baseId,V)}const L=(m=j==null?void 0:j.properties)===null||m===void 0?void 0:m[o];if(typeof L!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);E=E&&(_||p(j)),$(L,O)}if(!E)throw new Error(`discriminator: "${o}" must be required`);return v;function p({required:O}){return Array.isArray(O)&&O.includes(o)}function $(O,j){if(O.const)P(O.const,j);else if(O.enum)for(const L of O.enum)P(L,j);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function P(O,j){if(typeof O!="string"||O in v)throw new Error(`discriminator: "${o}" values must be unique strings`);v[O]=j}}}};bo.default=Lp;var So={};const Fp="https://json-schema.org/draft/2020-12/schema",Vp="https://json-schema.org/draft/2020-12/schema",zp={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},Up="meta",qp="Core and Validation specifications meta-schema",Kp=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],Gp=["object","boolean"],Hp="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",Wp={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},Bp={$schema:Fp,$id:Vp,$vocabulary:zp,$dynamicAnchor:Up,title:qp,allOf:Kp,type:Gp,$comment:Hp,properties:Wp},Yp="https://json-schema.org/draft/2020-12/schema",Jp="https://json-schema.org/draft/2020-12/meta/applicator",Xp={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},xp="meta",Qp="Applicator vocabulary meta-schema",Zp=["object","boolean"],ey={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},ty={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},ry={$schema:Yp,$id:Jp,$vocabulary:Xp,$dynamicAnchor:xp,title:Qp,type:Zp,properties:ey,$defs:ty},ny="https://json-schema.org/draft/2020-12/schema",sy="https://json-schema.org/draft/2020-12/meta/unevaluated",ay={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},oy="meta",iy="Unevaluated applicator vocabulary meta-schema",cy=["object","boolean"],ly={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},uy={$schema:ny,$id:sy,$vocabulary:ay,$dynamicAnchor:oy,title:iy,type:cy,properties:ly},dy="https://json-schema.org/draft/2020-12/schema",fy="https://json-schema.org/draft/2020-12/meta/content",hy={"https://json-schema.org/draft/2020-12/vocab/content":!0},my="meta",py="Content vocabulary meta-schema",yy=["object","boolean"],$y={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},_y={$schema:dy,$id:fy,$vocabulary:hy,$dynamicAnchor:my,title:py,type:yy,properties:$y},gy="https://json-schema.org/draft/2020-12/schema",vy="https://json-schema.org/draft/2020-12/meta/core",wy={"https://json-schema.org/draft/2020-12/vocab/core":!0},Ey="meta",by="Core vocabulary meta-schema",Sy=["object","boolean"],Py={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},Ry={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},Ny={$schema:gy,$id:vy,$vocabulary:wy,$dynamicAnchor:Ey,title:by,type:Sy,properties:Py,$defs:Ry},Oy="https://json-schema.org/draft/2020-12/schema",Iy="https://json-schema.org/draft/2020-12/meta/format-annotation",Ty={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},jy="meta",ky="Format vocabulary meta-schema for annotation results",Ay=["object","boolean"],Cy={format:{type:"string"}},Dy={$schema:Oy,$id:Iy,$vocabulary:Ty,$dynamicAnchor:jy,title:ky,type:Ay,properties:Cy},My="https://json-schema.org/draft/2020-12/schema",Ly="https://json-schema.org/draft/2020-12/meta/meta-data",Fy={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},Vy="meta",zy="Meta-data vocabulary meta-schema",Uy=["object","boolean"],qy={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},Ky={$schema:My,$id:Ly,$vocabulary:Fy,$dynamicAnchor:Vy,title:zy,type:Uy,properties:qy},Gy="https://json-schema.org/draft/2020-12/schema",Hy="https://json-schema.org/draft/2020-12/meta/validation",Wy={"https://json-schema.org/draft/2020-12/vocab/validation":!0},By="meta",Yy="Validation vocabulary meta-schema",Jy=["object","boolean"],Xy={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},xy={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Qy={$schema:Gy,$id:Hy,$vocabulary:Wy,$dynamicAnchor:By,title:Yy,type:Jy,properties:Xy,$defs:xy};Object.defineProperty(So,"__esModule",{value:!0});const Zy=Bp,e$=ry,t$=uy,r$=_y,n$=Ny,s$=Dy,a$=Ky,o$=Qy,i$=["/properties"];function c$(e){return[Zy,e$,t$,r$,n$,t(this,s$),a$,t(this,o$)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,i$):n}}So.default=c$;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const r=ll,n=Ma,a=bo,s=So,i="https://json-schema.org/draft/2020-12/schema";class o extends r.default{constructor(m={}){super({...m,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:m,meta:v}=this.opts;v&&(s.default.call(this,m),this.refs["http://json-schema.org/schema"]=i)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.Ajv2020=o,e.exports=t=o,e.exports.Ajv2020=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var c=us();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=oe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var u=ja();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return u.default}});var f=Or;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(na,na.exports);var l$=na.exports,da={exports:{}},Wl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(z,W){return{validate:z,compare:W}}e.fullFormats={date:t(s,i),time:t(c(!0),d),"date-time":t(y(!0),m),"iso-time":t(c(),u),"iso-date-time":t(y(),v),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:se,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:P,int32:{type:"number",validate:L},int64:{type:"number",validate:V},float:{type:"number",validate:Q},double:{type:"number",validate:Q},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,v),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(z){return z%4===0&&(z%100!==0||z%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(z){const W=n.exec(z);if(!W)return!1;const G=+W[1],A=+W[2],F=+W[3];return A>=1&&A<=12&&F>=1&&F<=(A===2&&r(G)?29:a[A])}function i(z,W){if(z&&W)return z>W?1:z<W?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(z){return function(G){const A=o.exec(G);if(!A)return!1;const F=+A[1],B=+A[2],q=+A[3],x=A[4],H=A[5]==="-"?-1:1,T=+(A[6]||0),w=+(A[7]||0);if(T>23||w>59||z&&!x)return!1;if(F<=23&&B<=59&&q<60)return!0;const N=B-w*H,b=F-T*H-(N<0?1:0);return(b===23||b===-1)&&(N===59||N===-1)&&q<61}}function d(z,W){if(!(z&&W))return;const G=new Date("2020-01-01T"+z).valueOf(),A=new Date("2020-01-01T"+W).valueOf();if(G&&A)return G-A}function u(z,W){if(!(z&&W))return;const G=o.exec(z),A=o.exec(W);if(G&&A)return z=G[1]+G[2]+G[3],W=A[1]+A[2]+A[3],z>W?1:z<W?-1:0}const f=/t|\s/i;function y(z){const W=c(z);return function(A){const F=A.split(f);return F.length===2&&s(F[0])&&W(F[1])}}function m(z,W){if(!(z&&W))return;const G=new Date(z).valueOf(),A=new Date(W).valueOf();if(G&&A)return G-A}function v(z,W){if(!(z&&W))return;const[G,A]=z.split(f),[F,B]=W.split(f),q=i(G,F);if(q!==void 0)return q||d(A,B)}const _=/\/|:/,E=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(z){return _.test(z)&&E.test(z)}const $=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function P(z){return $.lastIndex=0,$.test(z)}const O=-2147483648,j=2**31-1;function L(z){return Number.isInteger(z)&&z<=j&&z>=O}function V(z){return Number.isInteger(z)}function Q(){return!0}const Z=/[^\\]\\Z/;function se(z){if(Z.test(z))return!1;try{return new RegExp(z),!0}catch{return!1}}})(Wl);var Bl={},fa={exports:{}},Yl={},Pt={},xt={},cn={},le={},sn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor($){if(super(),!e.IDENTIFIER.test($))throw new Error("CodeGen: name must be a valid identifier");this.str=$}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor($){super(),this._items=typeof $=="string"?[$]:$}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const $=this._items[0];return $===""||$==='""'}get str(){var $;return($=this._str)!==null&&$!==void 0?$:this._str=this._items.reduce((P,O)=>`${P}${O}`,"")}get names(){var $;return($=this._names)!==null&&$!==void 0?$:this._names=this._items.reduce((P,O)=>(O instanceof r&&(P[O.str]=(P[O.str]||0)+1),P),{})}}e._Code=n,e.nil=new n("");function a(p,...$){const P=[p[0]];let O=0;for(;O<$.length;)o(P,$[O]),P.push(p[++O]);return new n(P)}e._=a;const s=new n("+");function i(p,...$){const P=[m(p[0])];let O=0;for(;O<$.length;)P.push(s),o(P,$[O]),P.push(s,m(p[++O]));return c(P),new n(P)}e.str=i;function o(p,$){$ instanceof n?p.push(...$._items):$ instanceof r?p.push($):p.push(f($))}e.addCodeArg=o;function c(p){let $=1;for(;$<p.length-1;){if(p[$]===s){const P=d(p[$-1],p[$+1]);if(P!==void 0){p.splice($-1,3,P);continue}p[$++]="+"}$++}}function d(p,$){if($==='""')return p;if(p==='""')return $;if(typeof p=="string")return $ instanceof r||p[p.length-1]!=='"'?void 0:typeof $!="string"?`${p.slice(0,-1)}${$}"`:$[0]==='"'?p.slice(0,-1)+$.slice(1):void 0;if(typeof $=="string"&&$[0]==='"'&&!(p instanceof r))return`"${p}${$.slice(1)}`}function u(p,$){return $.emptyStr()?p:p.emptyStr()?$:i`${p}${$}`}e.strConcat=u;function f(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function y(p){return new n(m(p))}e.stringify=y;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function v(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):a`[${p}]`}e.getProperty=v;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function E(p){return new n(p.toString())}e.regexpCode=E})(sn);var ha={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=sn;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:d,parent:u}={}){this._names={},this._prefixes=d,this._parent=u}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const u=this._names[d]||this._nameGroup(d);return`${d}${u.index++}`}_nameGroup(d){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=a;class s extends t.Name{constructor(d,u){super(u),this.prefix=d}setValue(d,{property:u,itemIndex:f}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=s;const i=(0,t._)`\n`;class o extends a{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?i:t.nil}}get(){return this._scope}name(d){return new s(d,this._newName(d))}value(d,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const y=this.toName(d),{prefix:m}=y,v=(f=u.key)!==null&&f!==void 0?f:u.ref;let _=this._values[m];if(_){const $=_.get(v);if($)return $}else _=this._values[m]=new Map;_.set(v,y);const E=this._scope[m]||(this._scope[m]=[]),p=E.length;return E[p]=u.ref,y.setValue(u,{property:m,itemIndex:p}),y}getValue(d,u){const f=this._values[d];if(f)return f.get(u)}scopeRefs(d,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${d}${f.scopePath}`})}scopeCode(d=this._values,u,f){return this._reduceValues(d,y=>{if(y.value===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return y.value.code},u,f)}_reduceValues(d,u,f={},y){let m=t.nil;for(const v in d){const _=d[v];if(!_)continue;const E=f[v]=f[v]||new Map;_.forEach(p=>{if(E.has(p))return;E.set(p,n.Started);let $=u(p);if($){const P=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${P} ${p} = ${$};${this.opts._n}`}else if($=y==null?void 0:y(p))m=(0,t._)`${m}${$}${this.opts._n}`;else throw new r(p);E.set(p,n.Completed)})}return m}}e.ValueScope=o})(ha);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=sn,r=ha;var n=sn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=ha;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(l,h){return this}}class i extends s{constructor(l,h,R){super(),this.varKind=l,this.name=h,this.rhs=R}render({es5:l,_n:h}){const R=l?r.varKinds.var:this.varKind,C=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${C};`+h}optimizeNames(l,h){if(l[this.name.str])return this.rhs&&(this.rhs=A(this.rhs,l,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(l,h,R){super(),this.lhs=l,this.rhs=h,this.sideEffects=R}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,h){if(!(this.lhs instanceof t.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=A(this.rhs,l,h),this}get names(){const l=this.lhs instanceof t.Name?{}:{...this.lhs.names};return G(l,this.rhs)}}class c extends o{constructor(l,h,R,C){super(l,R,C),this.op=h}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class d extends s{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class u extends s{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class f extends s{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class y extends s{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,h){return this.code=A(this.code,l,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((h,R)=>h+R.render(l),"")}optimizeNodes(){const{nodes:l}=this;let h=l.length;for(;h--;){const R=l[h].optimizeNodes();Array.isArray(R)?l.splice(h,1,...R):R?l[h]=R:l.splice(h,1)}return l.length>0?this:void 0}optimizeNames(l,h){const{nodes:R}=this;let C=R.length;for(;C--;){const M=R[C];M.optimizeNames(l,h)||(F(l,M.names),R.splice(C,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((l,h)=>W(l,h.names),{})}}class v extends m{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class _ extends m{}class E extends v{}E.kind="else";class p extends v{constructor(l,h){super(h),this.condition=l}render(l){let h=`if(${this.condition})`+super.render(l);return this.else&&(h+="else "+this.else.render(l)),h}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let h=this.else;if(h){const R=h.optimizeNodes();h=this.else=Array.isArray(R)?new E(R):R}if(h)return l===!1?h instanceof p?h:h.nodes:this.nodes.length?this:new p(B(l),h instanceof p?[h]:h.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,h){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(l,h),!!(super.optimizeNames(l,h)||this.else))return this.condition=A(this.condition,l,h),this}get names(){const l=super.names;return G(l,this.condition),this.else&&W(l,this.else.names),l}}p.kind="if";class $ extends v{}$.kind="for";class P extends ${constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iteration=A(this.iteration,l,h),this}get names(){return W(super.names,this.iteration.names)}}class O extends ${constructor(l,h,R,C){super(),this.varKind=l,this.name=h,this.from=R,this.to=C}render(l){const h=l.es5?r.varKinds.var:this.varKind,{name:R,from:C,to:M}=this;return`for(${h} ${R}=${C}; ${R}<${M}; ${R}++)`+super.render(l)}get names(){const l=G(super.names,this.from);return G(l,this.to)}}class j extends ${constructor(l,h,R,C){super(),this.loop=l,this.varKind=h,this.name=R,this.iterable=C}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iterable=A(this.iterable,l,h),this}get names(){return W(super.names,this.iterable.names)}}class L extends v{constructor(l,h,R){super(),this.name=l,this.args=h,this.async=R}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}L.kind="func";class V extends m{render(l){return"return "+super.render(l)}}V.kind="return";class Q extends v{render(l){let h="try"+super.render(l);return this.catch&&(h+=this.catch.render(l)),this.finally&&(h+=this.finally.render(l)),h}optimizeNodes(){var l,h;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(l,h){var R,C;return super.optimizeNames(l,h),(R=this.catch)===null||R===void 0||R.optimizeNames(l,h),(C=this.finally)===null||C===void 0||C.optimizeNames(l,h),this}get names(){const l=super.names;return this.catch&&W(l,this.catch.names),this.finally&&W(l,this.finally.names),l}}class Z extends v{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}Z.kind="catch";class se extends v{render(l){return"finally"+super.render(l)}}se.kind="finally";class z{constructor(l,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=l,this._scope=new r.Scope({parent:l}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,h){const R=this._extScope.value(l,h);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(l,h){return this._extScope.getValue(l,h)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,h,R,C){const M=this._scope.toName(h);return R!==void 0&&C&&(this._constants[M.str]=R),this._leafNode(new i(l,M,R)),M}const(l,h,R){return this._def(r.varKinds.const,l,h,R)}let(l,h,R){return this._def(r.varKinds.let,l,h,R)}var(l,h,R){return this._def(r.varKinds.var,l,h,R)}assign(l,h,R){return this._leafNode(new o(l,h,R))}add(l,h){return this._leafNode(new c(l,e.operators.ADD,h))}code(l){return typeof l=="function"?l():l!==t.nil&&this._leafNode(new y(l)),this}object(...l){const h=["{"];for(const[R,C]of l)h.length>1&&h.push(","),h.push(R),(R!==C||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,C));return h.push("}"),new t._Code(h)}if(l,h,R){if(this._blockNode(new p(l)),h&&R)this.code(h).else().code(R).endIf();else if(h)this.code(h).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new p(l))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(p,E)}_for(l,h){return this._blockNode(l),h&&this.code(h).endFor(),this}for(l,h){return this._for(new P(l),h)}forRange(l,h,R,C,M=this.opts.es5?r.varKinds.var:r.varKinds.let){const X=this._scope.toName(l);return this._for(new O(M,X,h,R),()=>C(X))}forOf(l,h,R,C=r.varKinds.const){const M=this._scope.toName(l);if(this.opts.es5){const X=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${X}.length`,Y=>{this.var(M,(0,t._)`${X}[${Y}]`),R(M)})}return this._for(new j("of",C,M,h),()=>R(M))}forIn(l,h,R,C=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,t._)`Object.keys(${h})`,R);const M=this._scope.toName(l);return this._for(new j("in",C,M,h),()=>R(M))}endFor(){return this._endBlockNode($)}label(l){return this._leafNode(new d(l))}break(l){return this._leafNode(new u(l))}return(l){const h=new V;if(this._blockNode(h),this.code(l),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(V)}try(l,h,R){if(!h&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');const C=new Q;if(this._blockNode(C),this.code(l),h){const M=this.name("e");this._currNode=C.catch=new Z(M),h(M)}return R&&(this._currNode=C.finally=new se,this.code(R)),this._endBlockNode(Z,se)}throw(l){return this._leafNode(new f(l))}block(l,h){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(h),this}endBlock(l){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const R=this._nodes.length-h;if(R<0||l!==void 0&&R!==l)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${l} expected`);return this._nodes.length=h,this}func(l,h=t.nil,R,C){return this._blockNode(new L(l,h,R)),C&&this.code(C).endFunc(),this}endFunc(){return this._endBlockNode(L)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,h){const R=this._currNode;if(R instanceof l||h&&R instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${l.kind}/${h.kind}`:l.kind}"`)}_elseNode(l){const h=this._currNode;if(!(h instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const h=this._nodes;h[h.length-1]=l}}e.CodeGen=z;function W(b,l){for(const h in l)b[h]=(b[h]||0)+(l[h]||0);return b}function G(b,l){return l instanceof t._CodeOrName?W(b,l.names):b}function A(b,l,h){if(b instanceof t.Name)return R(b);if(!C(b))return b;return new t._Code(b._items.reduce((M,X)=>(X instanceof t.Name&&(X=R(X)),X instanceof t._Code?M.push(...X._items):M.push(X),M),[]));function R(M){const X=h[M.str];return X===void 0||l[M.str]!==1?M:(delete l[M.str],X)}function C(M){return M instanceof t._Code&&M._items.some(X=>X instanceof t.Name&&l[X.str]===1&&h[X.str]!==void 0)}}function F(b,l){for(const h in l)b[h]=(b[h]||0)-(l[h]||0)}function B(b){return typeof b=="boolean"||typeof b=="number"||b===null?!b:(0,t._)`!${N(b)}`}e.not=B;const q=w(e.operators.AND);function x(...b){return b.reduce(q)}e.and=x;const H=w(e.operators.OR);function T(...b){return b.reduce(H)}e.or=T;function w(b){return(l,h)=>l===t.nil?h:h===t.nil?l:(0,t._)`${N(l)} ${b} ${N(h)}`}function N(b){return b instanceof t.Name?b:(0,t._)`(${b})`}})(le);var J={};Object.defineProperty(J,"__esModule",{value:!0});J.checkStrictMode=J.getErrorPath=J.Type=J.useFunc=J.setEvaluated=J.evaluatedPropsToName=J.mergeEvaluated=J.eachItem=J.unescapeJsonPointer=J.escapeJsonPointer=J.escapeFragment=J.unescapeFragment=J.schemaRefOrVal=J.schemaHasRulesButRef=J.schemaHasRules=J.checkUnknownRules=J.alwaysValidSchema=J.toHash=void 0;const ve=le,u$=sn;function d$(e){const t={};for(const r of e)t[r]=!0;return t}J.toHash=d$;function f$(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Jl(e,t),!Xl(t,e.self.RULES.all))}J.alwaysValidSchema=f$;function Jl(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const s in t)a[s]||Zl(e,`unknown keyword: "${s}"`)}J.checkUnknownRules=Jl;function Xl(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}J.schemaHasRules=Xl;function h$(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}J.schemaHasRulesButRef=h$;function m$({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ve._)`${r}`}return(0,ve._)`${e}${t}${(0,ve.getProperty)(n)}`}J.schemaRefOrVal=m$;function p$(e){return xl(decodeURIComponent(e))}J.unescapeFragment=p$;function y$(e){return encodeURIComponent(Po(e))}J.escapeFragment=y$;function Po(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}J.escapeJsonPointer=Po;function xl(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}J.unescapeJsonPointer=xl;function $$(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}J.eachItem=$$;function tc({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,s,i,o)=>{const c=i===void 0?s:i instanceof ve.Name?(s instanceof ve.Name?e(a,s,i):t(a,s,i),i):s instanceof ve.Name?(t(a,i,s),s):r(s,i);return o===ve.Name&&!(c instanceof ve.Name)?n(a,c):c}}J.mergeEvaluated={props:tc({mergeNames:(e,t,r)=>e.if((0,ve._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ve._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ve._)`${r} || {}`).code((0,ve._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ve._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ve._)`${r} || {}`),Ro(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Ql}),items:tc({mergeNames:(e,t,r)=>e.if((0,ve._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ve._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ve._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ve._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Ql(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ve._)`{}`);return t!==void 0&&Ro(e,r,t),r}J.evaluatedPropsToName=Ql;function Ro(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ve._)`${t}${(0,ve.getProperty)(n)}`,!0))}J.setEvaluated=Ro;const rc={};function _$(e,t){return e.scopeValue("func",{ref:t,code:rc[t.code]||(rc[t.code]=new u$._Code(t.code))})}J.useFunc=_$;var ma;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(ma||(J.Type=ma={}));function g$(e,t,r){if(e instanceof ve.Name){const n=t===ma.Num;return r?n?(0,ve._)`"[" + ${e} + "]"`:(0,ve._)`"['" + ${e} + "']"`:n?(0,ve._)`"/" + ${e}`:(0,ve._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ve.getProperty)(e).toString():"/"+Po(e)}J.getErrorPath=g$;function Zl(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}J.checkStrictMode=Zl;var wn={},nc;function Gt(){if(nc)return wn;nc=1,Object.defineProperty(wn,"__esModule",{value:!0});const e=le,t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return wn.default=t,wn}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=le,r=J,n=Gt();e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:p})=>p?(0,t.str)`"${E}" keyword must be ${p} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function a(E,p=e.keywordError,$,P){const{it:O}=E,{gen:j,compositeRule:L,allErrors:V}=O,Q=f(E,p,$);P??(L||V)?c(j,Q):d(O,(0,t._)`[${Q}]`)}e.reportError=a;function s(E,p=e.keywordError,$){const{it:P}=E,{gen:O,compositeRule:j,allErrors:L}=P,V=f(E,p,$);c(O,V),j||L||d(P,n.default.vErrors)}e.reportExtraError=s;function i(E,p){E.assign(n.default.errors,p),E.if((0,t._)`${n.default.vErrors} !== null`,()=>E.if(p,()=>E.assign((0,t._)`${n.default.vErrors}.length`,p),()=>E.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function o({gen:E,keyword:p,schemaValue:$,data:P,errsCount:O,it:j}){if(O===void 0)throw new Error("ajv implementation error");const L=E.name("err");E.forRange("i",O,n.default.errors,V=>{E.const(L,(0,t._)`${n.default.vErrors}[${V}]`),E.if((0,t._)`${L}.instancePath === undefined`,()=>E.assign((0,t._)`${L}.instancePath`,(0,t.strConcat)(n.default.instancePath,j.errorPath))),E.assign((0,t._)`${L}.schemaPath`,(0,t.str)`${j.errSchemaPath}/${p}`),j.opts.verbose&&(E.assign((0,t._)`${L}.schema`,$),E.assign((0,t._)`${L}.data`,P))})}e.extendErrors=o;function c(E,p){const $=E.const("err",p);E.if((0,t._)`${n.default.vErrors} === null`,()=>E.assign(n.default.vErrors,(0,t._)`[${$}]`),(0,t._)`${n.default.vErrors}.push(${$})`),E.code((0,t._)`${n.default.errors}++`)}function d(E,p){const{gen:$,validateName:P,schemaEnv:O}=E;O.$async?$.throw((0,t._)`new ${E.ValidationError}(${p})`):($.assign((0,t._)`${P}.errors`,p),$.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(E,p,$){const{createErrors:P}=E.it;return P===!1?(0,t._)`{}`:y(E,p,$)}function y(E,p,$={}){const{gen:P,it:O}=E,j=[m(O,$),v(E,$)];return _(E,p,j),P.object(...j)}function m({errorPath:E},{instancePath:p}){const $=p?(0,t.str)`${E}${(0,r.getErrorPath)(p,r.Type.Str)}`:E;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,$)]}function v({keyword:E,it:{errSchemaPath:p}},{schemaPath:$,parentSchema:P}){let O=P?p:(0,t.str)`${p}/${E}`;return $&&(O=(0,t.str)`${O}${(0,r.getErrorPath)($,r.Type.Str)}`),[u.schemaPath,O]}function _(E,{params:p,message:$},P){const{keyword:O,data:j,schemaValue:L,it:V}=E,{opts:Q,propertyName:Z,topSchemaRef:se,schemaPath:z}=V;P.push([u.keyword,O],[u.params,typeof p=="function"?p(E):p||(0,t._)`{}`]),Q.messages&&P.push([u.message,typeof $=="function"?$(E):$]),Q.verbose&&P.push([u.schema,L],[u.parentSchema,(0,t._)`${se}${z}`],[n.default.data,j]),Z&&P.push([u.propertyName,Z])}})(cn);var sc;function v$(){if(sc)return xt;sc=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.boolOrEmptySchema=xt.topBoolOrEmptySchema=void 0;const e=cn,t=le,r=Gt(),n={message:"boolean schema is false"};function a(o){const{gen:c,schema:d,validateName:u}=o;d===!1?i(o,!1):typeof d=="object"&&d.$async===!0?c.return(r.default.data):(c.assign((0,t._)`${u}.errors`,null),c.return(!0))}xt.topBoolOrEmptySchema=a;function s(o,c){const{gen:d,schema:u}=o;u===!1?(d.var(c,!1),i(o)):d.var(c,!0)}xt.boolOrEmptySchema=s;function i(o,c){const{gen:d,data:u}=o,f={gen:d,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,e.reportError)(f,n,void 0,c)}return xt}var Ie={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.getRules=lr.isJSONType=void 0;const w$=["string","number","integer","boolean","null","object","array"],E$=new Set(w$);function b$(e){return typeof e=="string"&&E$.has(e)}lr.isJSONType=b$;function S$(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}lr.getRules=S$;var Rt={},ac;function eu(){if(ac)return Rt;ac=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.shouldUseRule=Rt.shouldUseGroup=Rt.schemaHasRulesForType=void 0;function e({schema:n,self:a},s){const i=a.RULES.types[s];return i&&i!==!0&&t(n,i)}Rt.schemaHasRulesForType=e;function t(n,a){return a.rules.some(s=>r(n,s))}Rt.shouldUseGroup=t;function r(n,a){var s;return n[a.keyword]!==void 0||((s=a.definition.implements)===null||s===void 0?void 0:s.some(i=>n[i]!==void 0))}return Rt.shouldUseRule=r,Rt}Object.defineProperty(Ie,"__esModule",{value:!0});Ie.reportTypeError=Ie.checkDataTypes=Ie.checkDataType=Ie.coerceAndCheckDataType=Ie.getJSONTypes=Ie.getSchemaTypes=Ie.DataType=void 0;const P$=lr,R$=eu(),N$=cn,ce=le,tu=J;var Er;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Er||(Ie.DataType=Er={}));function O$(e){const t=ru(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Ie.getSchemaTypes=O$;function ru(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(P$.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Ie.getJSONTypes=ru;function I$(e,t){const{gen:r,data:n,opts:a}=e,s=T$(t,a.coerceTypes),i=t.length>0&&!(s.length===0&&t.length===1&&(0,R$.schemaHasRulesForType)(e,t[0]));if(i){const o=No(t,n,a.strictNumbers,Er.Wrong);r.if(o,()=>{s.length?j$(e,t,s):Oo(e)})}return i}Ie.coerceAndCheckDataType=I$;const nu=new Set(["string","number","integer","boolean","null"]);function T$(e,t){return t?e.filter(r=>nu.has(r)||t==="array"&&r==="array"):[]}function j$(e,t,r){const{gen:n,data:a,opts:s}=e,i=n.let("dataType",(0,ce._)`typeof ${a}`),o=n.let("coerced",(0,ce._)`undefined`);s.coerceTypes==="array"&&n.if((0,ce._)`${i} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,ce._)`${a}[0]`).assign(i,(0,ce._)`typeof ${a}`).if(No(t,a,s.strictNumbers),()=>n.assign(o,a))),n.if((0,ce._)`${o} !== undefined`);for(const d of r)(nu.has(d)||d==="array"&&s.coerceTypes==="array")&&c(d);n.else(),Oo(e),n.endIf(),n.if((0,ce._)`${o} !== undefined`,()=>{n.assign(a,o),k$(e,o)});function c(d){switch(d){case"string":n.elseIf((0,ce._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,ce._)`"" + ${a}`).elseIf((0,ce._)`${a} === null`).assign(o,(0,ce._)`""`);return;case"number":n.elseIf((0,ce._)`${i} == "boolean" || ${a} === null
              || (${i} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,ce._)`+${a}`);return;case"integer":n.elseIf((0,ce._)`${i} === "boolean" || ${a} === null
              || (${i} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,ce._)`+${a}`);return;case"boolean":n.elseIf((0,ce._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,ce._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,ce._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,ce._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${a} === null`).assign(o,(0,ce._)`[${a}]`)}}}function k$({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,ce._)`${t} !== undefined`,()=>e.assign((0,ce._)`${t}[${r}]`,n))}function pa(e,t,r,n=Er.Correct){const a=n===Er.Correct?ce.operators.EQ:ce.operators.NEQ;let s;switch(e){case"null":return(0,ce._)`${t} ${a} null`;case"array":s=(0,ce._)`Array.isArray(${t})`;break;case"object":s=(0,ce._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=i((0,ce._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=i();break;default:return(0,ce._)`typeof ${t} ${a} ${e}`}return n===Er.Correct?s:(0,ce.not)(s);function i(o=ce.nil){return(0,ce.and)((0,ce._)`typeof ${t} == "number"`,o,r?(0,ce._)`isFinite(${t})`:ce.nil)}}Ie.checkDataType=pa;function No(e,t,r,n){if(e.length===1)return pa(e[0],t,r,n);let a;const s=(0,tu.toHash)(e);if(s.array&&s.object){const i=(0,ce._)`typeof ${t} != "object"`;a=s.null?i:(0,ce._)`!${t} || ${i}`,delete s.null,delete s.array,delete s.object}else a=ce.nil;s.number&&delete s.integer;for(const i in s)a=(0,ce.and)(a,pa(i,t,r,n));return a}Ie.checkDataTypes=No;const A$={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,ce._)`{type: ${e}}`:(0,ce._)`{type: ${t}}`};function Oo(e){const t=C$(e);(0,N$.reportError)(t,A$)}Ie.reportTypeError=Oo;function C$(e){const{gen:t,data:r,schema:n}=e,a=(0,tu.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var Ur={},oc;function D$(){if(oc)return Ur;oc=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.assignDefaults=void 0;const e=le,t=J;function r(a,s){const{properties:i,items:o}=a.schema;if(s==="object"&&i)for(const c in i)n(a,c,i[c].default);else s==="array"&&Array.isArray(o)&&o.forEach((c,d)=>n(a,d,c.default))}Ur.assignDefaults=r;function n(a,s,i){const{gen:o,compositeRule:c,data:d,opts:u}=a;if(i===void 0)return;const f=(0,e._)`${d}${(0,e.getProperty)(s)}`;if(c){(0,t.checkStrictMode)(a,`default is ignored for: ${f}`);return}let y=(0,e._)`${f} === undefined`;u.useDefaults==="empty"&&(y=(0,e._)`${y} || ${f} === null || ${f} === ""`),o.if(y,(0,e._)`${f} = ${(0,e.stringify)(i)}`)}return Ur}var st={},$e={},ic;function mt(){if(ic)return $e;ic=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.validateUnion=$e.validateArray=$e.usePattern=$e.callValidateCode=$e.schemaProperties=$e.allSchemaProperties=$e.noPropertyInData=$e.propertyInData=$e.isOwnProperty=$e.hasPropFunc=$e.reportMissingProp=$e.checkMissingProp=$e.checkReportMissingProp=void 0;const e=le,t=J,r=Gt(),n=J;function a($,P){const{gen:O,data:j,it:L}=$;O.if(u(O,j,P,L.opts.ownProperties),()=>{$.setParams({missingProperty:(0,e._)`${P}`},!0),$.error()})}$e.checkReportMissingProp=a;function s({gen:$,data:P,it:{opts:O}},j,L){return(0,e.or)(...j.map(V=>(0,e.and)(u($,P,V,O.ownProperties),(0,e._)`${L} = ${V}`)))}$e.checkMissingProp=s;function i($,P){$.setParams({missingProperty:P},!0),$.error()}$e.reportMissingProp=i;function o($){return $.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}$e.hasPropFunc=o;function c($,P,O){return(0,e._)`${o($)}.call(${P}, ${O})`}$e.isOwnProperty=c;function d($,P,O,j){const L=(0,e._)`${P}${(0,e.getProperty)(O)} !== undefined`;return j?(0,e._)`${L} && ${c($,P,O)}`:L}$e.propertyInData=d;function u($,P,O,j){const L=(0,e._)`${P}${(0,e.getProperty)(O)} === undefined`;return j?(0,e.or)(L,(0,e.not)(c($,P,O))):L}$e.noPropertyInData=u;function f($){return $?Object.keys($).filter(P=>P!=="__proto__"):[]}$e.allSchemaProperties=f;function y($,P){return f(P).filter(O=>!(0,t.alwaysValidSchema)($,P[O]))}$e.schemaProperties=y;function m({schemaCode:$,data:P,it:{gen:O,topSchemaRef:j,schemaPath:L,errorPath:V},it:Q},Z,se,z){const W=z?(0,e._)`${$}, ${P}, ${j}${L}`:P,G=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,V)],[r.default.parentData,Q.parentData],[r.default.parentDataProperty,Q.parentDataProperty],[r.default.rootData,r.default.rootData]];Q.opts.dynamicRef&&G.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const A=(0,e._)`${W}, ${O.object(...G)}`;return se!==e.nil?(0,e._)`${Z}.call(${se}, ${A})`:(0,e._)`${Z}(${A})`}$e.callValidateCode=m;const v=(0,e._)`new RegExp`;function _({gen:$,it:{opts:P}},O){const j=P.unicodeRegExp?"u":"",{regExp:L}=P.code,V=L(O,j);return $.scopeValue("pattern",{key:V.toString(),ref:V,code:(0,e._)`${L.code==="new RegExp"?v:(0,n.useFunc)($,L)}(${O}, ${j})`})}$e.usePattern=_;function E($){const{gen:P,data:O,keyword:j,it:L}=$,V=P.name("valid");if(L.allErrors){const Z=P.let("valid",!0);return Q(()=>P.assign(Z,!1)),Z}return P.var(V,!0),Q(()=>P.break()),V;function Q(Z){const se=P.const("len",(0,e._)`${O}.length`);P.forRange("i",0,se,z=>{$.subschema({keyword:j,dataProp:z,dataPropType:t.Type.Num},V),P.if((0,e.not)(V),Z)})}}$e.validateArray=E;function p($){const{gen:P,schema:O,keyword:j,it:L}=$;if(!Array.isArray(O))throw new Error("ajv implementation error");if(O.some(se=>(0,t.alwaysValidSchema)(L,se))&&!L.opts.unevaluated)return;const Q=P.let("valid",!1),Z=P.name("_valid");P.block(()=>O.forEach((se,z)=>{const W=$.subschema({keyword:j,schemaProp:z,compositeRule:!0},Z);P.assign(Q,(0,e._)`${Q} || ${Z}`),$.mergeValidEvaluated(W,Z)||P.if((0,e.not)(Q))})),$.result(Q,()=>$.reset(),()=>$.error(!0))}return $e.validateUnion=p,$e}var cc;function M$(){if(cc)return st;cc=1,Object.defineProperty(st,"__esModule",{value:!0}),st.validateKeywordUsage=st.validSchemaType=st.funcKeywordCode=st.macroKeywordCode=void 0;const e=le,t=Gt(),r=mt(),n=cn;function a(y,m){const{gen:v,keyword:_,schema:E,parentSchema:p,it:$}=y,P=m.macro.call($.self,E,p,$),O=d(v,_,P);$.opts.validateSchema!==!1&&$.self.validateSchema(P,!0);const j=v.name("valid");y.subschema({schema:P,schemaPath:e.nil,errSchemaPath:`${$.errSchemaPath}/${_}`,topSchemaRef:O,compositeRule:!0},j),y.pass(j,()=>y.error(!0))}st.macroKeywordCode=a;function s(y,m){var v;const{gen:_,keyword:E,schema:p,parentSchema:$,$data:P,it:O}=y;c(O,m);const j=!P&&m.compile?m.compile.call(O.self,p,$,O):m.validate,L=d(_,E,j),V=_.let("valid");y.block$data(V,Q),y.ok((v=m.valid)!==null&&v!==void 0?v:V);function Q(){if(m.errors===!1)z(),m.modifying&&i(y),W(()=>y.error());else{const G=m.async?Z():se();m.modifying&&i(y),W(()=>o(y,G))}}function Z(){const G=_.let("ruleErrs",null);return _.try(()=>z((0,e._)`await `),A=>_.assign(V,!1).if((0,e._)`${A} instanceof ${O.ValidationError}`,()=>_.assign(G,(0,e._)`${A}.errors`),()=>_.throw(A))),G}function se(){const G=(0,e._)`${L}.errors`;return _.assign(G,null),z(e.nil),G}function z(G=m.async?(0,e._)`await `:e.nil){const A=O.opts.passContext?t.default.this:t.default.self,F=!("compile"in m&&!P||m.schema===!1);_.assign(V,(0,e._)`${G}${(0,r.callValidateCode)(y,L,A,F)}`,m.modifying)}function W(G){var A;_.if((0,e.not)((A=m.valid)!==null&&A!==void 0?A:V),G)}}st.funcKeywordCode=s;function i(y){const{gen:m,data:v,it:_}=y;m.if(_.parentData,()=>m.assign(v,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function o(y,m){const{gen:v}=y;v.if((0,e._)`Array.isArray(${m})`,()=>{v.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${m} : ${t.default.vErrors}.concat(${m})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(y)},()=>y.error())}function c({schemaEnv:y},m){if(m.async&&!y.$async)throw new Error("async keyword in sync schema")}function d(y,m,v){if(v===void 0)throw new Error(`keyword "${m}" failed to compile`);return y.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function u(y,m,v=!1){return!m.length||m.some(_=>_==="array"?Array.isArray(y):_==="object"?y&&typeof y=="object"&&!Array.isArray(y):typeof y==_||v&&typeof y>"u")}st.validSchemaType=u;function f({schema:y,opts:m,self:v,errSchemaPath:_},E,p){if(Array.isArray(E.keyword)?!E.keyword.includes(p):E.keyword!==p)throw new Error("ajv implementation error");const $=E.dependencies;if($!=null&&$.some(P=>!Object.prototype.hasOwnProperty.call(y,P)))throw new Error(`parent schema must have dependencies of ${p}: ${$.join(",")}`);if(E.validateSchema&&!E.validateSchema(y[p])){const O=`keyword "${p}" value is invalid at path "${_}": `+v.errorsText(E.validateSchema.errors);if(m.validateSchema==="log")v.logger.error(O);else throw new Error(O)}}return st.validateKeywordUsage=f,st}var Nt={},lc;function L$(){if(lc)return Nt;lc=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.extendSubschemaMode=Nt.extendSubschemaData=Nt.getSubschema=void 0;const e=le,t=J;function r(s,{keyword:i,schemaProp:o,schema:c,schemaPath:d,errSchemaPath:u,topSchemaRef:f}){if(i!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(i!==void 0){const y=s.schema[i];return o===void 0?{schema:y,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${i}`}:{schema:y[o],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(i)}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${i}/${(0,t.escapeFragment)(o)}`}}if(c!==void 0){if(d===void 0||u===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:d,topSchemaRef:f,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}Nt.getSubschema=r;function n(s,i,{dataProp:o,dataPropType:c,data:d,dataTypes:u,propertyName:f}){if(d!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:y}=i;if(o!==void 0){const{errorPath:v,dataPathArr:_,opts:E}=i,p=y.let("data",(0,e._)`${i.data}${(0,e.getProperty)(o)}`,!0);m(p),s.errorPath=(0,e.str)`${v}${(0,t.getErrorPath)(o,c,E.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${o}`,s.dataPathArr=[..._,s.parentDataProperty]}if(d!==void 0){const v=d instanceof e.Name?d:y.let("data",d,!0);m(v),f!==void 0&&(s.propertyName=f)}u&&(s.dataTypes=u);function m(v){s.data=v,s.dataLevel=i.dataLevel+1,s.dataTypes=[],i.definedProperties=new Set,s.parentData=i.data,s.dataNames=[...i.dataNames,v]}}Nt.extendSubschemaData=n;function a(s,{jtdDiscriminator:i,jtdMetadata:o,compositeRule:c,createErrors:d,allErrors:u}){c!==void 0&&(s.compositeRule=c),d!==void 0&&(s.createErrors=d),u!==void 0&&(s.allErrors=u),s.jtdDiscriminator=i,s.jtdMetadata=o}return Nt.extendSubschemaMode=a,Nt}var De={},su={exports:{}},Kt=su.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};qn(t,n,a,e,"",e)};Kt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Kt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Kt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Kt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function qn(e,t,r,n,a,s,i,o,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,s,i,o,c,d);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in Kt.arrayKeywords)for(var y=0;y<f.length;y++)qn(e,t,r,f[y],a+"/"+u+"/"+y,s,a,u,n,y)}else if(u in Kt.propsKeywords){if(f&&typeof f=="object")for(var m in f)qn(e,t,r,f[m],a+"/"+u+"/"+F$(m),s,a,u,n,m)}else(u in Kt.keywords||e.allKeys&&!(u in Kt.skipKeywords))&&qn(e,t,r,f,a+"/"+u,s,a,u,n)}r(n,a,s,i,o,c,d)}}function F$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var V$=su.exports;Object.defineProperty(De,"__esModule",{value:!0});De.getSchemaRefs=De.resolveUrl=De.normalizeId=De._getFullPath=De.getFullPath=De.inlineRef=void 0;const z$=J,U$=ls,q$=V$,K$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function G$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ya(e):t?au(e)<=t:!1}De.inlineRef=G$;const H$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ya(e){for(const t in e){if(H$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(ya)||typeof r=="object"&&ya(r))return!0}return!1}function au(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!K$.has(r)&&(typeof e[r]=="object"&&(0,z$.eachItem)(e[r],n=>t+=au(n)),t===1/0))return 1/0}return t}function ou(e,t="",r){r!==!1&&(t=br(t));const n=e.parse(t);return iu(e,n)}De.getFullPath=ou;function iu(e,t){return e.serialize(t).split("#")[0]+"#"}De._getFullPath=iu;const W$=/#\/?$/;function br(e){return e?e.replace(W$,""):""}De.normalizeId=br;function B$(e,t,r){return r=br(r),e.resolve(t,r)}De.resolveUrl=B$;const Y$=/^[a-z_][-a-z0-9._]*$/i;function J$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=br(e[r]||t),s={"":a},i=ou(n,a,!1),o={},c=new Set;return q$(e,{allKeys:!0},(f,y,m,v)=>{if(v===void 0)return;const _=i+y;let E=s[v];typeof f[r]=="string"&&(E=p.call(this,f[r])),$.call(this,f.$anchor),$.call(this,f.$dynamicAnchor),s[y]=E;function p(P){const O=this.opts.uriResolver.resolve;if(P=br(E?O(E,P):P),c.has(P))throw u(P);c.add(P);let j=this.refs[P];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?d(f,j.schema,P):P!==br(_)&&(P[0]==="#"?(d(f,o[P],P),o[P]=f):this.refs[P]=_),P}function $(P){if(typeof P=="string"){if(!Y$.test(P))throw new Error(`invalid anchor "${P}"`);p.call(this,`#${P}`)}}}),o;function d(f,y,m){if(y!==void 0&&!U$(f,y))throw u(m)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}De.getSchemaRefs=J$;var uc;function $s(){if(uc)return Pt;uc=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.getData=Pt.KeywordCxt=Pt.validateFunctionCode=void 0;const e=v$(),t=Ie,r=eu(),n=Ie,a=D$(),s=M$(),i=L$(),o=le,c=Gt(),d=De,u=J,f=cn;function y(g){if(j(g)&&(V(g),O(g))){E(g);return}m(g,()=>(0,e.topBoolOrEmptySchema)(g))}Pt.validateFunctionCode=y;function m({gen:g,validateName:S,schema:I,schemaEnv:k,opts:D},U){D.code.es5?g.func(S,(0,o._)`${c.default.data}, ${c.default.valCxt}`,k.$async,()=>{g.code((0,o._)`"use strict"; ${$(I,D)}`),_(g,D),g.code(U)}):g.func(S,(0,o._)`${c.default.data}, ${v(D)}`,k.$async,()=>g.code($(I,D)).code(U))}function v(g){return(0,o._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${g.dynamicRef?(0,o._)`, ${c.default.dynamicAnchors}={}`:o.nil}}={}`}function _(g,S){g.if(c.default.valCxt,()=>{g.var(c.default.instancePath,(0,o._)`${c.default.valCxt}.${c.default.instancePath}`),g.var(c.default.parentData,(0,o._)`${c.default.valCxt}.${c.default.parentData}`),g.var(c.default.parentDataProperty,(0,o._)`${c.default.valCxt}.${c.default.parentDataProperty}`),g.var(c.default.rootData,(0,o._)`${c.default.valCxt}.${c.default.rootData}`),S.dynamicRef&&g.var(c.default.dynamicAnchors,(0,o._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{g.var(c.default.instancePath,(0,o._)`""`),g.var(c.default.parentData,(0,o._)`undefined`),g.var(c.default.parentDataProperty,(0,o._)`undefined`),g.var(c.default.rootData,c.default.data),S.dynamicRef&&g.var(c.default.dynamicAnchors,(0,o._)`{}`)})}function E(g){const{schema:S,opts:I,gen:k}=g;m(g,()=>{I.$comment&&S.$comment&&G(g),se(g),k.let(c.default.vErrors,null),k.let(c.default.errors,0),I.unevaluated&&p(g),Q(g),A(g)})}function p(g){const{gen:S,validateName:I}=g;g.evaluated=S.const("evaluated",(0,o._)`${I}.evaluated`),S.if((0,o._)`${g.evaluated}.dynamicProps`,()=>S.assign((0,o._)`${g.evaluated}.props`,(0,o._)`undefined`)),S.if((0,o._)`${g.evaluated}.dynamicItems`,()=>S.assign((0,o._)`${g.evaluated}.items`,(0,o._)`undefined`))}function $(g,S){const I=typeof g=="object"&&g[S.schemaId];return I&&(S.code.source||S.code.process)?(0,o._)`/*# sourceURL=${I} */`:o.nil}function P(g,S){if(j(g)&&(V(g),O(g))){L(g,S);return}(0,e.boolOrEmptySchema)(g,S)}function O({schema:g,self:S}){if(typeof g=="boolean")return!g;for(const I in g)if(S.RULES.all[I])return!0;return!1}function j(g){return typeof g.schema!="boolean"}function L(g,S){const{schema:I,gen:k,opts:D}=g;D.$comment&&I.$comment&&G(g),z(g),W(g);const U=k.const("_errs",c.default.errors);Q(g,U),k.var(S,(0,o._)`${U} === ${c.default.errors}`)}function V(g){(0,u.checkUnknownRules)(g),Z(g)}function Q(g,S){if(g.opts.jtd)return B(g,[],!1,S);const I=(0,t.getSchemaTypes)(g.schema),k=(0,t.coerceAndCheckDataType)(g,I);B(g,I,!k,S)}function Z(g){const{schema:S,errSchemaPath:I,opts:k,self:D}=g;S.$ref&&k.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(S,D.RULES)&&D.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function se(g){const{schema:S,opts:I}=g;S.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,u.checkStrictMode)(g,"default is ignored in the schema root")}function z(g){const S=g.schema[g.opts.schemaId];S&&(g.baseId=(0,d.resolveUrl)(g.opts.uriResolver,g.baseId,S))}function W(g){if(g.schema.$async&&!g.schemaEnv.$async)throw new Error("async schema in sync schema")}function G({gen:g,schemaEnv:S,schema:I,errSchemaPath:k,opts:D}){const U=I.$comment;if(D.$comment===!0)g.code((0,o._)`${c.default.self}.logger.log(${U})`);else if(typeof D.$comment=="function"){const de=(0,o.str)`${k}/$comment`,be=g.scopeValue("root",{ref:S.root});g.code((0,o._)`${c.default.self}.opts.$comment(${U}, ${de}, ${be}.schema)`)}}function A(g){const{gen:S,schemaEnv:I,validateName:k,ValidationError:D,opts:U}=g;I.$async?S.if((0,o._)`${c.default.errors} === 0`,()=>S.return(c.default.data),()=>S.throw((0,o._)`new ${D}(${c.default.vErrors})`)):(S.assign((0,o._)`${k}.errors`,c.default.vErrors),U.unevaluated&&F(g),S.return((0,o._)`${c.default.errors} === 0`))}function F({gen:g,evaluated:S,props:I,items:k}){I instanceof o.Name&&g.assign((0,o._)`${S}.props`,I),k instanceof o.Name&&g.assign((0,o._)`${S}.items`,k)}function B(g,S,I,k){const{gen:D,schema:U,data:de,allErrors:be,opts:me,self:pe}=g,{RULES:fe}=pe;if(U.$ref&&(me.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(U,fe))){D.block(()=>C(g,"$ref",fe.all.$ref.definition));return}me.jtd||x(g,S),D.block(()=>{for(const we of fe.rules)Be(we);Be(fe.post)});function Be(we){(0,r.shouldUseGroup)(U,we)&&(we.type?(D.if((0,n.checkDataType)(we.type,de,me.strictNumbers)),q(g,we),S.length===1&&S[0]===we.type&&I&&(D.else(),(0,n.reportTypeError)(g)),D.endIf()):q(g,we),be||D.if((0,o._)`${c.default.errors} === ${k||0}`))}}function q(g,S){const{gen:I,schema:k,opts:{useDefaults:D}}=g;D&&(0,a.assignDefaults)(g,S.type),I.block(()=>{for(const U of S.rules)(0,r.shouldUseRule)(k,U)&&C(g,U.keyword,U.definition,S.type)})}function x(g,S){g.schemaEnv.meta||!g.opts.strictTypes||(H(g,S),g.opts.allowUnionTypes||T(g,S),w(g,g.dataTypes))}function H(g,S){if(S.length){if(!g.dataTypes.length){g.dataTypes=S;return}S.forEach(I=>{b(g.dataTypes,I)||h(g,`type "${I}" not allowed by context "${g.dataTypes.join(",")}"`)}),l(g,S)}}function T(g,S){S.length>1&&!(S.length===2&&S.includes("null"))&&h(g,"use allowUnionTypes to allow union type keyword")}function w(g,S){const I=g.self.RULES.all;for(const k in I){const D=I[k];if(typeof D=="object"&&(0,r.shouldUseRule)(g.schema,D)){const{type:U}=D.definition;U.length&&!U.some(de=>N(S,de))&&h(g,`missing type "${U.join(",")}" for keyword "${k}"`)}}}function N(g,S){return g.includes(S)||S==="number"&&g.includes("integer")}function b(g,S){return g.includes(S)||S==="integer"&&g.includes("number")}function l(g,S){const I=[];for(const k of g.dataTypes)b(S,k)?I.push(k):S.includes("integer")&&k==="number"&&I.push("integer");g.dataTypes=I}function h(g,S){const I=g.schemaEnv.baseId+g.errSchemaPath;S+=` at "${I}" (strictTypes)`,(0,u.checkStrictMode)(g,S,g.opts.strictTypes)}class R{constructor(S,I,k){if((0,s.validateKeywordUsage)(S,I,k),this.gen=S.gen,this.allErrors=S.allErrors,this.keyword=k,this.data=S.data,this.schema=S.schema[k],this.$data=I.$data&&S.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(S,this.schema,k,this.$data),this.schemaType=I.schemaType,this.parentSchema=S.schema,this.params={},this.it=S,this.def=I,this.$data)this.schemaCode=S.gen.const("vSchema",Y(this.$data,S));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${k} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=S.gen.const("_errs",c.default.errors))}result(S,I,k){this.failResult((0,o.not)(S),I,k)}failResult(S,I,k){this.gen.if(S),k?k():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(S,I){this.failResult((0,o.not)(S),void 0,I)}fail(S){if(S===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(S),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(S){if(!this.$data)return this.fail(S);const{schemaCode:I}=this;this.fail((0,o._)`${I} !== undefined && (${(0,o.or)(this.invalid$data(),S)})`)}error(S,I,k){if(I){this.setParams(I),this._error(S,k),this.setParams({});return}this._error(S,k)}_error(S,I){(S?f.reportExtraError:f.reportError)(this,this.def.error,I)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(S){this.allErrors||this.gen.if(S)}setParams(S,I){I?Object.assign(this.params,S):this.params=S}block$data(S,I,k=o.nil){this.gen.block(()=>{this.check$data(S,k),I()})}check$data(S=o.nil,I=o.nil){if(!this.$data)return;const{gen:k,schemaCode:D,schemaType:U,def:de}=this;k.if((0,o.or)((0,o._)`${D} === undefined`,I)),S!==o.nil&&k.assign(S,!0),(U.length||de.validateSchema)&&(k.elseIf(this.invalid$data()),this.$dataError(),S!==o.nil&&k.assign(S,!1)),k.else()}invalid$data(){const{gen:S,schemaCode:I,schemaType:k,def:D,it:U}=this;return(0,o.or)(de(),be());function de(){if(k.length){if(!(I instanceof o.Name))throw new Error("ajv implementation error");const me=Array.isArray(k)?k:[k];return(0,o._)`${(0,n.checkDataTypes)(me,I,U.opts.strictNumbers,n.DataType.Wrong)}`}return o.nil}function be(){if(D.validateSchema){const me=S.scopeValue("validate$data",{ref:D.validateSchema});return(0,o._)`!${me}(${I})`}return o.nil}}subschema(S,I){const k=(0,i.getSubschema)(this.it,S);(0,i.extendSubschemaData)(k,this.it,S),(0,i.extendSubschemaMode)(k,S);const D={...this.it,...k,items:void 0,props:void 0};return P(D,I),D}mergeEvaluated(S,I){const{it:k,gen:D}=this;k.opts.unevaluated&&(k.props!==!0&&S.props!==void 0&&(k.props=u.mergeEvaluated.props(D,S.props,k.props,I)),k.items!==!0&&S.items!==void 0&&(k.items=u.mergeEvaluated.items(D,S.items,k.items,I)))}mergeValidEvaluated(S,I){const{it:k,gen:D}=this;if(k.opts.unevaluated&&(k.props!==!0||k.items!==!0))return D.if(I,()=>this.mergeEvaluated(S,o.Name)),!0}}Pt.KeywordCxt=R;function C(g,S,I,k){const D=new R(g,I,S);"code"in I?I.code(D,k):D.$data&&I.validate?(0,s.funcKeywordCode)(D,I):"macro"in I?(0,s.macroKeywordCode)(D,I):(I.compile||I.validate)&&(0,s.funcKeywordCode)(D,I)}const M=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(g,{dataLevel:S,dataNames:I,dataPathArr:k}){let D,U;if(g==="")return c.default.rootData;if(g[0]==="/"){if(!M.test(g))throw new Error(`Invalid JSON-pointer: ${g}`);D=g,U=c.default.rootData}else{const pe=X.exec(g);if(!pe)throw new Error(`Invalid JSON-pointer: ${g}`);const fe=+pe[1];if(D=pe[2],D==="#"){if(fe>=S)throw new Error(me("property/index",fe));return k[S-fe]}if(fe>S)throw new Error(me("data",fe));if(U=I[S-fe],!D)return U}let de=U;const be=D.split("/");for(const pe of be)pe&&(U=(0,o._)`${U}${(0,o.getProperty)((0,u.unescapeJsonPointer)(pe))}`,de=(0,o._)`${de} && ${U}`);return de;function me(pe,fe){return`Cannot access ${pe} ${fe} levels up, current level is ${S}`}}return Pt.getData=Y,Pt}var En={},dc;function Io(){if(dc)return En;dc=1,Object.defineProperty(En,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return En.default=e,En}var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});const Fs=De;class X$ extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Fs.resolveUrl)(t,r,n),this.missingSchema=(0,Fs.normalizeId)((0,Fs.getFullPath)(t,this.missingRef))}}Ar.default=X$;var We={};Object.defineProperty(We,"__esModule",{value:!0});We.resolveSchema=We.getCompilingSchema=We.resolveRef=We.compileSchema=We.SchemaEnv=void 0;const at=le,x$=Io(),Qt=Gt(),dt=De,fc=J,Q$=$s();class _s{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,dt.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}We.SchemaEnv=_s;function To(e){const t=cu.call(this,e);if(t)return t;const r=(0,dt.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,i=new at.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;e.$async&&(o=i.scopeValue("Error",{ref:x$.default,code:(0,at._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const d={gen:i,allErrors:this.opts.allErrors,data:Qt.default.data,parentData:Qt.default.parentData,parentDataProperty:Qt.default.parentDataProperty,dataNames:[Qt.default.data],dataPathArr:[at.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,at.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:at.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,at._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,Q$.validateFunctionCode)(d),i.optimize(this.opts.code.optimize);const f=i.toString();u=`${i.scopeRefs(Qt.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const m=new Function(`${Qt.default.self}`,`${Qt.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:f,scopeValues:i._values}),this.opts.unevaluated){const{props:v,items:_}=d;m.evaluated={props:v instanceof at.Name?void 0:v,items:_ instanceof at.Name?void 0:_,dynamicProps:v instanceof at.Name,dynamicItems:_ instanceof at.Name},m.source&&(m.source.evaluated=(0,at.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}We.compileSchema=To;function Z$(e,t,r){var n;r=(0,dt.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let s=r_.call(this,e,r);if(s===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new _s({schema:i,schemaId:o,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=e_.call(this,s)}We.resolveRef=Z$;function e_(e){return(0,dt.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:To.call(this,e)}function cu(e){for(const t of this._compilations)if(t_(t,e))return t}We.getCompilingSchema=cu;function t_(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function r_(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||gs.call(this,e,t)}function gs(e,t){const r=this.opts.uriResolver.parse(t),n=(0,dt._getFullPath)(this.opts.uriResolver,r);let a=(0,dt.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return Vs.call(this,r,e);const s=(0,dt.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=gs.call(this,e,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Vs.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||To.call(this,i),s===(0,dt.normalizeId)(t)){const{schema:o}=i,{schemaId:c}=this.opts,d=o[c];return d&&(a=(0,dt.resolveUrl)(this.opts.uriResolver,a,d)),new _s({schema:o,schemaId:c,root:e,baseId:a})}return Vs.call(this,r,i)}}We.resolveSchema=gs;const n_=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Vs(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,fc.unescapeFragment)(o)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!n_.has(o)&&d&&(t=(0,dt.resolveUrl)(this.opts.uriResolver,t,d))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,fc.schemaHasRulesButRef)(r,this.RULES)){const o=(0,dt.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=gs.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new _s({schema:r,schemaId:i,root:n,baseId:t}),s.schema!==s.root.schema)return s}const s_="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",a_="Meta-schema for $data reference (JSON AnySchema extension proposal)",o_="object",i_=["$data"],c_={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},l_=!1,u_={$id:s_,description:a_,type:o_,required:i_,properties:c_,additionalProperties:l_};var jo={};Object.defineProperty(jo,"__esModule",{value:!0});const lu=Dl;lu.code='require("ajv/dist/runtime/uri").default';jo.default=lu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=$s();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=le;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Io(),a=Ar,s=lr,i=We,o=le,c=De,d=Ie,u=J,f=u_,y=jo,m=(T,w)=>new RegExp(T,w);m.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$=200;function P(T){var w,N,b,l,h,R,C,M,X,Y,g,S,I,k,D,U,de,be,me,pe,fe,Be,we,Ht,Wt;const tt=T.strict,Bt=(w=T.code)===null||w===void 0?void 0:w.optimize,Lr=Bt===!0||Bt===void 0?1:Bt||0,Fr=(b=(N=T.code)===null||N===void 0?void 0:N.regExp)!==null&&b!==void 0?b:m,Os=(l=T.uriResolver)!==null&&l!==void 0?l:y.default;return{strictSchema:(R=(h=T.strictSchema)!==null&&h!==void 0?h:tt)!==null&&R!==void 0?R:!0,strictNumbers:(M=(C=T.strictNumbers)!==null&&C!==void 0?C:tt)!==null&&M!==void 0?M:!0,strictTypes:(Y=(X=T.strictTypes)!==null&&X!==void 0?X:tt)!==null&&Y!==void 0?Y:"log",strictTuples:(S=(g=T.strictTuples)!==null&&g!==void 0?g:tt)!==null&&S!==void 0?S:"log",strictRequired:(k=(I=T.strictRequired)!==null&&I!==void 0?I:tt)!==null&&k!==void 0?k:!1,code:T.code?{...T.code,optimize:Lr,regExp:Fr}:{optimize:Lr,regExp:Fr},loopRequired:(D=T.loopRequired)!==null&&D!==void 0?D:$,loopEnum:(U=T.loopEnum)!==null&&U!==void 0?U:$,meta:(de=T.meta)!==null&&de!==void 0?de:!0,messages:(be=T.messages)!==null&&be!==void 0?be:!0,inlineRefs:(me=T.inlineRefs)!==null&&me!==void 0?me:!0,schemaId:(pe=T.schemaId)!==null&&pe!==void 0?pe:"$id",addUsedSchema:(fe=T.addUsedSchema)!==null&&fe!==void 0?fe:!0,validateSchema:(Be=T.validateSchema)!==null&&Be!==void 0?Be:!0,validateFormats:(we=T.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:(Ht=T.unicodeRegExp)!==null&&Ht!==void 0?Ht:!0,int32range:(Wt=T.int32range)!==null&&Wt!==void 0?Wt:!0,uriResolver:Os}}class O{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...P(w)};const{es5:N,lines:b}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:_,es5:N,lines:b}),this.logger=W(w.logger);const l=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),j.call(this,E,w,"NOT SUPPORTED"),j.call(this,p,w,"DEPRECATED","warn"),this._metaOpts=se.call(this),w.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&Z.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),V.call(this),w.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:N,schemaId:b}=this.opts;let l=f;b==="id"&&(l={...f},l.id=l.$id,delete l.$id),N&&w&&this.addMetaSchema(l,l[b],!1)}defaultMeta(){const{meta:w,schemaId:N}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[N]||w:void 0}validate(w,N){let b;if(typeof w=="string"){if(b=this.getSchema(w),!b)throw new Error(`no schema with key or ref "${w}"`)}else b=this.compile(w);const l=b(N);return"$async"in b||(this.errors=b.errors),l}compile(w,N){const b=this._addSchema(w,N);return b.validate||this._compileSchemaEnv(b)}compileAsync(w,N){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:b}=this.opts;return l.call(this,w,N);async function l(Y,g){await h.call(this,Y.$schema);const S=this._addSchema(Y,g);return S.validate||R.call(this,S)}async function h(Y){Y&&!this.getSchema(Y)&&await l.call(this,{$ref:Y},!0)}async function R(Y){try{return this._compileSchemaEnv(Y)}catch(g){if(!(g instanceof a.default))throw g;return C.call(this,g),await M.call(this,g.missingSchema),R.call(this,Y)}}function C({missingSchema:Y,missingRef:g}){if(this.refs[Y])throw new Error(`AnySchema ${Y} is loaded but ${g} cannot be resolved`)}async function M(Y){const g=await X.call(this,Y);this.refs[Y]||await h.call(this,g.$schema),this.refs[Y]||this.addSchema(g,Y,N)}async function X(Y){const g=this._loading[Y];if(g)return g;try{return await(this._loading[Y]=b(Y))}finally{delete this._loading[Y]}}}addSchema(w,N,b,l=this.opts.validateSchema){if(Array.isArray(w)){for(const R of w)this.addSchema(R,void 0,b,l);return this}let h;if(typeof w=="object"){const{schemaId:R}=this.opts;if(h=w[R],h!==void 0&&typeof h!="string")throw new Error(`schema ${R} must be string`)}return N=(0,c.normalizeId)(N||h),this._checkUnique(N),this.schemas[N]=this._addSchema(w,b,N,l,!0),this}addMetaSchema(w,N,b=this.opts.validateSchema){return this.addSchema(w,N,!0,b),this}validateSchema(w,N){if(typeof w=="boolean")return!0;let b;if(b=w.$schema,b!==void 0&&typeof b!="string")throw new Error("$schema must be a string");if(b=b||this.opts.defaultMeta||this.defaultMeta(),!b)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate(b,w);if(!l&&N){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return l}getSchema(w){let N;for(;typeof(N=L.call(this,w))=="string";)w=N;if(N===void 0){const{schemaId:b}=this.opts,l=new i.SchemaEnv({schema:{},schemaId:b});if(N=i.resolveSchema.call(this,l,w),!N)return;this.refs[w]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=L.call(this,w);return typeof N=="object"&&this._cache.delete(N.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const N=w;this._cache.delete(N);let b=w[this.opts.schemaId];return b&&(b=(0,c.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const N of w)this.addKeyword(N);return this}addKeyword(w,N){let b;if(typeof w=="string")b=w,typeof N=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=b);else if(typeof w=="object"&&N===void 0){if(N=w,b=N.keyword,Array.isArray(b)&&!b.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(A.call(this,b,N),!N)return(0,u.eachItem)(b,h=>F.call(this,h)),this;q.call(this,N);const l={...N,type:(0,d.getJSONTypes)(N.type),schemaType:(0,d.getJSONTypes)(N.schemaType)};return(0,u.eachItem)(b,l.type.length===0?h=>F.call(this,h,l):h=>l.type.forEach(R=>F.call(this,h,l,R))),this}getKeyword(w){const N=this.RULES.all[w];return typeof N=="object"?N.definition:!!N}removeKeyword(w){const{RULES:N}=this;delete N.keywords[w],delete N.all[w];for(const b of N.rules){const l=b.rules.findIndex(h=>h.keyword===w);l>=0&&b.rules.splice(l,1)}return this}addFormat(w,N){return typeof N=="string"&&(N=new RegExp(N)),this.formats[w]=N,this}errorsText(w=this.errors,{separator:N=", ",dataVar:b="data"}={}){return!w||w.length===0?"No errors":w.map(l=>`${b}${l.instancePath} ${l.message}`).reduce((l,h)=>l+N+h)}$dataMetaSchema(w,N){const b=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const l of N){const h=l.split("/").slice(1);let R=w;for(const C of h)R=R[C];for(const C in b){const M=b[C];if(typeof M!="object")continue;const{$data:X}=M.definition,Y=R[C];X&&Y&&(R[C]=H(Y))}}return w}_removeAllSchemas(w,N){for(const b in w){const l=w[b];(!N||N.test(b))&&(typeof l=="string"?delete w[b]:l&&!l.meta&&(this._cache.delete(l.schema),delete w[b]))}}_addSchema(w,N,b,l=this.opts.validateSchema,h=this.opts.addUsedSchema){let R;const{schemaId:C}=this.opts;if(typeof w=="object")R=w[C];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let M=this._cache.get(w);if(M!==void 0)return M;b=(0,c.normalizeId)(R||b);const X=c.getSchemaRefs.call(this,w,b);return M=new i.SchemaEnv({schema:w,schemaId:C,meta:N,baseId:b,localRefs:X}),this._cache.set(M.schema,M),h&&!b.startsWith("#")&&(b&&this._checkUnique(b),this.refs[b]=M),l&&this.validateSchema(w,!0),M}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):i.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const N=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,w)}finally{this.opts=N}}}O.ValidationError=n.default,O.MissingRefError=a.default,e.default=O;function j(T,w,N,b="error"){for(const l in T){const h=l;h in w&&this.logger[b](`${N}: option ${l}. ${T[h]}`)}}function L(T){return T=(0,c.normalizeId)(T),this.schemas[T]||this.refs[T]}function V(){const T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(const w in T)this.addSchema(T[w],w)}function Q(){for(const T in this.opts.formats){const w=this.opts.formats[T];w&&this.addFormat(T,w)}}function Z(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in T){const N=T[w];N.keyword||(N.keyword=w),this.addKeyword(N)}}function se(){const T={...this.opts};for(const w of v)delete T[w];return T}const z={log(){},warn(){},error(){}};function W(T){if(T===!1)return z;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}const G=/^[a-z_$][a-z0-9_$:-]*$/i;function A(T,w){const{RULES:N}=this;if((0,u.eachItem)(T,b=>{if(N.keywords[b])throw new Error(`Keyword ${b} is already defined`);if(!G.test(b))throw new Error(`Keyword ${b} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function F(T,w,N){var b;const l=w==null?void 0:w.post;if(N&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let R=l?h.post:h.rules.find(({type:M})=>M===N);if(R||(R={type:N,rules:[]},h.rules.push(R)),h.keywords[T]=!0,!w)return;const C={keyword:T,definition:{...w,type:(0,d.getJSONTypes)(w.type),schemaType:(0,d.getJSONTypes)(w.schemaType)}};w.before?B.call(this,R,C,w.before):R.rules.push(C),h.all[T]=C,(b=w.implements)===null||b===void 0||b.forEach(M=>this.addKeyword(M))}function B(T,w,N){const b=T.rules.findIndex(l=>l.keyword===N);b>=0?T.rules.splice(b,0,w):(T.rules.push(w),this.logger.warn(`rule ${N} is not defined`))}function q(T){let{metaSchema:w}=T;w!==void 0&&(T.$data&&this.opts.$data&&(w=H(w)),T.validateSchema=this.compile(w,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function H(T){return{anyOf:[T,x]}}})(Yl);var ko={},Ao={},Co={};Object.defineProperty(Co,"__esModule",{value:!0});const d_={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Co.default=d_;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.callRef=ur.getValidate=void 0;const f_=Ar,hc=mt(),Ge=le,fr=Gt(),mc=We,bn=J,h_={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:s,validateName:i,opts:o,self:c}=n,{root:d}=s;if((r==="#"||r==="#/")&&a===d.baseId)return f();const u=mc.resolveRef.call(c,d,a,r);if(u===void 0)throw new f_.default(n.opts.uriResolver,a,r);if(u instanceof mc.SchemaEnv)return y(u);return m(u);function f(){if(s===d)return Kn(e,i,s,s.$async);const v=t.scopeValue("root",{ref:d});return Kn(e,(0,Ge._)`${v}.validate`,d,d.$async)}function y(v){const _=uu(e,v);Kn(e,_,v,v.$async)}function m(v){const _=t.scopeValue("schema",o.code.source===!0?{ref:v,code:(0,Ge.stringify)(v)}:{ref:v}),E=t.name("valid"),p=e.subschema({schema:v,dataTypes:[],schemaPath:Ge.nil,topSchemaRef:_,errSchemaPath:r},E);e.mergeEvaluated(p),e.ok(E)}}};function uu(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ge._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ur.getValidate=uu;function Kn(e,t,r,n){const{gen:a,it:s}=e,{allErrors:i,schemaEnv:o,opts:c}=s,d=c.passContext?fr.default.this:Ge.nil;n?u():f();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");const v=a.let("valid");a.try(()=>{a.code((0,Ge._)`await ${(0,hc.callValidateCode)(e,t,d)}`),m(t),i||a.assign(v,!0)},_=>{a.if((0,Ge._)`!(${_} instanceof ${s.ValidationError})`,()=>a.throw(_)),y(_),i||a.assign(v,!1)}),e.ok(v)}function f(){e.result((0,hc.callValidateCode)(e,t,d),()=>m(t),()=>y(t))}function y(v){const _=(0,Ge._)`${v}.errors`;a.assign(fr.default.vErrors,(0,Ge._)`${fr.default.vErrors} === null ? ${_} : ${fr.default.vErrors}.concat(${_})`),a.assign(fr.default.errors,(0,Ge._)`${fr.default.vErrors}.length`)}function m(v){var _;if(!s.opts.unevaluated)return;const E=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(s.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(s.props=bn.mergeEvaluated.props(a,E.props,s.props));else{const p=a.var("props",(0,Ge._)`${v}.evaluated.props`);s.props=bn.mergeEvaluated.props(a,p,s.props,Ge.Name)}if(s.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(s.items=bn.mergeEvaluated.items(a,E.items,s.items));else{const p=a.var("items",(0,Ge._)`${v}.evaluated.items`);s.items=bn.mergeEvaluated.items(a,p,s.items,Ge.Name)}}}ur.callRef=Kn;ur.default=h_;Object.defineProperty(Ao,"__esModule",{value:!0});const m_=Co,p_=ur,y_=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",m_.default,p_.default];Ao.default=y_;var Do={},Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});const rs=le,Mt=rs.operators,ns={maximum:{okStr:"<=",ok:Mt.LTE,fail:Mt.GT},minimum:{okStr:">=",ok:Mt.GTE,fail:Mt.LT},exclusiveMaximum:{okStr:"<",ok:Mt.LT,fail:Mt.GTE},exclusiveMinimum:{okStr:">",ok:Mt.GT,fail:Mt.LTE}},$_={message:({keyword:e,schemaCode:t})=>(0,rs.str)`must be ${ns[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,rs._)`{comparison: ${ns[e].okStr}, limit: ${t}}`},__={keyword:Object.keys(ns),type:"number",schemaType:"number",$data:!0,error:$_,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,rs._)`${r} ${ns[t].fail} ${n} || isNaN(${r})`)}};Mo.default=__;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});const xr=le,g_={message:({schemaCode:e})=>(0,xr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,xr._)`{multipleOf: ${e}}`},v_={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:g_,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,s=a.opts.multipleOfPrecision,i=t.let("res"),o=s?(0,xr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,xr._)`${i} !== parseInt(${i})`;e.fail$data((0,xr._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};Lo.default=v_;var Fo={},Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});function du(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}Vo.default=du;du.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Fo,"__esModule",{value:!0});const rr=le,w_=J,E_=Vo,b_={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,rr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,rr._)`{limit: ${e}}`},S_={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:b_,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,s=t==="maxLength"?rr.operators.GT:rr.operators.LT,i=a.opts.unicode===!1?(0,rr._)`${r}.length`:(0,rr._)`${(0,w_.useFunc)(e.gen,E_.default)}(${r})`;e.fail$data((0,rr._)`${i} ${s} ${n}`)}};Fo.default=S_;var zo={};Object.defineProperty(zo,"__esModule",{value:!0});const P_=mt(),ss=le,R_={message:({schemaCode:e})=>(0,ss.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ss._)`{pattern: ${e}}`},N_={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:R_,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:s}=e,i=s.opts.unicodeRegExp?"u":"",o=r?(0,ss._)`(new RegExp(${a}, ${i}))`:(0,P_.usePattern)(e,n);e.fail$data((0,ss._)`!${o}.test(${t})`)}};zo.default=N_;var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});const Qr=le,O_={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Qr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Qr._)`{limit: ${e}}`},I_={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:O_,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Qr.operators.GT:Qr.operators.LT;e.fail$data((0,Qr._)`Object.keys(${r}).length ${a} ${n}`)}};Uo.default=I_;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});const qr=mt(),Zr=le,T_=J,j_={message:({params:{missingProperty:e}})=>(0,Zr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Zr._)`{missingProperty: ${e}}`},k_={keyword:"required",type:"object",schemaType:"array",$data:!0,error:j_,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:s,it:i}=e,{opts:o}=i;if(!s&&r.length===0)return;const c=r.length>=o.loopRequired;if(i.allErrors?d():u(),o.strictRequired){const m=e.parentSchema.properties,{definedProperties:v}=e.it;for(const _ of r)if((m==null?void 0:m[_])===void 0&&!v.has(_)){const E=i.schemaEnv.baseId+i.errSchemaPath,p=`required property "${_}" is not defined at "${E}" (strictRequired)`;(0,T_.checkStrictMode)(i,p,i.opts.strictRequired)}}function d(){if(c||s)e.block$data(Zr.nil,f);else for(const m of r)(0,qr.checkReportMissingProp)(e,m)}function u(){const m=t.let("missing");if(c||s){const v=t.let("valid",!0);e.block$data(v,()=>y(m,v)),e.ok(v)}else t.if((0,qr.checkMissingProp)(e,r,m)),(0,qr.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,qr.noPropertyInData)(t,a,m,o.ownProperties),()=>e.error())})}function y(m,v){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(v,(0,qr.propertyInData)(t,a,m,o.ownProperties)),t.if((0,Zr.not)(v),()=>{e.error(),t.break()})},Zr.nil)}}};qo.default=k_;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});const en=le,A_={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,en.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,en._)`{limit: ${e}}`},C_={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:A_,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?en.operators.GT:en.operators.LT;e.fail$data((0,en._)`${r}.length ${a} ${n}`)}};Ko.default=C_;var Go={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});const fu=ls;fu.code='require("ajv/dist/runtime/equal").default';ln.default=fu;Object.defineProperty(Go,"__esModule",{value:!0});const zs=Ie,Ae=le,D_=J,M_=ln,L_={message:({params:{i:e,j:t}})=>(0,Ae.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ae._)`{i: ${e}, j: ${t}}`},F_={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:L_,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:s,schemaCode:i,it:o}=e;if(!n&&!a)return;const c=t.let("valid"),d=s.items?(0,zs.getSchemaTypes)(s.items):[];e.block$data(c,u,(0,Ae._)`${i} === false`),e.ok(c);function u(){const v=t.let("i",(0,Ae._)`${r}.length`),_=t.let("j");e.setParams({i:v,j:_}),t.assign(c,!0),t.if((0,Ae._)`${v} > 1`,()=>(f()?y:m)(v,_))}function f(){return d.length>0&&!d.some(v=>v==="object"||v==="array")}function y(v,_){const E=t.name("item"),p=(0,zs.checkDataTypes)(d,E,o.opts.strictNumbers,zs.DataType.Wrong),$=t.const("indices",(0,Ae._)`{}`);t.for((0,Ae._)`;${v}--;`,()=>{t.let(E,(0,Ae._)`${r}[${v}]`),t.if(p,(0,Ae._)`continue`),d.length>1&&t.if((0,Ae._)`typeof ${E} == "string"`,(0,Ae._)`${E} += "_"`),t.if((0,Ae._)`typeof ${$}[${E}] == "number"`,()=>{t.assign(_,(0,Ae._)`${$}[${E}]`),e.error(),t.assign(c,!1).break()}).code((0,Ae._)`${$}[${E}] = ${v}`)})}function m(v,_){const E=(0,D_.useFunc)(t,M_.default),p=t.name("outer");t.label(p).for((0,Ae._)`;${v}--;`,()=>t.for((0,Ae._)`${_} = ${v}; ${_}--;`,()=>t.if((0,Ae._)`${E}(${r}[${v}], ${r}[${_}])`,()=>{e.error(),t.assign(c,!1).break(p)})))}}};Go.default=F_;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});const $a=le,V_=J,z_=ln,U_={message:"must be equal to constant",params:({schemaCode:e})=>(0,$a._)`{allowedValue: ${e}}`},q_={keyword:"const",$data:!0,error:U_,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,$a._)`!${(0,V_.useFunc)(t,z_.default)}(${r}, ${a})`):e.fail((0,$a._)`${s} !== ${r}`)}};Ho.default=q_;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});const Wr=le,K_=J,G_=ln,H_={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Wr._)`{allowedValues: ${e}}`},W_={keyword:"enum",schemaType:"array",$data:!0,error:H_,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:s,it:i}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=i.opts.loopEnum;let c;const d=()=>c??(c=(0,K_.useFunc)(t,G_.default));let u;if(o||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const m=t.const("vSchema",s);u=(0,Wr.or)(...a.map((v,_)=>y(m,_)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",s,m=>t.if((0,Wr._)`${d()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function y(m,v){const _=a[v];return typeof _=="object"&&_!==null?(0,Wr._)`${d()}(${r}, ${m}[${v}])`:(0,Wr._)`${r} === ${_}`}}};Wo.default=W_;Object.defineProperty(Do,"__esModule",{value:!0});const B_=Mo,Y_=Lo,J_=Fo,X_=zo,x_=Uo,Q_=qo,Z_=Ko,eg=Go,tg=Ho,rg=Wo,ng=[B_.default,Y_.default,J_.default,X_.default,x_.default,Q_.default,Z_.default,eg.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},tg.default,rg.default];Do.default=ng;var Bo={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.validateAdditionalItems=void 0;const nr=le,_a=J,sg={message:({params:{len:e}})=>(0,nr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,nr._)`{limit: ${e}}`},ag={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:sg,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,_a.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}hu(e,n)}};function hu(e,t){const{gen:r,schema:n,data:a,keyword:s,it:i}=e;i.items=!0;const o=r.const("len",(0,nr._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,nr._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,_a.alwaysValidSchema)(i,n)){const d=r.var("valid",(0,nr._)`${o} <= ${t.length}`);r.if((0,nr.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,o,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:_a.Type.Num},d),i.allErrors||r.if((0,nr.not)(d),()=>r.break())})}}Cr.validateAdditionalItems=hu;Cr.default=ag;var Yo={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.validateTuple=void 0;const pc=le,Gn=J,og=mt(),ig={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return mu(e,"additionalItems",t);r.items=!0,!(0,Gn.alwaysValidSchema)(r,t)&&e.ok((0,og.validateArray)(e))}};function mu(e,t,r=e.schema){const{gen:n,parentSchema:a,data:s,keyword:i,it:o}=e;u(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=Gn.mergeEvaluated.items(n,r.length,o.items));const c=n.name("valid"),d=n.const("len",(0,pc._)`${s}.length`);r.forEach((f,y)=>{(0,Gn.alwaysValidSchema)(o,f)||(n.if((0,pc._)`${d} > ${y}`,()=>e.subschema({keyword:i,schemaProp:y,dataProp:y},c)),e.ok(c))});function u(f){const{opts:y,errSchemaPath:m}=o,v=r.length,_=v===f.minItems&&(v===f.maxItems||f[t]===!1);if(y.strictTuples&&!_){const E=`"${i}" is ${v}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Gn.checkStrictMode)(o,E,y.strictTuples)}}}Dr.validateTuple=mu;Dr.default=ig;Object.defineProperty(Yo,"__esModule",{value:!0});const cg=Dr,lg={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,cg.validateTuple)(e,"items")};Yo.default=lg;var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});const yc=le,ug=J,dg=mt(),fg=Cr,hg={message:({params:{len:e}})=>(0,yc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,yc._)`{limit: ${e}}`},mg={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:hg,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,ug.alwaysValidSchema)(n,t)&&(a?(0,fg.validateAdditionalItems)(e,a):e.ok((0,dg.validateArray)(e)))}};Jo.default=mg;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});const et=le,Sn=J,pg={message:({params:{min:e,max:t}})=>t===void 0?(0,et.str)`must contain at least ${e} valid item(s)`:(0,et.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,et._)`{minContains: ${e}}`:(0,et._)`{minContains: ${e}, maxContains: ${t}}`},yg={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:pg,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;let i,o;const{minContains:c,maxContains:d}=n;s.opts.next?(i=c===void 0?1:c,o=d):i=1;const u=t.const("len",(0,et._)`${a}.length`);if(e.setParams({min:i,max:o}),o===void 0&&i===0){(0,Sn.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,Sn.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Sn.alwaysValidSchema)(s,r)){let _=(0,et._)`${u} >= ${i}`;o!==void 0&&(_=(0,et._)`${_} && ${u} <= ${o}`),e.pass(_);return}s.items=!0;const f=t.name("valid");o===void 0&&i===1?m(f,()=>t.if(f,()=>t.break())):i===0?(t.let(f,!0),o!==void 0&&t.if((0,et._)`${a}.length > 0`,y)):(t.let(f,!1),y()),e.result(f,()=>e.reset());function y(){const _=t.name("_valid"),E=t.let("count",0);m(_,()=>t.if(_,()=>v(E)))}function m(_,E){t.forRange("i",0,u,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:Sn.Type.Num,compositeRule:!0},_),E()})}function v(_){t.code((0,et._)`${_}++`),o===void 0?t.if((0,et._)`${_} >= ${i}`,()=>t.assign(f,!0).break()):(t.if((0,et._)`${_} > ${o}`,()=>t.assign(f,!1).break()),i===1?t.assign(f,!0):t.if((0,et._)`${_} >= ${i}`,()=>t.assign(f,!0)))}}};Xo.default=yg;var pu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=le,r=J,n=mt();e.error={message:({params:{property:c,depsCount:d,deps:u}})=>{const f=d===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${d},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,u]=s(c);i(c,d),o(c,u)}};function s({schema:c}){const d={},u={};for(const f in c){if(f==="__proto__")continue;const y=Array.isArray(c[f])?d:u;y[f]=c[f]}return[d,u]}function i(c,d=c.schema){const{gen:u,data:f,it:y}=c;if(Object.keys(d).length===0)return;const m=u.let("missing");for(const v in d){const _=d[v];if(_.length===0)continue;const E=(0,n.propertyInData)(u,f,v,y.opts.ownProperties);c.setParams({property:v,depsCount:_.length,deps:_.join(", ")}),y.allErrors?u.if(E,()=>{for(const p of _)(0,n.checkReportMissingProp)(c,p)}):(u.if((0,t._)`${E} && (${(0,n.checkMissingProp)(c,_,m)})`),(0,n.reportMissingProp)(c,m),u.else())}}e.validatePropertyDeps=i;function o(c,d=c.schema){const{gen:u,data:f,keyword:y,it:m}=c,v=u.name("valid");for(const _ in d)(0,r.alwaysValidSchema)(m,d[_])||(u.if((0,n.propertyInData)(u,f,_,m.opts.ownProperties),()=>{const E=c.subschema({keyword:y,schemaProp:_},v);c.mergeValidEvaluated(E,v)},()=>u.var(v,!0)),c.ok(v))}e.validateSchemaDeps=o,e.default=a})(pu);var xo={};Object.defineProperty(xo,"__esModule",{value:!0});const yu=le,$g=J,_g={message:"property name must be valid",params:({params:e})=>(0,yu._)`{propertyName: ${e.propertyName}}`},gg={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:_g,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,$g.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),t.if((0,yu.not)(s),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(s)}};xo.default=gg;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const Pn=mt(),it=le,vg=Gt(),Rn=J,wg={message:"must NOT have additional properties",params:({params:e})=>(0,it._)`{additionalProperty: ${e.additionalProperty}}`},Eg={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:wg,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,Rn.alwaysValidSchema)(i,r))return;const d=(0,Pn.allSchemaProperties)(n.properties),u=(0,Pn.allSchemaProperties)(n.patternProperties);f(),e.ok((0,it._)`${s} === ${vg.default.errors}`);function f(){t.forIn("key",a,E=>{!d.length&&!u.length?v(E):t.if(y(E),()=>v(E))})}function y(E){let p;if(d.length>8){const $=(0,Rn.schemaRefOrVal)(i,n.properties,"properties");p=(0,Pn.isOwnProperty)(t,$,E)}else d.length?p=(0,it.or)(...d.map($=>(0,it._)`${E} === ${$}`)):p=it.nil;return u.length&&(p=(0,it.or)(p,...u.map($=>(0,it._)`${(0,Pn.usePattern)(e,$)}.test(${E})`))),(0,it.not)(p)}function m(E){t.code((0,it._)`delete ${a}[${E}]`)}function v(E){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(E);return}if(r===!1){e.setParams({additionalProperty:E}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,Rn.alwaysValidSchema)(i,r)){const p=t.name("valid");c.removeAdditional==="failing"?(_(E,p,!1),t.if((0,it.not)(p),()=>{e.reset(),m(E)})):(_(E,p),o||t.if((0,it.not)(p),()=>t.break()))}}function _(E,p,$){const P={keyword:"additionalProperties",dataProp:E,dataPropType:Rn.Type.Str};$===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(P,p)}}};vs.default=Eg;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});const bg=$s(),$c=mt(),Us=J,_c=vs,Sg={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&_c.default.code(new bg.KeywordCxt(s,_c.default,"additionalProperties"));const i=(0,$c.allSchemaProperties)(r);for(const f of i)s.definedProperties.add(f);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Us.mergeEvaluated.props(t,(0,Us.toHash)(i),s.props));const o=i.filter(f=>!(0,Us.alwaysValidSchema)(s,r[f]));if(o.length===0)return;const c=t.name("valid");for(const f of o)d(f)?u(f):(t.if((0,$c.propertyInData)(t,a,f,s.opts.ownProperties)),u(f),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function d(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};Qo.default=Sg;var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});const gc=mt(),Nn=le,vc=J,wc=J,Pg={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:s}=e,{opts:i}=s,o=(0,gc.allSchemaProperties)(r),c=o.filter(_=>(0,vc.alwaysValidSchema)(s,r[_]));if(o.length===0||c.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const d=i.strictSchema&&!i.allowMatchingProperties&&a.properties,u=t.name("valid");s.props!==!0&&!(s.props instanceof Nn.Name)&&(s.props=(0,wc.evaluatedPropsToName)(t,s.props));const{props:f}=s;y();function y(){for(const _ of o)d&&m(_),s.allErrors?v(_):(t.var(u,!0),v(_),t.if(u))}function m(_){for(const E in d)new RegExp(_).test(E)&&(0,vc.checkStrictMode)(s,`property ${E} matches pattern ${_} (use allowMatchingProperties)`)}function v(_){t.forIn("key",n,E=>{t.if((0,Nn._)`${(0,gc.usePattern)(e,_)}.test(${E})`,()=>{const p=c.includes(_);p||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:E,dataPropType:wc.Type.Str},u),s.opts.unevaluated&&f!==!0?t.assign((0,Nn._)`${f}[${E}]`,!0):!p&&!s.allErrors&&t.if((0,Nn.not)(u),()=>t.break())})})}}};Zo.default=Pg;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});const Rg=J,Ng={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Rg.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};ei.default=Ng;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});const Og=mt(),Ig={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Og.validateUnion,error:{message:"must match a schema in anyOf"}};ti.default=Ig;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});const Hn=le,Tg=J,jg={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Hn._)`{passingSchemas: ${e.passing}}`},kg={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:jg,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,i=t.let("valid",!1),o=t.let("passing",null),c=t.name("_valid");e.setParams({passing:o}),t.block(d),e.result(i,()=>e.reset(),()=>e.error(!0));function d(){s.forEach((u,f)=>{let y;(0,Tg.alwaysValidSchema)(a,u)?t.var(c,!0):y=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,Hn._)`${c} && ${i}`).assign(i,!1).assign(o,(0,Hn._)`[${o}, ${f}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(o,f),y&&e.mergeEvaluated(y,Hn.Name)})})}}};ri.default=kg;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});const Ag=J,Cg={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((s,i)=>{if((0,Ag.alwaysValidSchema)(n,s))return;const o=e.subschema({keyword:"allOf",schemaProp:i},a);e.ok(a),e.mergeEvaluated(o)})}};ni.default=Cg;var si={};Object.defineProperty(si,"__esModule",{value:!0});const as=le,$u=J,Dg={message:({params:e})=>(0,as.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,as._)`{failingKeyword: ${e.ifClause}}`},Mg={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Dg,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,$u.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Ec(n,"then"),s=Ec(n,"else");if(!a&&!s)return;const i=t.let("valid",!0),o=t.name("_valid");if(c(),e.reset(),a&&s){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(o,d("then",u),d("else",u))}else a?t.if(o,d("then")):t.if((0,as.not)(o),d("else"));e.pass(i,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(u)}function d(u,f){return()=>{const y=e.subschema({keyword:u},o);t.assign(i,o),e.mergeValidEvaluated(y,i),f?t.assign(f,(0,as._)`${u}`):e.setParams({ifClause:u})}}}};function Ec(e,t){const r=e.schema[t];return r!==void 0&&!(0,$u.alwaysValidSchema)(e,r)}si.default=Mg;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});const Lg=J,Fg={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Lg.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};ai.default=Fg;Object.defineProperty(Bo,"__esModule",{value:!0});const Vg=Cr,zg=Yo,Ug=Dr,qg=Jo,Kg=Xo,Gg=pu,Hg=xo,Wg=vs,Bg=Qo,Yg=Zo,Jg=ei,Xg=ti,xg=ri,Qg=ni,Zg=si,e0=ai;function t0(e=!1){const t=[Jg.default,Xg.default,xg.default,Qg.default,Zg.default,e0.default,Hg.default,Wg.default,Gg.default,Bg.default,Yg.default];return e?t.push(zg.default,qg.default):t.push(Vg.default,Ug.default),t.push(Kg.default),t}Bo.default=t0;var oi={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});const Ne=le,r0={message:({schemaCode:e})=>(0,Ne.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ne._)`{format: ${e}}`},n0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r0,code(e,t){const{gen:r,data:n,$data:a,schema:s,schemaCode:i,it:o}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:f}=o;if(!c.validateFormats)return;a?y():m();function y(){const v=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),_=r.const("fDef",(0,Ne._)`${v}[${i}]`),E=r.let("fType"),p=r.let("format");r.if((0,Ne._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(E,(0,Ne._)`${_}.type || "string"`).assign(p,(0,Ne._)`${_}.validate`),()=>r.assign(E,(0,Ne._)`"string"`).assign(p,_)),e.fail$data((0,Ne.or)($(),P()));function $(){return c.strictSchema===!1?Ne.nil:(0,Ne._)`${i} && !${p}`}function P(){const O=u.$async?(0,Ne._)`(${_}.async ? await ${p}(${n}) : ${p}(${n}))`:(0,Ne._)`${p}(${n})`,j=(0,Ne._)`(typeof ${p} == "function" ? ${O} : ${p}.test(${n}))`;return(0,Ne._)`${p} && ${p} !== true && ${E} === ${t} && !${j}`}}function m(){const v=f.formats[s];if(!v){$();return}if(v===!0)return;const[_,E,p]=P(v);_===t&&e.pass(O());function $(){if(c.strictSchema===!1){f.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${s}" ignored in schema at path "${d}"`}}function P(j){const L=j instanceof RegExp?(0,Ne.regexpCode)(j):c.code.formats?(0,Ne._)`${c.code.formats}${(0,Ne.getProperty)(s)}`:void 0,V=r.scopeValue("formats",{key:s,ref:j,code:L});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,Ne._)`${V}.validate`]:["string",j,V]}function O(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Ne._)`await ${p}(${n})`}return typeof E=="function"?(0,Ne._)`${p}(${n})`:(0,Ne._)`${p}.test(${n})`}}}};ii.default=n0;Object.defineProperty(oi,"__esModule",{value:!0});const s0=ii,a0=[s0.default];oi.default=a0;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.contentVocabulary=Nr.metadataVocabulary=void 0;Nr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Nr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ko,"__esModule",{value:!0});const o0=Ao,i0=Do,c0=Bo,l0=oi,bc=Nr,u0=[o0.default,i0.default,(0,c0.default)(),l0.default,bc.metadataVocabulary,bc.contentVocabulary];ko.default=u0;var ci={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.DiscrError=void 0;var Sc;(function(e){e.Tag="tag",e.Mapping="mapping"})(Sc||(ws.DiscrError=Sc={}));Object.defineProperty(ci,"__esModule",{value:!0});const yr=le,ga=ws,Pc=We,d0=Ar,f0=J,h0={message:({params:{discrError:e,tagName:t}})=>e===ga.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,yr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},m0={keyword:"discriminator",type:"object",schemaType:"object",error:h0,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:s}=e,{oneOf:i}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,yr._)`${r}${(0,yr.getProperty)(o)}`);t.if((0,yr._)`typeof ${d} == "string"`,()=>u(),()=>e.error(!1,{discrError:ga.DiscrError.Tag,tag:d,tagName:o})),e.ok(c);function u(){const m=y();t.if(!1);for(const v in m)t.elseIf((0,yr._)`${d} === ${v}`),t.assign(c,f(m[v]));t.else(),e.error(!1,{discrError:ga.DiscrError.Mapping,tag:d,tagName:o}),t.endIf()}function f(m){const v=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},v);return e.mergeEvaluated(_,yr.Name),v}function y(){var m;const v={},_=p(a);let E=!0;for(let O=0;O<i.length;O++){let j=i[O];if(j!=null&&j.$ref&&!(0,f0.schemaHasRulesButRef)(j,s.self.RULES)){const V=j.$ref;if(j=Pc.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,V),j instanceof Pc.SchemaEnv&&(j=j.schema),j===void 0)throw new d0.default(s.opts.uriResolver,s.baseId,V)}const L=(m=j==null?void 0:j.properties)===null||m===void 0?void 0:m[o];if(typeof L!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);E=E&&(_||p(j)),$(L,O)}if(!E)throw new Error(`discriminator: "${o}" must be required`);return v;function p({required:O}){return Array.isArray(O)&&O.includes(o)}function $(O,j){if(O.const)P(O.const,j);else if(O.enum)for(const L of O.enum)P(L,j);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function P(O,j){if(typeof O!="string"||O in v)throw new Error(`discriminator: "${o}" values must be unique strings`);v[O]=j}}}};ci.default=m0;const p0="http://json-schema.org/draft-07/schema#",y0="http://json-schema.org/draft-07/schema#",$0="Core schema meta-schema",_0={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},g0=["object","boolean"],v0={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},w0={$schema:p0,$id:y0,title:$0,definitions:_0,type:g0,properties:v0,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Yl,n=ko,a=ci,s=w0,i=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(v,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=$s();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var u=le;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=Io();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var y=Ar;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return y.default}})})(fa,fa.exports);var E0=fa.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=E0,r=le,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:o,schemaCode:c})=>(0,r.str)`should be ${a[o].okStr} ${c}`,params:({keyword:o,schemaCode:c})=>(0,r._)`{comparison: ${a[o].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:c,data:d,schemaCode:u,keyword:f,it:y}=o,{opts:m,self:v}=y;if(!m.validateFormats)return;const _=new t.KeywordCxt(y,v.RULES.all.format.definition,"format");_.$data?E():p();function E(){const P=c.scopeValue("formats",{ref:v.formats,code:m.code.formats}),O=c.const("fmt",(0,r._)`${P}[${_.schemaCode}]`);o.fail$data((0,r.or)((0,r._)`typeof ${O} != "object"`,(0,r._)`${O} instanceof RegExp`,(0,r._)`typeof ${O}.compare != "function"`,$(O)))}function p(){const P=_.schema,O=v.formats[P];if(!O||O===!0)return;if(typeof O!="object"||O instanceof RegExp||typeof O.compare!="function")throw new Error(`"${f}": format "${P}" does not define "compare" function`);const j=c.scopeValue("formats",{key:P,ref:O,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(P)}`:void 0});o.fail$data($(j))}function $(P){return(0,r._)`${P}.compare(${d}, ${u}) ${a[f].fail} 0`}},dependencies:["format"]};const i=o=>(o.addKeyword(e.formatLimitDefinition),o);e.default=i})(Bl);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Wl,n=Bl,a=le,s=new a.Name("fullFormats"),i=new a.Name("fastFormats"),o=(d,u={keywords:!0})=>{if(Array.isArray(u))return c(d,u,r.fullFormats,s),d;const[f,y]=u.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,s],m=u.formats||r.formatNames;return c(d,m,f,y),u.keywords&&(0,n.default)(d),d};o.get=(d,u="full")=>{const y=(u==="fast"?r.fastFormats:r.fullFormats)[d];if(!y)throw new Error(`Unknown format "${d}"`);return y};function c(d,u,f,y){var m,v;(m=(v=d.opts.code).formats)!==null&&m!==void 0||(v.formats=(0,a._)`require("ajv-formats/dist/formats").${y}`);for(const _ of u)d.addFormat(_,f[_])}e.exports=t=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o})(da,da.exports);var b0=da.exports;const S0=cl(b0),P0=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const a=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!R0(a,s)&&n||Object.defineProperty(e,r,s)},R0=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},N0=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},O0=(e,t)=>`/* Wrapped ${e}*/
${t}`,I0=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),T0=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),j0=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,a=O0.bind(null,n,t.toString());Object.defineProperty(a,"name",T0);const{writable:s,enumerable:i,configurable:o}=I0;Object.defineProperty(e,"toString",{value:a,writable:s,enumerable:i,configurable:o})};function k0(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const a of Reflect.ownKeys(t))P0(e,t,a,r);return N0(e,t),j0(e,t,n),e}const Rc=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:a=!1,after:s=!0}=t;if(r<0||n<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!a&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let i,o,c;const d=function(...u){const f=this,y=()=>{i=void 0,o&&(clearTimeout(o),o=void 0),s&&(c=e.apply(f,u))},m=()=>{o=void 0,i&&(clearTimeout(i),i=void 0),s&&(c=e.apply(f,u))},v=a&&!i;return clearTimeout(i),i=setTimeout(y,r),n>0&&n!==Number.POSITIVE_INFINITY&&!o&&(o=setTimeout(m,n)),v&&(c=e.apply(f,u)),c};return k0(d,e),d.cancel=()=>{i&&(clearTimeout(i),i=void 0),o&&(clearTimeout(o),o=void 0)},d};var va={exports:{}};const A0="2.0.0",_u=256,C0=Number.MAX_SAFE_INTEGER||9007199254740991,D0=16,M0=_u-6,L0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Es={MAX_LENGTH:_u,MAX_SAFE_COMPONENT_LENGTH:D0,MAX_SAFE_BUILD_LENGTH:M0,MAX_SAFE_INTEGER:C0,RELEASE_TYPES:L0,SEMVER_SPEC_VERSION:A0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const F0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var bs=F0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:a}=Es,s=bs;t=e.exports={};const i=t.re=[],o=t.safeRe=[],c=t.src=[],d=t.safeSrc=[],u=t.t={};let f=0;const y="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",a],[y,n]],v=E=>{for(const[p,$]of m)E=E.split(`${p}*`).join(`${p}{0,${$}}`).split(`${p}+`).join(`${p}{1,${$}}`);return E},_=(E,p,$)=>{const P=v(p),O=f++;s(E,O,p),u[E]=O,c[O]=p,d[O]=P,i[O]=new RegExp(p,$?"g":void 0),o[O]=new RegExp(P,$?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),_("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${y}+`),_("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),_("FULL",`^${c[u.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),_("LOOSE",`^${c[u.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),_("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",c[u.COERCE],!0),_("COERCERTLFULL",c[u.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",_("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",_("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(va,va.exports);var un=va.exports;const V0=Object.freeze({loose:!0}),z0=Object.freeze({}),U0=e=>e?typeof e!="object"?V0:e:z0;var li=U0;const Nc=/^[0-9]+$/,gu=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const r=Nc.test(e),n=Nc.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},q0=(e,t)=>gu(t,e);var vu={compareIdentifiers:gu,rcompareIdentifiers:q0};const On=bs,{MAX_LENGTH:Oc,MAX_SAFE_INTEGER:In}=Es,{safeRe:Tn,t:jn}=un,K0=li,{compareIdentifiers:qs}=vu;let G0=class _t{constructor(t,r){if(r=K0(r),t instanceof _t){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Oc)throw new TypeError(`version is longer than ${Oc} characters`);On("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Tn[jn.LOOSE]:Tn[jn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>In||this.major<0)throw new TypeError("Invalid major version");if(this.minor>In||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>In||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){const s=+a;if(s>=0&&s<In)return s}return a}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(On("SemVer.compare",this.version,this.options,t),!(t instanceof _t)){if(typeof t=="string"&&t===this.version)return 0;t=new _t(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof _t||(t=new _t(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof _t||(t=new _t(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],a=t.prerelease[r];if(On("prerelease compare",r,n,a),n===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(n===void 0)return-1;if(n===a)continue;return qs(n,a)}while(++r)}compareBuild(t){t instanceof _t||(t=new _t(t,this.options));let r=0;do{const n=this.build[r],a=t.build[r];if(On("build compare",r,n,a),n===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(n===void 0)return-1;if(n===a)continue;return qs(n,a)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const a=`-${r}`.match(this.options.loose?Tn[jn.PRERELEASELOOSE]:Tn[jn.PRERELEASE]);if(!a||a[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const a=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[a];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(r){let s=[r,a];n===!1&&(s=[r]),qs(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ue=G0;const Ic=Ue,H0=(e,t,r=!1)=>{if(e instanceof Ic)return e;try{return new Ic(e,t)}catch(n){if(!r)return null;throw n}};var Mr=H0;const W0=Mr,B0=(e,t)=>{const r=W0(e,t);return r?r.version:null};var Y0=B0;const J0=Mr,X0=(e,t)=>{const r=J0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var x0=X0;const Tc=Ue,Q0=(e,t,r,n,a)=>{typeof r=="string"&&(a=n,n=r,r=void 0);try{return new Tc(e instanceof Tc?e.version:e,r).inc(t,n,a).version}catch{return null}};var Z0=Q0;const jc=Mr,ev=(e,t)=>{const r=jc(e,null,!0),n=jc(t,null,!0),a=r.compare(n);if(a===0)return null;const s=a>0,i=s?r:n,o=s?n:r,c=!!i.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(i)===0)return o.minor&&!o.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var tv=ev;const rv=Ue,nv=(e,t)=>new rv(e,t).major;var sv=nv;const av=Ue,ov=(e,t)=>new av(e,t).minor;var iv=ov;const cv=Ue,lv=(e,t)=>new cv(e,t).patch;var uv=lv;const dv=Mr,fv=(e,t)=>{const r=dv(e,t);return r&&r.prerelease.length?r.prerelease:null};var hv=fv;const kc=Ue,mv=(e,t,r)=>new kc(e,r).compare(new kc(t,r));var pt=mv;const pv=pt,yv=(e,t,r)=>pv(t,e,r);var $v=yv;const _v=pt,gv=(e,t)=>_v(e,t,!0);var vv=gv;const Ac=Ue,wv=(e,t,r)=>{const n=new Ac(e,r),a=new Ac(t,r);return n.compare(a)||n.compareBuild(a)};var ui=wv;const Ev=ui,bv=(e,t)=>e.sort((r,n)=>Ev(r,n,t));var Sv=bv;const Pv=ui,Rv=(e,t)=>e.sort((r,n)=>Pv(n,r,t));var Nv=Rv;const Ov=pt,Iv=(e,t,r)=>Ov(e,t,r)>0;var Ss=Iv;const Tv=pt,jv=(e,t,r)=>Tv(e,t,r)<0;var di=jv;const kv=pt,Av=(e,t,r)=>kv(e,t,r)===0;var wu=Av;const Cv=pt,Dv=(e,t,r)=>Cv(e,t,r)!==0;var Eu=Dv;const Mv=pt,Lv=(e,t,r)=>Mv(e,t,r)>=0;var fi=Lv;const Fv=pt,Vv=(e,t,r)=>Fv(e,t,r)<=0;var hi=Vv;const zv=wu,Uv=Eu,qv=Ss,Kv=fi,Gv=di,Hv=hi,Wv=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return zv(e,r,n);case"!=":return Uv(e,r,n);case">":return qv(e,r,n);case">=":return Kv(e,r,n);case"<":return Gv(e,r,n);case"<=":return Hv(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var bu=Wv;const Bv=Ue,Yv=Mr,{safeRe:kn,t:An}=un,Jv=(e,t)=>{if(e instanceof Bv)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?kn[An.COERCEFULL]:kn[An.COERCE]);else{const c=t.includePrerelease?kn[An.COERCERTLFULL]:kn[An.COERCERTL];let d;for(;(d=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],a=r[3]||"0",s=r[4]||"0",i=t.includePrerelease&&r[5]?`-${r[5]}`:"",o=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Yv(`${n}.${a}.${s}${i}${o}`,t)};var Xv=Jv;class xv{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(t,r)}return this}}var Qv=xv,Ks,Cc;function yt(){if(Cc)return Ks;Cc=1;const e=/\s+/g;class t{constructor(F,B){if(B=a(B),F instanceof t)return F.loose===!!B.loose&&F.includePrerelease===!!B.includePrerelease?F:new t(F.raw,B);if(F instanceof s)return this.raw=F.value,this.set=[[F]],this.formatted=void 0,this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=F.trim().replace(e," "),this.set=this.raw.split("||").map(q=>this.parseRange(q.trim())).filter(q=>q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const q=this.set[0];if(this.set=this.set.filter(x=>!_(x[0])),this.set.length===0)this.set=[q];else if(this.set.length>1){for(const x of this.set)if(x.length===1&&E(x[0])){this.set=[x];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let F=0;F<this.set.length;F++){F>0&&(this.formatted+="||");const B=this.set[F];for(let q=0;q<B.length;q++)q>0&&(this.formatted+=" "),this.formatted+=B[q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(F){const q=((this.options.includePrerelease&&m)|(this.options.loose&&v))+":"+F,x=n.get(q);if(x)return x;const H=this.options.loose,T=H?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];F=F.replace(T,W(this.options.includePrerelease)),i("hyphen replace",F),F=F.replace(c[d.COMPARATORTRIM],u),i("comparator trim",F),F=F.replace(c[d.TILDETRIM],f),i("tilde trim",F),F=F.replace(c[d.CARETTRIM],y),i("caret trim",F);let w=F.split(" ").map(h=>$(h,this.options)).join(" ").split(/\s+/).map(h=>z(h,this.options));H&&(w=w.filter(h=>(i("loose invalid filter",h,this.options),!!h.match(c[d.COMPARATORLOOSE])))),i("range list",w);const N=new Map,b=w.map(h=>new s(h,this.options));for(const h of b){if(_(h))return[h];N.set(h.value,h)}N.size>1&&N.has("")&&N.delete("");const l=[...N.values()];return n.set(q,l),l}intersects(F,B){if(!(F instanceof t))throw new TypeError("a Range is required");return this.set.some(q=>p(q,B)&&F.set.some(x=>p(x,B)&&q.every(H=>x.every(T=>H.intersects(T,B)))))}test(F){if(!F)return!1;if(typeof F=="string")try{F=new o(F,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if(G(this.set[B],F,this.options))return!0;return!1}}Ks=t;const r=Qv,n=new r,a=li,s=Ps(),i=bs,o=Ue,{safeRe:c,t:d,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:y}=un,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:v}=Es,_=A=>A.value==="<0.0.0-0",E=A=>A.value==="",p=(A,F)=>{let B=!0;const q=A.slice();let x=q.pop();for(;B&&q.length;)B=q.every(H=>x.intersects(H,F)),x=q.pop();return B},$=(A,F)=>(A=A.replace(c[d.BUILD],""),i("comp",A,F),A=L(A,F),i("caret",A),A=O(A,F),i("tildes",A),A=Q(A,F),i("xrange",A),A=se(A,F),i("stars",A),A),P=A=>!A||A.toLowerCase()==="x"||A==="*",O=(A,F)=>A.trim().split(/\s+/).map(B=>j(B,F)).join(" "),j=(A,F)=>{const B=F.loose?c[d.TILDELOOSE]:c[d.TILDE];return A.replace(B,(q,x,H,T,w)=>{i("tilde",A,q,x,H,T,w);let N;return P(x)?N="":P(H)?N=`>=${x}.0.0 <${+x+1}.0.0-0`:P(T)?N=`>=${x}.${H}.0 <${x}.${+H+1}.0-0`:w?(i("replaceTilde pr",w),N=`>=${x}.${H}.${T}-${w} <${x}.${+H+1}.0-0`):N=`>=${x}.${H}.${T} <${x}.${+H+1}.0-0`,i("tilde return",N),N})},L=(A,F)=>A.trim().split(/\s+/).map(B=>V(B,F)).join(" "),V=(A,F)=>{i("caret",A,F);const B=F.loose?c[d.CARETLOOSE]:c[d.CARET],q=F.includePrerelease?"-0":"";return A.replace(B,(x,H,T,w,N)=>{i("caret",A,x,H,T,w,N);let b;return P(H)?b="":P(T)?b=`>=${H}.0.0${q} <${+H+1}.0.0-0`:P(w)?H==="0"?b=`>=${H}.${T}.0${q} <${H}.${+T+1}.0-0`:b=`>=${H}.${T}.0${q} <${+H+1}.0.0-0`:N?(i("replaceCaret pr",N),H==="0"?T==="0"?b=`>=${H}.${T}.${w}-${N} <${H}.${T}.${+w+1}-0`:b=`>=${H}.${T}.${w}-${N} <${H}.${+T+1}.0-0`:b=`>=${H}.${T}.${w}-${N} <${+H+1}.0.0-0`):(i("no pr"),H==="0"?T==="0"?b=`>=${H}.${T}.${w}${q} <${H}.${T}.${+w+1}-0`:b=`>=${H}.${T}.${w}${q} <${H}.${+T+1}.0-0`:b=`>=${H}.${T}.${w} <${+H+1}.0.0-0`),i("caret return",b),b})},Q=(A,F)=>(i("replaceXRanges",A,F),A.split(/\s+/).map(B=>Z(B,F)).join(" ")),Z=(A,F)=>{A=A.trim();const B=F.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return A.replace(B,(q,x,H,T,w,N)=>{i("xRange",A,q,x,H,T,w,N);const b=P(H),l=b||P(T),h=l||P(w),R=h;return x==="="&&R&&(x=""),N=F.includePrerelease?"-0":"",b?x===">"||x==="<"?q="<0.0.0-0":q="*":x&&R?(l&&(T=0),w=0,x===">"?(x=">=",l?(H=+H+1,T=0,w=0):(T=+T+1,w=0)):x==="<="&&(x="<",l?H=+H+1:T=+T+1),x==="<"&&(N="-0"),q=`${x+H}.${T}.${w}${N}`):l?q=`>=${H}.0.0${N} <${+H+1}.0.0-0`:h&&(q=`>=${H}.${T}.0${N} <${H}.${+T+1}.0-0`),i("xRange return",q),q})},se=(A,F)=>(i("replaceStars",A,F),A.trim().replace(c[d.STAR],"")),z=(A,F)=>(i("replaceGTE0",A,F),A.trim().replace(c[F.includePrerelease?d.GTE0PRE:d.GTE0],"")),W=A=>(F,B,q,x,H,T,w,N,b,l,h,R)=>(P(q)?B="":P(x)?B=`>=${q}.0.0${A?"-0":""}`:P(H)?B=`>=${q}.${x}.0${A?"-0":""}`:T?B=`>=${B}`:B=`>=${B}${A?"-0":""}`,P(b)?N="":P(l)?N=`<${+b+1}.0.0-0`:P(h)?N=`<${b}.${+l+1}.0-0`:R?N=`<=${b}.${l}.${h}-${R}`:A?N=`<${b}.${l}.${+h+1}-0`:N=`<=${N}`,`${B} ${N}`.trim()),G=(A,F,B)=>{for(let q=0;q<A.length;q++)if(!A[q].test(F))return!1;if(F.prerelease.length&&!B.includePrerelease){for(let q=0;q<A.length;q++)if(i(A[q].semver),A[q].semver!==s.ANY&&A[q].semver.prerelease.length>0){const x=A[q].semver;if(x.major===F.major&&x.minor===F.minor&&x.patch===F.patch)return!0}return!1}return!0};return Ks}var Gs,Dc;function Ps(){if(Dc)return Gs;Dc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=r(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),i("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(u){const f=this.options.loose?n[a.COMPARATORLOOSE]:n[a.COMPARATOR],y=u.match(f);if(!y)throw new TypeError(`Invalid comparator: ${u}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new o(y[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(i("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Gs=t;const r=li,{safeRe:n,t:a}=un,s=bu,i=bs,o=Ue,c=yt();return Gs}const Zv=yt(),ew=(e,t,r)=>{try{t=new Zv(t,r)}catch{return!1}return t.test(e)};var Rs=ew;const tw=yt(),rw=(e,t)=>new tw(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var nw=rw;const sw=Ue,aw=yt(),ow=(e,t,r)=>{let n=null,a=null,s=null;try{s=new aw(t,r)}catch{return null}return e.forEach(i=>{s.test(i)&&(!n||a.compare(i)===-1)&&(n=i,a=new sw(n,r))}),n};var iw=ow;const cw=Ue,lw=yt(),uw=(e,t,r)=>{let n=null,a=null,s=null;try{s=new lw(t,r)}catch{return null}return e.forEach(i=>{s.test(i)&&(!n||a.compare(i)===1)&&(n=i,a=new cw(n,r))}),n};var dw=uw;const Hs=Ue,fw=yt(),Mc=Ss,hw=(e,t)=>{e=new fw(e,t);let r=new Hs("0.0.0");if(e.test(r)||(r=new Hs("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const a=e.set[n];let s=null;a.forEach(i=>{const o=new Hs(i.semver.version);switch(i.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||Mc(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),s&&(!r||Mc(r,s))&&(r=s)}return r&&e.test(r)?r:null};var mw=hw;const pw=yt(),yw=(e,t)=>{try{return new pw(e,t).range||"*"}catch{return null}};var $w=yw;const _w=Ue,Su=Ps(),{ANY:gw}=Su,vw=yt(),ww=Rs,Lc=Ss,Fc=di,Ew=hi,bw=fi,Sw=(e,t,r,n)=>{e=new _w(e,n),t=new vw(t,n);let a,s,i,o,c;switch(r){case">":a=Lc,s=Ew,i=Fc,o=">",c=">=";break;case"<":a=Fc,s=bw,i=Lc,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ww(e,t,n))return!1;for(let d=0;d<t.set.length;++d){const u=t.set[d];let f=null,y=null;if(u.forEach(m=>{m.semver===gw&&(m=new Su(">=0.0.0")),f=f||m,y=y||m,a(m.semver,f.semver,n)?f=m:i(m.semver,y.semver,n)&&(y=m)}),f.operator===o||f.operator===c||(!y.operator||y.operator===o)&&s(e,y.semver))return!1;if(y.operator===c&&i(e,y.semver))return!1}return!0};var mi=Sw;const Pw=mi,Rw=(e,t,r)=>Pw(e,t,">",r);var Nw=Rw;const Ow=mi,Iw=(e,t,r)=>Ow(e,t,"<",r);var Tw=Iw;const Vc=yt(),jw=(e,t,r)=>(e=new Vc(e,r),t=new Vc(t,r),e.intersects(t,r));var kw=jw;const Aw=Rs,Cw=pt;var Dw=(e,t,r)=>{const n=[];let a=null,s=null;const i=e.sort((u,f)=>Cw(u,f,r));for(const u of i)Aw(u,t,r)?(s=u,a||(a=u)):(s&&n.push([a,s]),s=null,a=null);a&&n.push([a,null]);const o=[];for(const[u,f]of n)u===f?o.push(u):!f&&u===i[0]?o.push("*"):f?u===i[0]?o.push(`<=${f}`):o.push(`${u} - ${f}`):o.push(`>=${u}`);const c=o.join(" || "),d=typeof t.raw=="string"?t.raw:String(t);return c.length<d.length?c:t};const zc=yt(),pi=Ps(),{ANY:Ws}=pi,Kr=Rs,yi=pt,Mw=(e,t,r={})=>{if(e===t)return!0;e=new zc(e,r),t=new zc(t,r);let n=!1;e:for(const a of e.set){for(const s of t.set){const i=Fw(a,s,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Lw=[new pi(">=0.0.0-0")],Uc=[new pi(">=0.0.0")],Fw=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Ws){if(t.length===1&&t[0].semver===Ws)return!0;r.includePrerelease?e=Lw:e=Uc}if(t.length===1&&t[0].semver===Ws){if(r.includePrerelease)return!0;t=Uc}const n=new Set;let a,s;for(const m of e)m.operator===">"||m.operator===">="?a=qc(a,m,r):m.operator==="<"||m.operator==="<="?s=Kc(s,m,r):n.add(m.semver);if(n.size>1)return null;let i;if(a&&s){if(i=yi(a.semver,s.semver,r),i>0)return null;if(i===0&&(a.operator!==">="||s.operator!=="<="))return null}for(const m of n){if(a&&!Kr(m,String(a),r)||s&&!Kr(m,String(s),r))return null;for(const v of t)if(!Kr(m,String(v),r))return!1;return!0}let o,c,d,u,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,y=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of t){if(u=u||m.operator===">"||m.operator===">=",d=d||m.operator==="<"||m.operator==="<=",a){if(y&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===y.major&&m.semver.minor===y.minor&&m.semver.patch===y.patch&&(y=!1),m.operator===">"||m.operator===">="){if(o=qc(a,m,r),o===m&&o!==a)return!1}else if(a.operator===">="&&!Kr(a.semver,String(m),r))return!1}if(s){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(c=Kc(s,m,r),c===m&&c!==s)return!1}else if(s.operator==="<="&&!Kr(s.semver,String(m),r))return!1}if(!m.operator&&(s||a)&&i!==0)return!1}return!(a&&d&&!s&&i!==0||s&&u&&!a&&i!==0||y||f)},qc=(e,t,r)=>{if(!e)return t;const n=yi(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Kc=(e,t,r)=>{if(!e)return t;const n=yi(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var Vw=Mw;const Bs=un,Gc=Es,zw=Ue,Hc=vu,Uw=Mr,qw=Y0,Kw=x0,Gw=Z0,Hw=tv,Ww=sv,Bw=iv,Yw=uv,Jw=hv,Xw=pt,xw=$v,Qw=vv,Zw=ui,eE=Sv,tE=Nv,rE=Ss,nE=di,sE=wu,aE=Eu,oE=fi,iE=hi,cE=bu,lE=Xv,uE=Ps(),dE=yt(),fE=Rs,hE=nw,mE=iw,pE=dw,yE=mw,$E=$w,_E=mi,gE=Nw,vE=Tw,wE=kw,EE=Dw,bE=Vw;var SE={parse:Uw,valid:qw,clean:Kw,inc:Gw,diff:Hw,major:Ww,minor:Bw,patch:Yw,prerelease:Jw,compare:Xw,rcompare:xw,compareLoose:Qw,compareBuild:Zw,sort:eE,rsort:tE,gt:rE,lt:nE,eq:sE,neq:aE,gte:oE,lte:iE,cmp:cE,coerce:lE,Comparator:uE,Range:dE,satisfies:fE,toComparators:hE,maxSatisfying:mE,minSatisfying:pE,minVersion:yE,validRange:$E,outside:_E,gtr:gE,ltr:vE,intersects:wE,simplifyRange:EE,subset:bE,SemVer:zw,re:Bs.re,src:Bs.src,tokens:Bs.t,SEMVER_SPEC_VERSION:Gc.SEMVER_SPEC_VERSION,RELEASE_TYPES:Gc.RELEASE_TYPES,compareIdentifiers:Hc.compareIdentifiers,rcompareIdentifiers:Hc.rcompareIdentifiers};const hr=cl(SE),PE=Object.prototype.toString,RE="[object Uint8Array]",NE="[object ArrayBuffer]";function Pu(e,t,r){return e?e.constructor===t?!0:PE.call(e)===r:!1}function Ru(e){return Pu(e,Uint8Array,RE)}function OE(e){return Pu(e,ArrayBuffer,NE)}function IE(e){return Ru(e)||OE(e)}function TE(e){if(!Ru(e))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function jE(e){if(!IE(e))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``)}function Ys(e,t){if(e.length===0)return new Uint8Array(0);t??(t=e.reduce((a,s)=>a+s.length,0));const r=new Uint8Array(t);let n=0;for(const a of e)TE(a),r.set(a,n),n+=a.length;return r}const Cn={utf8:new globalThis.TextDecoder("utf8")};function Dn(e,t="utf8"){return jE(e),Cn[t]??(Cn[t]=new globalThis.TextDecoder(t)),Cn[t].decode(e)}function kE(e){if(typeof e!="string")throw new TypeError(`Expected \`string\`, got \`${typeof e}\``)}const AE=new globalThis.TextEncoder;function Mn(e){return kE(e),AE.encode(e)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const Js="aes-256-cbc",Lt=()=>Object.create(null),Wc=e=>e!==void 0,Xs=(e,t)=>{const r=new Set(["undefined","symbol","function"]),n=typeof t;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${e}\` is not allowed as it's not supported by JSON`)},Vt="__internal__",xs=`${Vt}.migrations.version`;var Ut,lt,qe,Qe,sr,ar,Pr,gt,je,Nu,Ou,Iu,Tu,ju,ku,Au,Cu;class CE{constructor(t={}){$t(this,je);ee(this,"path");ee(this,"events");$t(this,Ut);$t(this,lt);$t(this,qe);$t(this,Qe,{});$t(this,sr,!1);$t(this,ar);$t(this,Pr);$t(this,gt);ee(this,"_deserialize",t=>JSON.parse(t));ee(this,"_serialize",t=>JSON.stringify(t,void 0,"	"));const r=wt(this,je,Nu).call(this,t);Ye(this,qe,r),wt(this,je,Ou).call(this,r),wt(this,je,Tu).call(this,r),wt(this,je,ju).call(this,r),this.events=new EventTarget,Ye(this,lt,r.encryptionKey),this.path=wt(this,je,ku).call(this,r),wt(this,je,Au).call(this,r),r.watch&&this._watch()}get(t,r){if(ae(this,qe).accessPropertiesByDotNotation)return this._get(t,r);const{store:n}=this;return t in n?n[t]:r}set(t,r){if(typeof t!="string"&&typeof t!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof t}`);if(typeof t!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(t))throw new TypeError(`Please don't use the ${Vt} key, as it's used to manage this module internal operations.`);const{store:n}=this,a=(s,i)=>{if(Xs(s,i),ae(this,qe).accessPropertiesByDotNotation)dn(n,s,i);else{if(s==="__proto__"||s==="constructor"||s==="prototype")return;n[s]=i}};if(typeof t=="object"){const s=t;for(const[i,o]of Object.entries(s))a(i,o)}else a(t,r);this.store=n}has(t){return ae(this,qe).accessPropertiesByDotNotation?js(this.store,t):t in this.store}appendToArray(t,r){Xs(t,r);const n=ae(this,qe).accessPropertiesByDotNotation?this._get(t,[]):t in this.store?this.store[t]:[];if(!Array.isArray(n))throw new TypeError(`The key \`${t}\` is already set to a non-array value`);this.set(t,[...n,r])}reset(...t){for(const r of t)Wc(ae(this,Qe)[r])&&this.set(r,ae(this,Qe)[r])}delete(t){const{store:r}=this;ae(this,qe).accessPropertiesByDotNotation?ed(r,t):delete r[t],this.store=r}clear(){const t=Lt();for(const r of Object.keys(ae(this,Qe)))Wc(ae(this,Qe)[r])&&(Xs(r,ae(this,Qe)[r]),ae(this,qe).accessPropertiesByDotNotation?dn(t,r,ae(this,Qe)[r]):t[r]=ae(this,Qe)[r]);this.store=t}onDidChange(t,r){if(typeof t!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof t}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleValueChange(()=>this.get(t),r)}onDidAnyChange(t){if(typeof t!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`);return this._handleStoreChange(t)}get size(){return Object.keys(this.store).filter(r=>!this._isReservedKeyPath(r)).length}get store(){var t;try{const r=re.readFileSync(this.path,ae(this,lt)?null:"utf8"),n=this._decryptData(r),a=this._deserialize(n);return ae(this,sr)||this._validate(a),Object.assign(Lt(),a)}catch(r){if((r==null?void 0:r.code)==="ENOENT")return this._ensureDirectory(),Lt();if(ae(this,qe).clearInvalidConfig){const n=r;if(n.name==="SyntaxError"||(t=n.message)!=null&&t.startsWith("Config schema violation:"))return Lt()}throw r}}set store(t){if(this._ensureDirectory(),!js(t,Vt))try{const r=re.readFileSync(this.path,ae(this,lt)?null:"utf8"),n=this._decryptData(r),a=this._deserialize(n);js(a,Vt)&&dn(t,Vt,vi(a,Vt))}catch{}ae(this,sr)||this._validate(t),this._write(t),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[t,r]of Object.entries(this.store))this._isReservedKeyPath(t)||(yield[t,r])}_closeWatcher(){ae(this,ar)&&(ae(this,ar).close(),Ye(this,ar,void 0)),ae(this,Pr)&&(re.unwatchFile(this.path),Ye(this,Pr,!1)),Ye(this,gt,void 0)}_decryptData(t){if(!ae(this,lt))return typeof t=="string"?t:Dn(t);try{const r=t.slice(0,16),n=Yt.pbkdf2Sync(ae(this,lt),r,1e4,32,"sha512"),a=Yt.createDecipheriv(Js,n,r),s=t.slice(17),i=typeof s=="string"?Mn(s):s;return Dn(Ys([a.update(i),a.final()]))}catch{try{const r=t.slice(0,16),n=Yt.pbkdf2Sync(ae(this,lt),r.toString(),1e4,32,"sha512"),a=Yt.createDecipheriv(Js,n,r),s=t.slice(17),i=typeof s=="string"?Mn(s):s;return Dn(Ys([a.update(i),a.final()]))}catch{}}return typeof t=="string"?t:Dn(t)}_handleStoreChange(t){let r=this.store;const n=()=>{const a=r,s=this.store;Te.isDeepStrictEqual(s,a)||(r=s,t.call(this,s,a))};return this.events.addEventListener("change",n),()=>{this.events.removeEventListener("change",n)}}_handleValueChange(t,r){let n=t();const a=()=>{const s=n,i=t();Te.isDeepStrictEqual(i,s)||(n=i,r.call(this,i,s))};return this.events.addEventListener("change",a),()=>{this.events.removeEventListener("change",a)}}_validate(t){if(!ae(this,Ut)||ae(this,Ut).call(this,t)||!ae(this,Ut).errors)return;const n=ae(this,Ut).errors.map(({instancePath:a,message:s=""})=>`\`${a.slice(1)}\` ${s}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){re.mkdirSync(ue.dirname(this.path),{recursive:!0})}_write(t){let r=this._serialize(t);if(ae(this,lt)){const n=Yt.randomBytes(16),a=Yt.pbkdf2Sync(ae(this,lt),n,1e4,32,"sha512"),s=Yt.createCipheriv(Js,a,n);r=Ys([n,Mn(":"),s.update(Mn(r)),s.final()])}if(Ee.env.SNAP)re.writeFileSync(this.path,r,{mode:ae(this,qe).configFileMode});else try{il(this.path,r,{mode:ae(this,qe).configFileMode})}catch(n){if((n==null?void 0:n.code)==="EXDEV"){re.writeFileSync(this.path,r,{mode:ae(this,qe).configFileMode});return}throw n}}_watch(){if(this._ensureDirectory(),re.existsSync(this.path)||this._write(Lt()),Ee.platform==="win32"||Ee.platform==="darwin"){ae(this,gt)??Ye(this,gt,Rc(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100}));const t=ue.dirname(this.path),r=ue.basename(this.path);Ye(this,ar,re.watch(t,{persistent:!1,encoding:"utf8"},(n,a)=>{a&&a!==r||typeof ae(this,gt)=="function"&&ae(this,gt).call(this)}))}else ae(this,gt)??Ye(this,gt,Rc(()=>{this.events.dispatchEvent(new Event("change"))},{wait:1e3})),re.watchFile(this.path,{persistent:!1},(t,r)=>{typeof ae(this,gt)=="function"&&ae(this,gt).call(this)}),Ye(this,Pr,!0)}_migrate(t,r,n){let a=this._get(xs,"0.0.0");const s=Object.keys(t).filter(o=>this._shouldPerformMigration(o,a,r));let i=structuredClone(this.store);for(const o of s)try{n&&n(this,{fromVersion:a,toVersion:o,finalVersion:r,versions:s});const c=t[o];c==null||c(this),this._set(xs,o),a=o,i=structuredClone(this.store)}catch(c){this.store=i;try{this._write(i)}catch{}const d=c instanceof Error?c.message:String(c);throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${d}`)}(this._isVersionInRangeFormat(a)||!hr.eq(a,r))&&this._set(xs,r)}_containsReservedKey(t){return typeof t=="string"?this._isReservedKeyPath(t):!t||typeof t!="object"?!1:this._objectContainsReservedKey(t)}_objectContainsReservedKey(t){if(!t||typeof t!="object")return!1;for(const[r,n]of Object.entries(t))if(this._isReservedKeyPath(r)||this._objectContainsReservedKey(n))return!0;return!1}_isReservedKeyPath(t){return t===Vt||t.startsWith(`${Vt}.`)}_isVersionInRangeFormat(t){return hr.clean(t)===null}_shouldPerformMigration(t,r,n){return this._isVersionInRangeFormat(t)?r!=="0.0.0"&&hr.satisfies(r,t)?!1:hr.satisfies(n,t):!(hr.lte(t,r)||hr.gt(t,n))}_get(t,r){return vi(this.store,t,r)}_set(t,r){const{store:n}=this;dn(n,t,r),this.store=n}}Ut=new WeakMap,lt=new WeakMap,qe=new WeakMap,Qe=new WeakMap,sr=new WeakMap,ar=new WeakMap,Pr=new WeakMap,gt=new WeakMap,je=new WeakSet,Nu=function(t){const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...t};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=sd(r.projectName,{suffix:r.projectSuffix}).config}return typeof r.fileExtension=="string"&&(r.fileExtension=r.fileExtension.replace(/^\.+/,"")),r},Ou=function(t){if(!(t.schema??t.ajvOptions??t.rootSchema))return;if(t.schema&&typeof t.schema!="object")throw new TypeError("The `schema` option must be an object.");const r=S0.default,n=new l$.Ajv2020({allErrors:!0,useDefaults:!0,...t.ajvOptions});r(n);const a={...t.rootSchema,type:"object",properties:t.schema};Ye(this,Ut,n.compile(a)),wt(this,je,Iu).call(this,t.schema)},Iu=function(t){const r=Object.entries(t??{});for(const[n,a]of r){if(!a||typeof a!="object"||!Object.hasOwn(a,"default"))continue;const{default:s}=a;s!==void 0&&(ae(this,Qe)[n]=s)}},Tu=function(t){t.defaults&&Object.assign(ae(this,Qe),t.defaults)},ju=function(t){t.serialize&&(this._serialize=t.serialize),t.deserialize&&(this._deserialize=t.deserialize)},ku=function(t){const r=typeof t.fileExtension=="string"?t.fileExtension:void 0,n=r?`.${r}`:"";return ue.resolve(t.cwd,`${t.configName??"config"}${n}`)},Au=function(t){if(t.migrations){wt(this,je,Cu).call(this,t),this._validate(this.store);return}const r=this.store,n=Object.assign(Lt(),t.defaults??{},r);this._validate(n);try{gi.deepEqual(r,n)}catch{this.store=n}},Cu=function(t){const{migrations:r,projectVersion:n}=t;if(r){if(!n)throw new Error("Please specify the `projectVersion` option.");Ye(this,sr,!0);try{const a=this.store,s=Object.assign(Lt(),t.defaults??{},a);try{gi.deepEqual(a,s)}catch{this._write(s)}this._migrate(r,n,t.beforeEachMigration)}finally{Ye(this,sr,!1)}}};const{app:Wn,ipcMain:wa,shell:DE}=ne;let Bc=!1;const Yc=()=>{if(!wa||!Wn)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Wn.getPath("userData"),appVersion:Wn.getVersion()};return Bc||(wa.on("electron-store-get-data",t=>{t.returnValue=e}),Bc=!0),e};class Du extends CE{constructor(t){let r,n;if(Ee.type==="renderer"){const a=ne.ipcRenderer.sendSync("electron-store-get-data");if(!a)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=a)}else wa&&Wn&&({defaultCwd:r,appVersion:n}=Yc());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=ue.isAbsolute(t.cwd)?t.cwd:ue.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Yc()}async openInEditor(){const t=await DE.openPath(this.path);if(t)throw new Error(t)}}const xe={FILE_TYPE:"files",DIR_TYPE:"directories",FILE_DIR_TYPE:"files_directories",EVERYTHING_TYPE:"all"},Ea={root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:xe.FILE_TYPE,lstat:!1,depth:2147483648,alwaysStat:!1,highWaterMark:4096};Object.freeze(Ea);const Mu="READDIRP_RECURSIVE_ERROR",ME=new Set(["ENOENT","EPERM","EACCES","ELOOP",Mu]),Jc=[xe.DIR_TYPE,xe.EVERYTHING_TYPE,xe.FILE_DIR_TYPE,xe.FILE_TYPE],LE=new Set([xe.DIR_TYPE,xe.EVERYTHING_TYPE,xe.FILE_DIR_TYPE]),FE=new Set([xe.EVERYTHING_TYPE,xe.FILE_DIR_TYPE,xe.FILE_TYPE]),VE=e=>ME.has(e.code),zE=process.platform==="win32",Xc=e=>!0,xc=e=>{if(e===void 0)return Xc;if(typeof e=="function")return e;if(typeof e=="string"){const t=e.trim();return r=>r.basename===t}if(Array.isArray(e)){const t=e.map(r=>r.trim());return r=>t.some(n=>r.basename===n)}return Xc};class UE extends Xu.Readable{constructor(r={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:r.highWaterMark});ee(this,"parents");ee(this,"reading");ee(this,"parent");ee(this,"_stat");ee(this,"_maxDepth");ee(this,"_wantsDir");ee(this,"_wantsFile");ee(this,"_wantsEverything");ee(this,"_root");ee(this,"_isDirent");ee(this,"_statsProp");ee(this,"_rdOptions");ee(this,"_fileFilter");ee(this,"_directoryFilter");const n={...Ea,...r},{root:a,type:s}=n;this._fileFilter=xc(n.fileFilter),this._directoryFilter=xc(n.directoryFilter);const i=n.lstat?He.lstat:He.stat;zE?this._stat=o=>i(o,{bigint:!0}):this._stat=i,this._maxDepth=n.depth!=null&&Number.isSafeInteger(n.depth)?n.depth:Ea.depth,this._wantsDir=s?LE.has(s):!1,this._wantsFile=s?FE.has(s):!1,this._wantsEverything=s===xe.EVERYTHING_TYPE,this._root=ue.resolve(a),this._isDirent=!n.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(a,1)],this.reading=!1,this.parent=void 0}async _read(r){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&r>0;){const n=this.parent,a=n&&n.files;if(a&&a.length>0){const{path:s,depth:i}=n,o=a.splice(0,r).map(d=>this._formatEntry(d,s)),c=await Promise.all(o);for(const d of c){if(!d)continue;if(this.destroyed)return;const u=await this._getEntryType(d);u==="directory"&&this._directoryFilter(d)?(i<=this._maxDepth&&this.parents.push(this._exploreDir(d.fullPath,i+1)),this._wantsDir&&(this.push(d),r--)):(u==="file"||this._includeAsFile(d))&&this._fileFilter(d)&&this._wantsFile&&(this.push(d),r--)}}else{const s=this.parents.pop();if(!s){this.push(null);break}if(this.parent=await s,this.destroyed)return}}}catch(n){this.destroy(n)}finally{this.reading=!1}}}async _exploreDir(r,n){let a;try{a=await He.readdir(r,this._rdOptions)}catch(s){this._onError(s)}return{files:a,depth:n,path:r}}async _formatEntry(r,n){let a;const s=this._isDirent?r.name:r;try{const i=ue.resolve(ue.join(n,s));a={path:ue.relative(this._root,i),fullPath:i,basename:s},a[this._statsProp]=this._isDirent?r:await this._stat(i)}catch(i){this._onError(i);return}return a}_onError(r){VE(r)&&!this.destroyed?this.emit("warn",r):this.destroy(r)}async _getEntryType(r){if(!r&&this._statsProp in r)return"";const n=r[this._statsProp];if(n.isFile())return"file";if(n.isDirectory())return"directory";if(n&&n.isSymbolicLink()){const a=r.fullPath;try{const s=await He.realpath(a),i=await He.lstat(s);if(i.isFile())return"file";if(i.isDirectory()){const o=s.length;if(a.startsWith(s)&&a.substr(o,1)===ue.sep){const c=new Error(`Circular symlink detected: "${a}" points to "${s}"`);return c.code=Mu,this._onError(c)}return"directory"}}catch(s){return this._onError(s),""}}}_includeAsFile(r){const n=r&&r[this._statsProp];return n&&this._wantsEverything&&!n.isDirectory()}}function qE(e,t={}){let r=t.entryType||t.type;if(r==="both"&&(r=xe.FILE_DIR_TYPE),r&&(t.type=r),e){if(typeof e!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!Jc.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${Jc.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return t.root=e,new UE(t)}const KE="data",Lu="end",GE="close",$i=()=>{},Ns=process.platform,Fu=Ns==="win32",HE=Ns==="darwin",WE=Ns==="linux",BE=Ns==="freebsd",YE=Sa.type()==="OS400",Pe={ALL:"all",READY:"ready",ADD:"add",CHANGE:"change",ADD_DIR:"addDir",UNLINK:"unlink",UNLINK_DIR:"unlinkDir",RAW:"raw",ERROR:"error"},ct=Pe,JE="watch",XE={lstat:He.lstat,stat:He.stat},or="listeners",Bn="errHandlers",Sr="rawEmitters",xE=[or,Bn,Sr],QE=new Set(["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]),ZE=e=>QE.has(te.extname(e).slice(1).toLowerCase()),ba=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},tn=(e,t,r)=>{let n=e[t];n instanceof Set||(e[t]=n=new Set([n])),n.add(r)},eb=e=>t=>{const r=e[t];r instanceof Set?r.clear():delete e[t]},rn=(e,t,r)=>{const n=e[t];n instanceof Set?n.delete(r):n===r&&delete e[t]},Vu=e=>e instanceof Set?e.size===0:!e,Yn=new Map;function Qc(e,t,r,n,a){const s=(i,o)=>{r(e),a(i,o,{watchedPath:e}),o&&e!==o&&Jn(te.resolve(e,o),or,te.join(e,o))};try{return re.watch(e,{persistent:t.persistent},s)}catch(i){n(i);return}}const Jn=(e,t,r,n,a)=>{const s=Yn.get(e);s&&ba(s[t],i=>{i(r,n,a)})},tb=(e,t,r,n)=>{const{listener:a,errHandler:s,rawEmitter:i}=n;let o=Yn.get(t),c;if(!r.persistent)return c=Qc(e,r,a,s,i),c?c.close.bind(c):void 0;if(o)tn(o,or,a),tn(o,Bn,s),tn(o,Sr,i);else{if(c=Qc(e,r,Jn.bind(null,t,or),s,Jn.bind(null,t,Sr)),!c)return;c.on(ct.ERROR,async d=>{const u=Jn.bind(null,t,Bn);if(o&&(o.watcherUnusable=!0),Fu&&d.code==="EPERM")try{await(await He.open(e,"r")).close(),u(d)}catch{}else u(d)}),o={listeners:a,errHandlers:s,rawEmitters:i,watcher:c},Yn.set(t,o)}return()=>{rn(o,or,a),rn(o,Bn,s),rn(o,Sr,i),Vu(o.listeners)&&(o.watcher.close(),Yn.delete(t),xE.forEach(eb(o)),o.watcher=void 0,Object.freeze(o))}},Qs=new Map,rb=(e,t,r,n)=>{const{listener:a,rawEmitter:s}=n;let i=Qs.get(t);const o=i&&i.options;return o&&(o.persistent<r.persistent||o.interval>r.interval)&&(re.unwatchFile(t),i=void 0),i?(tn(i,or,a),tn(i,Sr,s)):(i={listeners:a,rawEmitters:s,options:r,watcher:re.watchFile(t,r,(c,d)=>{ba(i.rawEmitters,f=>{f(ct.CHANGE,t,{curr:c,prev:d})});const u=c.mtimeMs;(c.size!==d.size||u>d.mtimeMs||u===0)&&ba(i.listeners,f=>f(e,c))})},Qs.set(t,i)),()=>{rn(i,or,a),rn(i,Sr,s),Vu(i.listeners)&&(Qs.delete(t),re.unwatchFile(t),i.options=i.watcher=void 0,Object.freeze(i))}};class nb{constructor(t){ee(this,"fsw");ee(this,"_boundHandleError");this.fsw=t,this._boundHandleError=r=>t._handleError(r)}_watchWithNodeFs(t,r){const n=this.fsw.options,a=te.dirname(t),s=te.basename(t);this.fsw._getWatchedDir(a).add(s);const o=te.resolve(t),c={persistent:n.persistent};r||(r=$i);let d;if(n.usePolling){const u=n.interval!==n.binaryInterval;c.interval=u&&ZE(s)?n.binaryInterval:n.interval,d=rb(t,o,c,{listener:r,rawEmitter:this.fsw._emitRaw})}else d=tb(t,o,c,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw});return d}_handleFile(t,r,n){if(this.fsw.closed)return;const a=te.dirname(t),s=te.basename(t),i=this.fsw._getWatchedDir(a);let o=r;if(i.has(s))return;const c=async(u,f)=>{if(this.fsw._throttle(JE,t,5)){if(!f||f.mtimeMs===0)try{const y=await He.stat(t);if(this.fsw.closed)return;const m=y.atimeMs,v=y.mtimeMs;if((!m||m<=v||v!==o.mtimeMs)&&this.fsw._emit(ct.CHANGE,t,y),(HE||WE||BE)&&o.ino!==y.ino){this.fsw._closeFile(u),o=y;const _=this._watchWithNodeFs(t,c);_&&this.fsw._addPathCloser(u,_)}else o=y}catch{this.fsw._remove(a,s)}else if(i.has(s)){const y=f.atimeMs,m=f.mtimeMs;(!y||y<=m||m!==o.mtimeMs)&&this.fsw._emit(ct.CHANGE,t,f),o=f}}},d=this._watchWithNodeFs(t,c);if(!(n&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle(ct.ADD,t,0))return;this.fsw._emit(ct.ADD,t,r)}return d}async _handleSymlink(t,r,n,a){if(this.fsw.closed)return;const s=t.fullPath,i=this.fsw._getWatchedDir(r);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let o;try{o=await He.realpath(n)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(i.has(a)?this.fsw._symlinkPaths.get(s)!==o&&(this.fsw._symlinkPaths.set(s,o),this.fsw._emit(ct.CHANGE,n,t.stats)):(i.add(a),this.fsw._symlinkPaths.set(s,o),this.fsw._emit(ct.ADD,n,t.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(s))return!0;this.fsw._symlinkPaths.set(s,!0)}_handleRead(t,r,n,a,s,i,o){t=te.join(t,"");const c=a?`${t}:${a}`:t;if(o=this.fsw._throttle("readdir",c,1e3),!o)return;const d=this.fsw._getWatchedDir(n.path),u=new Set;let f=this.fsw._readdirp(t,{fileFilter:y=>n.filterPath(y),directoryFilter:y=>n.filterDir(y)});if(f)return f.on(KE,async y=>{if(this.fsw.closed){f=void 0;return}const m=y.path;let v=te.join(t,m);if(u.add(m),!(y.stats.isSymbolicLink()&&await this._handleSymlink(y,t,v,m))){if(this.fsw.closed){f=void 0;return}(m===a||!a&&!d.has(m))&&(this.fsw._incrReadyCount(),v=te.join(s,te.relative(s,v)),this._addToNodeFs(v,r,n,i+1))}}).on(ct.ERROR,this._boundHandleError),new Promise((y,m)=>{if(!f)return m();f.once(Lu,()=>{if(this.fsw.closed){f=void 0;return}const v=o?o.clear():!1;y(void 0),d.getChildren().filter(_=>_!==t&&!u.has(_)).forEach(_=>{this.fsw._remove(t,_)}),f=void 0,v&&this._handleRead(t,!1,n,a,s,i,o)})})}async _handleDir(t,r,n,a,s,i,o){const c=this.fsw._getWatchedDir(te.dirname(t)),d=c.has(te.basename(t));!(n&&this.fsw.options.ignoreInitial)&&!s&&!d&&this.fsw._emit(ct.ADD_DIR,t,r),c.add(te.basename(t)),this.fsw._getWatchedDir(t);let u,f;const y=this.fsw.options.depth;if((y==null||a<=y)&&!this.fsw._symlinkPaths.has(o)){if(!s&&(await this._handleRead(t,n,i,s,t,a,u),this.fsw.closed))return;f=this._watchWithNodeFs(t,(m,v)=>{v&&v.mtimeMs===0||this._handleRead(m,!1,i,s,t,a,u)})}return f}async _addToNodeFs(t,r,n,a,s){const i=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return i(),!1;const o=this.fsw._getWatchHelpers(t);n&&(o.filterPath=c=>n.filterPath(c),o.filterDir=c=>n.filterDir(c));try{const c=await XE[o.statMethod](o.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(o.watchPath,c))return i(),!1;const d=this.fsw.options.followSymlinks;let u;if(c.isDirectory()){const f=te.resolve(t),y=d?await He.realpath(t):t;if(this.fsw.closed||(u=await this._handleDir(o.watchPath,c,r,a,s,o,y),this.fsw.closed))return;f!==y&&y!==void 0&&this.fsw._symlinkPaths.set(f,y)}else if(c.isSymbolicLink()){const f=d?await He.realpath(t):t;if(this.fsw.closed)return;const y=te.dirname(o.watchPath);if(this.fsw._getWatchedDir(y).add(o.watchPath),this.fsw._emit(ct.ADD,o.watchPath,c),u=await this._handleDir(y,c,r,a,t,o,f),this.fsw.closed)return;f!==void 0&&this.fsw._symlinkPaths.set(te.resolve(t),f)}else u=this._handleFile(o.watchPath,c,r);return i(),u&&this.fsw._addPathCloser(t,u),!1}catch(c){if(this.fsw._handleError(c))return i(),t}}}/*! chokidar - MIT License (c) 2012 Paul Miller (paulmillr.com) */const Zs="/",sb="//",zu=".",ab="..",ob="string",ib=/\\/g,Uu=/\/\//g,cb=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,lb=/^\.[/\\]/;function os(e){return Array.isArray(e)?e:[e]}const ea=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp);function ub(e){return typeof e=="function"?e:typeof e=="string"?t=>e===t:e instanceof RegExp?t=>e.test(t):typeof e=="object"&&e!==null?t=>{if(e.path===t)return!0;if(e.recursive){const r=te.relative(e.path,t);return r?!r.startsWith("..")&&!te.isAbsolute(r):!1}return!1}:()=>!1}function db(e){if(typeof e!="string")throw new Error("string expected");e=te.normalize(e),e=e.replace(/\\/g,"/");let t=!1;return e.startsWith("//")&&(t=!0),e=e.replace(Uu,"/"),t&&(e="/"+e),e}function fb(e,t,r){const n=db(t);for(let a=0;a<e.length;a++){const s=e[a];if(s(n,r))return!0}return!1}function hb(e,t){if(e==null)throw new TypeError("anymatch: specify first argument");const n=os(e).map(a=>ub(a));return(a,s)=>fb(n,a,s)}const Zc=e=>{const t=os(e).flat();if(!t.every(r=>typeof r===ob))throw new TypeError(`Non-string provided as watch path: ${t}`);return t.map(qu)},el=e=>{let t=e.replace(ib,Zs),r=!1;return t.startsWith(sb)&&(r=!0),t=t.replace(Uu,Zs),r&&(t=Zs+t),t},qu=e=>el(te.normalize(el(e))),tl=(e="")=>t=>typeof t=="string"?qu(te.isAbsolute(t)?t:te.join(e,t)):t,mb=(e,t)=>te.isAbsolute(e)?e:te.join(t,e),pb=Object.freeze(new Set);class yb{constructor(t,r){ee(this,"path");ee(this,"_removeWatcher");ee(this,"items");this.path=t,this._removeWatcher=r,this.items=new Set}add(t){const{items:r}=this;r&&t!==zu&&t!==ab&&r.add(t)}async remove(t){const{items:r}=this;if(!r||(r.delete(t),r.size>0))return;const n=this.path;try{await He.readdir(n)}catch{this._removeWatcher&&this._removeWatcher(te.dirname(n),te.basename(n))}}has(t){const{items:r}=this;if(r)return r.has(t)}getChildren(){const{items:t}=this;return t?[...t.values()]:[]}dispose(){this.items.clear(),this.path="",this._removeWatcher=$i,this.items=pb,Object.freeze(this)}}const $b="stat",_b="lstat";class gb{constructor(t,r,n){ee(this,"fsw");ee(this,"path");ee(this,"watchPath");ee(this,"fullWatchPath");ee(this,"dirParts");ee(this,"followSymlinks");ee(this,"statMethod");this.fsw=n;const a=t;this.path=t=t.replace(lb,""),this.watchPath=a,this.fullWatchPath=te.resolve(a),this.dirParts=[],this.dirParts.forEach(s=>{s.length>1&&s.pop()}),this.followSymlinks=r,this.statMethod=r?$b:_b}entryPath(t){return te.join(this.watchPath,te.relative(this.watchPath,t.fullPath))}filterPath(t){const{stats:r}=t;if(r&&r.isSymbolicLink())return this.filterDir(t);const n=this.entryPath(t);return this.fsw._isntIgnored(n,r)&&this.fsw._hasReadPermissions(r)}filterDir(t){return this.fsw._isntIgnored(this.entryPath(t),t.stats)}}class vb extends Ju.EventEmitter{constructor(r={}){super();ee(this,"closed");ee(this,"options");ee(this,"_closers");ee(this,"_ignoredPaths");ee(this,"_throttled");ee(this,"_streams");ee(this,"_symlinkPaths");ee(this,"_watched");ee(this,"_pendingWrites");ee(this,"_pendingUnlinks");ee(this,"_readyCount");ee(this,"_emitReady");ee(this,"_closePromise");ee(this,"_userIgnored");ee(this,"_readyEmitted");ee(this,"_emitRaw");ee(this,"_boundRemove");ee(this,"_nodeFsHandler");this.closed=!1,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._streams=new Set,this._symlinkPaths=new Map,this._watched=new Map,this._pendingWrites=new Map,this._pendingUnlinks=new Map,this._readyCount=0,this._readyEmitted=!1;const n=r.awaitWriteFinish,a={stabilityThreshold:2e3,pollInterval:100},s={persistent:!0,ignoreInitial:!1,ignorePermissionErrors:!1,interval:100,binaryInterval:300,followSymlinks:!0,usePolling:!1,atomic:!0,...r,ignored:r.ignored?os(r.ignored):os([]),awaitWriteFinish:n===!0?a:typeof n=="object"?{...a,...n}:!1};YE&&(s.usePolling=!0),s.atomic===void 0&&(s.atomic=!s.usePolling);const i=process.env.CHOKIDAR_USEPOLLING;if(i!==void 0){const d=i.toLowerCase();d==="false"||d==="0"?s.usePolling=!1:d==="true"||d==="1"?s.usePolling=!0:s.usePolling=!!d}const o=process.env.CHOKIDAR_INTERVAL;o&&(s.interval=Number.parseInt(o,10));let c=0;this._emitReady=()=>{c++,c>=this._readyCount&&(this._emitReady=$i,this._readyEmitted=!0,process.nextTick(()=>this.emit(Pe.READY)))},this._emitRaw=(...d)=>this.emit(Pe.RAW,...d),this._boundRemove=this._remove.bind(this),this.options=s,this._nodeFsHandler=new nb(this),Object.freeze(s)}_addIgnoredPath(r){if(ea(r)){for(const n of this._ignoredPaths)if(ea(n)&&n.path===r.path&&n.recursive===r.recursive)return}this._ignoredPaths.add(r)}_removeIgnoredPath(r){if(this._ignoredPaths.delete(r),typeof r=="string")for(const n of this._ignoredPaths)ea(n)&&n.path===r&&this._ignoredPaths.delete(n)}add(r,n,a){const{cwd:s}=this.options;this.closed=!1,this._closePromise=void 0;let i=Zc(r);return s&&(i=i.map(o=>mb(o,s))),i.forEach(o=>{this._removeIgnoredPath(o)}),this._userIgnored=void 0,this._readyCount||(this._readyCount=0),this._readyCount+=i.length,Promise.all(i.map(async o=>{const c=await this._nodeFsHandler._addToNodeFs(o,!a,void 0,0,n);return c&&this._emitReady(),c})).then(o=>{this.closed||o.forEach(c=>{c&&this.add(te.dirname(c),te.basename(n||c))})}),this}unwatch(r){if(this.closed)return this;const n=Zc(r),{cwd:a}=this.options;return n.forEach(s=>{!te.isAbsolute(s)&&!this._closers.has(s)&&(a&&(s=te.join(a,s)),s=te.resolve(s)),this._closePath(s),this._addIgnoredPath(s),this._watched.has(s)&&this._addIgnoredPath({path:s,recursive:!0}),this._userIgnored=void 0}),this}close(){if(this._closePromise)return this._closePromise;this.closed=!0,this.removeAllListeners();const r=[];return this._closers.forEach(n=>n.forEach(a=>{const s=a();s instanceof Promise&&r.push(s)})),this._streams.forEach(n=>n.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(n=>n.dispose()),this._closers.clear(),this._watched.clear(),this._streams.clear(),this._symlinkPaths.clear(),this._throttled.clear(),this._closePromise=r.length?Promise.all(r).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const r={};return this._watched.forEach((n,a)=>{const i=(this.options.cwd?te.relative(this.options.cwd,a):a)||zu;r[i]=n.getChildren().sort()}),r}emitWithAll(r,n){this.emit(r,...n),r!==Pe.ERROR&&this.emit(Pe.ALL,r,...n)}async _emit(r,n,a){if(this.closed)return;const s=this.options;Fu&&(n=te.normalize(n)),s.cwd&&(n=te.relative(s.cwd,n));const i=[n];a!=null&&i.push(a);const o=s.awaitWriteFinish;let c;if(o&&(c=this._pendingWrites.get(n)))return c.lastChange=new Date,this;if(s.atomic){if(r===Pe.UNLINK)return this._pendingUnlinks.set(n,[r,...i]),setTimeout(()=>{this._pendingUnlinks.forEach((d,u)=>{this.emit(...d),this.emit(Pe.ALL,...d),this._pendingUnlinks.delete(u)})},typeof s.atomic=="number"?s.atomic:100),this;r===Pe.ADD&&this._pendingUnlinks.has(n)&&(r=Pe.CHANGE,this._pendingUnlinks.delete(n))}if(o&&(r===Pe.ADD||r===Pe.CHANGE)&&this._readyEmitted){const d=(u,f)=>{u?(r=Pe.ERROR,i[0]=u,this.emitWithAll(r,i)):f&&(i.length>1?i[1]=f:i.push(f),this.emitWithAll(r,i))};return this._awaitWriteFinish(n,o.stabilityThreshold,r,d),this}if(r===Pe.CHANGE&&!this._throttle(Pe.CHANGE,n,50))return this;if(s.alwaysStat&&a===void 0&&(r===Pe.ADD||r===Pe.ADD_DIR||r===Pe.CHANGE)){const d=s.cwd?te.join(s.cwd,n):n;let u;try{u=await He.stat(d)}catch{}if(!u||this.closed)return;i.push(u)}return this.emitWithAll(r,i),this}_handleError(r){const n=r&&r.code;return r&&n!=="ENOENT"&&n!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||n!=="EPERM"&&n!=="EACCES")&&this.emit(Pe.ERROR,r),r||this.closed}_throttle(r,n,a){this._throttled.has(r)||this._throttled.set(r,new Map);const s=this._throttled.get(r);if(!s)throw new Error("invalid throttle");const i=s.get(n);if(i)return i.count++,!1;let o;const c=()=>{const u=s.get(n),f=u?u.count:0;return s.delete(n),clearTimeout(o),u&&clearTimeout(u.timeoutObject),f};o=setTimeout(c,a);const d={timeoutObject:o,clear:c,count:0};return s.set(n,d),d}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(r,n,a,s){const i=this.options.awaitWriteFinish;if(typeof i!="object")return;const o=i.pollInterval;let c,d=r;this.options.cwd&&!te.isAbsolute(r)&&(d=te.join(this.options.cwd,r));const u=new Date,f=this._pendingWrites;function y(m){re.stat(d,(v,_)=>{if(v||!f.has(r)){v&&v.code!=="ENOENT"&&s(v);return}const E=Number(new Date);m&&_.size!==m.size&&(f.get(r).lastChange=E);const p=f.get(r);E-p.lastChange>=n?(f.delete(r),s(void 0,_)):c=setTimeout(y,o,_)})}f.has(r)||(f.set(r,{lastChange:u,cancelWait:()=>(f.delete(r),clearTimeout(c),a)}),c=setTimeout(y,o))}_isIgnored(r,n){if(this.options.atomic&&cb.test(r))return!0;if(!this._userIgnored){const{cwd:a}=this.options,i=(this.options.ignored||[]).map(tl(a)),c=[...[...this._ignoredPaths].map(tl(a)),...i];this._userIgnored=hb(c)}return this._userIgnored(r,n)}_isntIgnored(r,n){return!this._isIgnored(r,n)}_getWatchHelpers(r){return new gb(r,this.options.followSymlinks,this)}_getWatchedDir(r){const n=te.resolve(r);return this._watched.has(n)||this._watched.set(n,new yb(n,this._boundRemove)),this._watched.get(n)}_hasReadPermissions(r){return this.options.ignorePermissionErrors?!0:!!(Number(r.mode)&256)}_remove(r,n,a){const s=te.join(r,n),i=te.resolve(s);if(a=a??(this._watched.has(s)||this._watched.has(i)),!this._throttle("remove",s,100))return;!a&&this._watched.size===1&&this.add(r,n,!0),this._getWatchedDir(s).getChildren().forEach(m=>this._remove(s,m));const d=this._getWatchedDir(r),u=d.has(n);d.remove(n),this._symlinkPaths.has(i)&&this._symlinkPaths.delete(i);let f=s;if(this.options.cwd&&(f=te.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(f)&&this._pendingWrites.get(f).cancelWait()===Pe.ADD)return;this._watched.delete(s),this._watched.delete(i);const y=a?Pe.UNLINK_DIR:Pe.UNLINK;u&&!this._isIgnored(s)&&this._emit(y,s),this._closePath(s)}_closePath(r){this._closeFile(r);const n=te.dirname(r);this._getWatchedDir(n).remove(te.basename(r))}_closeFile(r){const n=this._closers.get(r);n&&(n.forEach(a=>a()),this._closers.delete(r))}_addPathCloser(r,n){if(!n)return;let a=this._closers.get(r);a||(a=[],this._closers.set(r,a)),a.push(n)}_readdirp(r,n){if(this.closed)return;const a={type:Pe.ALL,alwaysStat:!0,lstat:!0,...n,depth:0};let s=qE(r,a);return this._streams.add(s),s.once(GE,()=>{s=void 0}),s.once(Lu,()=>{s&&(this._streams.delete(s),s=void 0)}),s}}function wb(e,t={}){const r=new vb(t);return r.add(e),r}ne.app.commandLine.appendSwitch("enable-features","Vulkan");ne.app.commandLine.appendSwitch("use-vulkan");ne.app.commandLine.appendSwitch("enable-unsafe-webgpu");const Xn=process.env.VITE_DEV_SERVER_URL,Ve=new Du({defaults:{vaultPath:null}}),ta=new Du({name:"settings",defaults:{theme:"light",fontFamily:"system",fontSize:17,ollamaBaseUrl:"http://localhost:11434",ollamaEnabled:!0,preferredEngine:"ollama",autoFallback:!0,customSystemPrompt:"",promptTemplates:[],defaultFormat:"md",smartFormatConversion:!0}});let Xe=null;const Eb=[".DS_Store",".git","node_modules",".zennote","*.swp","*.swo","*~"];let he=null,Ot=null;function $r(){if(ne.app.isPackaged){if(process.platform==="darwin")return _e.join(process.resourcesPath,"ollama","mac","ollama");if(process.platform==="win32")return _e.join(process.resourcesPath,"ollama","win","ollama.exe")}const{resolve:e}=require("path"),t=e(__dirname,"../public/ollama/mac/ollama");return console.log(" Ollama :",t),Se.existsSync(t)?t:(console.log("  ollama"),"ollama")}function Ku(){return process.mas===!0}function is(){if(Ku())return _e.join(ne.app.getPath("userData"),"ollama-models");if(ne.app.isPackaged)return _e.join(process.resourcesPath,"models","ollama-models");const{resolve:e}=require("path");return e(__dirname,"../public/models/ollama-models")}function bb(){return _e.join(process.resourcesPath,"models","ollama-models")}async function Sb(){if(!Ku())return;const e=is(),t=bb();if(Se.existsSync(e)){console.log(" MAS :",e);return}if(!Se.existsSync(t)){console.log(" :",t);return}console.log(" MAS ..."),console.log("   :",t),console.log("   :",e);try{await Gu(t,e),console.log(" ")}catch(r){console.error(" :",r)}}async function Gu(e,t){await Se.promises.mkdir(t,{recursive:!0});const r=await Se.promises.readdir(e,{withFileTypes:!0});for(const n of r){const a=_e.join(e,n.name),s=_e.join(t,n.name);n.isDirectory()?await Gu(a,s):await Se.promises.copyFile(a,s)}}async function Pb(){var n,a;const e=$r(),t=is();console.log("  Ollama..."),console.log("   :",e),console.log("   :",t);try{if((await fetch("http://127.0.0.1:11434/api/tags")).ok){console.log(" Ollama ");return}}catch{}const r={...process.env,OLLAMA_HOST:"127.0.0.1:11434",OLLAMA_MODELS:t};try{Ot=mr.spawn(e,["serve"],{env:r,detached:!1,stdio:["ignore","pipe","pipe"]}),(n=Ot.stdout)==null||n.on("data",s=>{console.log("[Ollama]",s.toString().trim())}),(a=Ot.stderr)==null||a.on("data",s=>{console.log("[Ollama]",s.toString().trim())}),Ot.on("error",s=>{console.error(" Ollama :",s.message)}),Ot.on("exit",s=>{console.log(" Ollama , code:",s),Ot=null}),await new Promise(s=>setTimeout(s,2e3)),console.log(" Ollama ")}catch(s){console.error("  Ollama :",s)}}function Rb(){Ot&&(console.log("  Ollama..."),Ot.kill(),Ot=null)}function Hu(e){return e.startsWith(".")?!0:Eb.some(t=>t.includes("*")?new RegExp("^"+t.replace(/\*/g,".*")+"$").test(e):e===t)}async function Wu(e,t){const r=await Se.promises.readdir(e,{withFileTypes:!0}),n=[];for(const a of r){if(Hu(a.name))continue;const s=_e.join(e,a.name),i=_e.relative(t,s),o=await Se.promises.stat(s);if(a.isDirectory()){const c=await Wu(s,t);n.push({name:a.name,path:i,isDirectory:!0,children:c,modifiedAt:o.mtimeMs})}else{const c=_e.extname(a.name).toLowerCase();[".txt",".md",".markdown"].includes(c)&&n.push({name:a.name,path:i,isDirectory:!1,extension:c,modifiedAt:o.mtimeMs})}}return n.sort((a,s)=>a.isDirectory&&!s.isDirectory?-1:!a.isDirectory&&s.isDirectory?1:a.isDirectory&&s.isDirectory?a.name.localeCompare(s.name,"zh-CN"):(s.modifiedAt||0)-(a.modifiedAt||0))}function ra(e){const t=_e.join(e,".zennote"),r=_e.join(t,"chats");Se.existsSync(t)||Se.mkdirSync(t,{recursive:!0}),Se.existsSync(r)||Se.mkdirSync(r,{recursive:!0})}function Nb(){ne.ipcMain.handle("fs:getVaultPath",()=>{const r=Ve.get("vaultPath");return r&&!Se.existsSync(r)?(console.log(" Vault :",r),Ve.set("vaultPath",null),null):r}),ne.ipcMain.handle("fs:setVaultPath",(r,n)=>(Ve.set("vaultPath",n),ra(n),!0)),ne.ipcMain.handle("fs:selectDirectory",async()=>{const r=await ne.dialog.showOpenDialog(he,{properties:["openDirectory","createDirectory"],title:"",buttonLabel:""});if(r.canceled||r.filePaths.length===0)return null;const n=r.filePaths[0];return Ve.set("vaultPath",n),ra(n),n}),ne.ipcMain.handle("fs:disconnectVault",async()=>(Ve.delete("vaultPath"),!0)),ne.ipcMain.handle("fs:readDirectory",async(r,n)=>{const a=n||Ve.get("vaultPath");if(!a)return[];try{return await Wu(a,a)}catch(s){return console.error(":",s),[]}}),ne.ipcMain.handle("fs:readFile",async(r,n)=>{const a=Ve.get("vaultPath");if(!a)throw new Error(" Vault ");const s=_e.join(a,n);return await Se.promises.readFile(s,"utf-8")}),ne.ipcMain.handle("fs:writeFile",async(r,n,a)=>{const s=Ve.get("vaultPath");if(!s)throw new Error(" Vault ");const i=_e.join(s,n);return await Se.promises.writeFile(i,a,"utf-8"),!0}),ne.ipcMain.handle("fs:createFile",async(r,n)=>{const a=Ve.get("vaultPath");if(!a)throw new Error(" Vault ");const s=_e.join(a,n);return await Se.promises.writeFile(s,"","utf-8"),!0}),ne.ipcMain.handle("fs:createDirectory",async(r,n)=>{const a=Ve.get("vaultPath");if(!a)throw new Error(" Vault ");const s=_e.join(a,n);return await Se.promises.mkdir(s,{recursive:!0}),!0}),ne.ipcMain.handle("fs:deleteFile",async(r,n)=>{const a=Ve.get("vaultPath");if(!a)throw new Error(" Vault ");const s=_e.join(a,n);return(await Se.promises.stat(s)).isDirectory()?await Se.promises.rm(s,{recursive:!0,force:!0}):await Se.promises.unlink(s),!0}),ne.ipcMain.handle("fs:renameFile",async(r,n,a)=>{const s=Ve.get("vaultPath");if(!s)throw new Error(" Vault ");const i=_e.join(s,n),o=_e.join(s,a);return await Se.promises.rename(i,o),!0}),ne.ipcMain.handle("chat:load",async(r,n)=>{const a=Ve.get("vaultPath");if(!a)return[];const s=Buffer.from(n).toString("base64").replace(/[\/+=]/g,"_"),i=_e.join(a,".zennote","chats",`${s}.json`);try{const o=await Se.promises.readFile(i,"utf-8");return JSON.parse(o)}catch{return[]}}),ne.ipcMain.handle("chat:save",async(r,n,a)=>{const s=Ve.get("vaultPath");if(!s)return!1;ra(s);const i=Buffer.from(n).toString("base64").replace(/[\/+=]/g,"_"),o=_e.join(s,".zennote","chats",`${i}.json`);return await Se.promises.writeFile(o,JSON.stringify(a,null,2),"utf-8"),!0}),ne.ipcMain.handle("fs:watch",(r,n)=>{const a=n||Ve.get("vaultPath");return a?(Xe&&Xe.close(),Xe=wb(a,{ignored:s=>{const i=_e.basename(s);return Hu(i)},persistent:!0,ignoreInitial:!0,depth:10}),Xe.on("add",s=>{const i=_e.relative(a,s);he==null||he.webContents.send("fs:change",{type:"add",path:i})}),Xe.on("unlink",s=>{const i=_e.relative(a,s);he==null||he.webContents.send("fs:change",{type:"unlink",path:i})}),Xe.on("change",s=>{const i=_e.relative(a,s);he==null||he.webContents.send("fs:change",{type:"change",path:i})}),Xe.on("addDir",s=>{const i=_e.relative(a,s);he==null||he.webContents.send("fs:change",{type:"addDir",path:i})}),Xe.on("unlinkDir",s=>{const i=_e.relative(a,s);he==null||he.webContents.send("fs:change",{type:"unlinkDir",path:i})}),console.log(" :",a),!0):!1}),ne.ipcMain.handle("fs:unwatch",()=>(Xe&&(Xe.close(),Xe=null,console.log(" ")),!0)),ne.ipcMain.handle("window:setWidth",(r,n)=>{if(he){const a=he.getBounds();return he.setBounds({...a,width:n}),!0}return!1}),ne.ipcMain.handle("app:getVersion",()=>ne.app.getVersion()),ne.ipcMain.handle("settings:get",()=>ta.store),ne.ipcMain.handle("settings:set",(r,n,a)=>(ta.set(n,a),!0)),ne.ipcMain.handle("settings:reset",()=>(ta.clear(),!0));const e={...process.env,OLLAMA_HOST:"127.0.0.1:11434",OLLAMA_MODELS:is()};ne.ipcMain.handle("ollama:openModelsFolder",()=>{const r=is();return ne.shell.openPath(r),r}),ne.ipcMain.handle("ollama:listModels",async()=>{try{const r=$r();return new Promise(n=>{const a=mr.spawn(r,["list"],{env:e});let s="";a.stdout.on("data",i=>{s+=i.toString()}),a.on("close",i=>{if(i===0)try{const c=s.trim().split(`
`).slice(1).map(d=>{const u=d.split(/\s{2,}/);return u.length>=3?{name:u[0],id:u[1],size:u[2],modified:u[3]||""}:null}).filter(d=>d!==null);n({success:!0,models:c})}catch{n({success:!1,error:""})}else n({success:!1,error:""})}),a.on("error",i=>{n({success:!1,error:i.message})})})}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}});const t=new Map;ne.ipcMain.handle("ollama:pullModel",async(r,n)=>new Promise((a,s)=>{var d,u;const i=$r(),o=mr.spawn(i,["pull",n],{env:e});t.set(n,o);let c="";(d=o.stdout)==null||d.on("data",f=>{const y=f.toString();c+=y,he==null||he.webContents.send("ollama:pullProgress",{model:n,output:y})}),(u=o.stderr)==null||u.on("data",f=>{const y=f.toString();c+=y,he==null||he.webContents.send("ollama:pullProgress",{model:n,output:y})}),o.on("close",f=>{t.delete(n),f===0?a({success:!0,output:c}):s(new Error(`: ${f}`))}),o.on("error",f=>{t.delete(n),s(f)})})),ne.ipcMain.handle("ollama:cancelPull",async(r,n)=>{if(n&&t.has(n)){console.log(` : ${n}`),t.get(n).kill("SIGTERM"),t.delete(n);try{const s=$r();mr.spawn(s,["rm",n],{env:e}),console.log(` : ${n}`)}catch(s){console.log(":",s)}return{success:!0,cancelled:n}}if(t.size>0){const a=[],s=$r();return Array.from(t.entries()).forEach(([i,o])=>{console.log(` : ${i}`),o.kill("SIGTERM"),a.push(i);try{mr.spawn(s,["rm",i],{env:e}),console.log(` : ${i}`)}catch(c){console.log(":",c)}}),t.clear(),{success:!0,cancelled:a.join(", ")}}return{success:!1,error:""}}),ne.ipcMain.handle("ollama:deleteModel",async(r,n)=>new Promise((a,s)=>{const i=$r(),o=mr.spawn(i,["rm",n],{env:e});o.on("close",c=>{c===0?a({success:!0}):s(new Error(`: ${c}`))}),o.on("error",c=>s(c))}))}function rl(){const e=process.platform==="darwin",t={width:1400,height:900,minWidth:400,minHeight:300,hasShadow:!0,webPreferences:{preload:_e.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0,webSecurity:!0,experimentalFeatures:!0}};if(e?Object.assign(t,{vibrancy:"sidebar",visualEffectState:"active",transparent:!0,titleBarStyle:"hiddenInset",trafficLightPosition:{x:20,y:18},frame:!1}):Object.assign(t,{frame:!0,transparent:!1}),he=new ne.BrowserWindow(t),e||ne.Menu.setApplicationMenu(null),Xn)console.log(" : ",Xn),he.loadURL(Xn),he.webContents.openDevTools();else{const r=_e.join(ne.app.getAppPath(),"dist","index.html");console.log(" : ",r),he.loadFile(r)}he.on("closed",()=>{he=null}),he.webContents.on("did-finish-load",()=>{console.log(" ")})}ne.app.whenReady().then(async()=>{await Sb(),await Pb(),Nb(),rl(),ne.app.on("activate",()=>{ne.BrowserWindow.getAllWindows().length===0&&rl()})});ne.app.on("window-all-closed",()=>{Xe&&Xe.close(),Rb(),process.platform!=="darwin"&&ne.app.quit()});console.log(" ...");console.log(" VITE_DEV_SERVER_URL:",Xn||" ()");
