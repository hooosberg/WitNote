"use strict";var Id=Object.defineProperty;var zi=e=>{throw TypeError(e)};var Td=(e,t,r)=>t in e?Id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Q=(e,t,r)=>Td(e,typeof t!="symbol"?t+"":t,r),Us=(e,t,r)=>t.has(e)||zi("Cannot "+r);var oe=(e,t,r)=>(Us(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?zi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),tt=(e,t,r,n)=>(Us(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),jt=(e,t,r)=>(Us(e,t,"access private method"),r);const Y=require("electron"),be=require("path"),Fe=require("fs"),ve=require("node:process"),he=require("node:path"),ke=require("node:util"),re=require("node:fs"),sr=require("node:crypto"),Vi=require("node:assert"),La=require("node:os"),jd=require("node:events"),Ad=require("node:stream"),Qe=require("node:fs/promises"),Yr=require("child_process");function kd(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const te=kd(he),$r=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},vl=new Set(["__proto__","prototype","constructor"]),wl=1e6,Cd=e=>e>="0"&&e<="9";function El(e){if(e==="0")return!0;if(/^[1-9]\d*$/.test(e)){const t=Number.parseInt(e,10);return t<=Number.MAX_SAFE_INTEGER&&t<=wl}return!1}function qs(e,t){return vl.has(e)?!1:(e&&El(e)?t.push(Number.parseInt(e,10)):t.push(e),!0)}function Dd(e){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);const t=[];let r="",n="start",s=!1,a=0;for(const o of e){if(a++,s){r+=o,s=!1;continue}if(o==="\\"){if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);s=!0,n=n==="start"?"property":n;continue}switch(o){case".":{if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd"){n="property";break}if(!qs(r,t))return[];r="",n="property";break}case"[":{if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd"){n="index";break}if(n==="property"||n==="start"){if((r||n==="property")&&!qs(r,t))return[];r=""}n="index";break}case"]":{if(n==="index"){if(r==="")r=(t.pop()||"")+"[]",n="property";else{const i=Number.parseInt(r,10);!Number.isNaN(i)&&Number.isFinite(i)&&i>=0&&i<=Number.MAX_SAFE_INTEGER&&i<=wl&&r===String(i)?t.push(i):t.push(r),r="",n="indexEnd"}break}if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);r+=o;break}default:{if(n==="index"&&!Cd(o))throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);n==="start"&&(n="property"),r+=o}}}switch(s&&(r+="\\"),n){case"property":{if(!qs(r,t))return[];break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function gs(e){if(typeof e=="string")return Dd(e);if(Array.isArray(e)){const t=[];for(const[r,n]of e.entries()){if(typeof n!="string"&&typeof n!="number")throw new TypeError(`Expected a string or number for path segment at index ${r}, got ${typeof n}`);if(typeof n=="number"&&!Number.isFinite(n))throw new TypeError(`Path segment at index ${r} must be a finite number, got ${n}`);if(vl.has(n))return[];typeof n=="string"&&El(n)?t.push(Number.parseInt(n,10)):t.push(n)}return t}return[]}function Ui(e,t,r){if(!$r(e)||typeof t!="string"&&!Array.isArray(t))return r===void 0?e:r;const n=gs(t);if(n.length===0)return r;for(let s=0;s<n.length;s++){const a=n[s];if(e=e[a],e==null){if(s!==n.length-1)return r;break}}return e===void 0?r:e}function bn(e,t,r){if(!$r(e)||typeof t!="string"&&!Array.isArray(t))return e;const n=e,s=gs(t);if(s.length===0)return e;for(let a=0;a<s.length;a++){const o=s[a];if(a===s.length-1)e[o]=r;else if(!$r(e[o])){const c=typeof s[a+1]=="number";e[o]=c?[]:{}}e=e[o]}return n}function Md(e,t){if(!$r(e)||typeof t!="string"&&!Array.isArray(t))return!1;const r=gs(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return Object.hasOwn(e,s)?(delete e[s],!0):!1;if(e=e[s],!$r(e))return!1}}function Gs(e,t){if(!$r(e)||typeof t!="string"&&!Array.isArray(t))return!1;const r=gs(t);if(r.length===0)return!1;for(const n of r){if(!$r(e)||!(n in e))return!1;e=e[n]}return!0}const Xt=La.homedir(),za=La.tmpdir(),{env:Nr}=ve,Fd=e=>{const t=he.join(Xt,"Library");return{data:he.join(t,"Application Support",e),config:he.join(t,"Preferences",e),cache:he.join(t,"Caches",e),log:he.join(t,"Logs",e),temp:he.join(za,e)}},Ld=e=>{const t=Nr.APPDATA||he.join(Xt,"AppData","Roaming"),r=Nr.LOCALAPPDATA||he.join(Xt,"AppData","Local");return{data:he.join(r,e,"Data"),config:he.join(t,e,"Config"),cache:he.join(r,e,"Cache"),log:he.join(r,e,"Log"),temp:he.join(za,e)}},zd=e=>{const t=he.basename(Xt);return{data:he.join(Nr.XDG_DATA_HOME||he.join(Xt,".local","share"),e),config:he.join(Nr.XDG_CONFIG_HOME||he.join(Xt,".config"),e),cache:he.join(Nr.XDG_CACHE_HOME||he.join(Xt,".cache"),e),log:he.join(Nr.XDG_STATE_HOME||he.join(Xt,".local","state"),e),temp:he.join(za,t,e)}};function Vd(e,{suffix:t="nodejs"}={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return t&&(e+=`-${t}`),ve.platform==="darwin"?Fd(e):ve.platform==="win32"?Ld(e):zd(e)}const Vt=(e,t)=>{const{onError:r}=t;return function(...s){return e.apply(void 0,s).catch(r)}},At=(e,t)=>{const{onError:r}=t;return function(...s){try{return e.apply(void 0,s)}catch(a){return r(a)}}},Ud=250,Ut=(e,t)=>{const{isRetriable:r}=t;return function(s){const{timeout:a}=s,o=s.interval??Ud,i=Date.now()+a;return function c(...d){return e.apply(void 0,d).catch(u=>{if(!r(u)||Date.now()>=i)throw u;const f=Math.round(o*Math.random());return f>0?new Promise(p=>setTimeout(p,f)).then(()=>c.apply(void 0,d)):c.apply(void 0,d)})}}},qt=(e,t)=>{const{isRetriable:r}=t;return function(s){const{timeout:a}=s,o=Date.now()+a;return function(...c){for(;;)try{return e.apply(void 0,c)}catch(d){if(!r(d)||Date.now()>=o)throw d;continue}}}},Or={isChangeErrorOk:e=>{if(!Or.isNodeError(e))return!1;const{code:t}=e;return t==="ENOSYS"||!qd&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!Or.isNodeError(e))return!1;const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Or.isNodeError(e))throw e;if(!Or.isChangeErrorOk(e))throw e}},Sn={onError:Or.onChangeError},rt={onError:()=>{}},qd=ve.getuid?!ve.getuid():!1,Ue={isRetriable:Or.isRetriableError},Ke={attempt:{chmod:Vt(ke.promisify(re.chmod),Sn),chown:Vt(ke.promisify(re.chown),Sn),close:Vt(ke.promisify(re.close),rt),fsync:Vt(ke.promisify(re.fsync),rt),mkdir:Vt(ke.promisify(re.mkdir),rt),realpath:Vt(ke.promisify(re.realpath),rt),stat:Vt(ke.promisify(re.stat),rt),unlink:Vt(ke.promisify(re.unlink),rt),chmodSync:At(re.chmodSync,Sn),chownSync:At(re.chownSync,Sn),closeSync:At(re.closeSync,rt),existsSync:At(re.existsSync,rt),fsyncSync:At(re.fsync,rt),mkdirSync:At(re.mkdirSync,rt),realpathSync:At(re.realpathSync,rt),statSync:At(re.statSync,rt),unlinkSync:At(re.unlinkSync,rt)},retry:{close:Ut(ke.promisify(re.close),Ue),fsync:Ut(ke.promisify(re.fsync),Ue),open:Ut(ke.promisify(re.open),Ue),readFile:Ut(ke.promisify(re.readFile),Ue),rename:Ut(ke.promisify(re.rename),Ue),stat:Ut(ke.promisify(re.stat),Ue),write:Ut(ke.promisify(re.write),Ue),writeFile:Ut(ke.promisify(re.writeFile),Ue),closeSync:qt(re.closeSync,Ue),fsyncSync:qt(re.fsyncSync,Ue),openSync:qt(re.openSync,Ue),readFileSync:qt(re.readFileSync,Ue),renameSync:qt(re.renameSync,Ue),statSync:qt(re.statSync,Ue),writeSync:qt(re.writeSync,Ue),writeFileSync:qt(re.writeFileSync,Ue)}},Gd="utf8",qi=438,Kd=511,Hd={},Wd=ve.geteuid?ve.geteuid():-1,Bd=ve.getegid?ve.getegid():-1,Yd=1e3,Jd=!!ve.getuid;ve.getuid&&ve.getuid();const Gi=128,Xd=e=>e instanceof Error&&"code"in e,Ki=e=>typeof e=="string",Ks=e=>e===void 0,xd=ve.platform==="linux",bl=ve.platform==="win32",Va=["SIGHUP","SIGINT","SIGTERM"];bl||Va.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");xd&&Va.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");class Zd{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=t=>{if(!this.exited){this.exited=!0;for(const r of this.callbacks)r();t&&(bl&&t!=="SIGINT"&&t!=="SIGTERM"&&t!=="SIGKILL"?ve.kill(ve.pid,"SIGTERM"):ve.kill(ve.pid,t))}},this.hook=()=>{ve.once("exit",()=>this.exit());for(const t of Va)try{ve.once(t,()=>this.exit(t))}catch{}},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t)}),this.hook()}}const Qd=new Zd,ef=Qd.register,He={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=He.truncate(t(e));return n in He.store?He.get(e,t,r):(He.store[n]=r,[n,()=>delete He.store[n]])},purge:e=>{He.store[e]&&(delete He.store[e],Ke.attempt.unlink(e))},purgeSync:e=>{He.store[e]&&(delete He.store[e],Ke.attempt.unlinkSync(e))},purgeSyncAll:()=>{for(const e in He.store)He.purgeSync(e)},truncate:e=>{const t=he.basename(e);if(t.length<=Gi)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Gi;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};ef(He.purgeSyncAll);function Sl(e,t,r=Hd){if(Ki(r))return Sl(e,t,{encoding:r});const s={timeout:r.timeout??Yd};let a=null,o=null,i=null;try{const c=Ke.attempt.realpathSync(e),d=!!c;e=c||e,[o,a]=He.get(e,r.tmpCreate||He.create,r.tmpPurge!==!1);const u=Jd&&Ks(r.chown),f=Ks(r.mode);if(d&&(u||f)){const _=Ke.attempt.statSync(e);_&&(r={...r},u&&(r.chown={uid:_.uid,gid:_.gid}),f&&(r.mode=_.mode))}if(!d){const _=he.dirname(e);Ke.attempt.mkdirSync(_,{mode:Kd,recursive:!0})}i=Ke.retry.openSync(s)(o,"w",r.mode||qi),r.tmpCreated&&r.tmpCreated(o),Ki(t)?Ke.retry.writeSync(s)(i,t,0,r.encoding||Gd):Ks(t)||Ke.retry.writeSync(s)(i,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ke.retry.fsyncSync(s)(i):Ke.attempt.fsync(i)),Ke.retry.closeSync(s)(i),i=null,r.chown&&(r.chown.uid!==Wd||r.chown.gid!==Bd)&&Ke.attempt.chownSync(o,r.chown.uid,r.chown.gid),r.mode&&r.mode!==qi&&Ke.attempt.chmodSync(o,r.mode);try{Ke.retry.renameSync(s)(o,e)}catch(_){if(!Xd(_)||_.code!=="ENAMETOOLONG")throw _;Ke.retry.renameSync(s)(o,He.truncate(e))}a(),o=null}finally{i&&Ke.attempt.closeSync(i),o&&He.purge(o)}}function Pl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pa={exports:{}},Rl={},kt={},ar={},$n={},ie={},pn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((P,O)=>`${P}${O}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((P,O)=>(O instanceof r&&(P[O.str]=(P[O.str]||0)+1),P),{})}}e._Code=n,e.nil=new n("");function s(m,...E){const P=[m[0]];let O=0;for(;O<E.length;)i(P,E[O]),P.push(m[++O]);return new n(P)}e._=s;const a=new n("+");function o(m,...E){const P=[p(m[0])];let O=0;for(;O<E.length;)P.push(a),i(P,E[O]),P.push(a,p(m[++O]));return c(P),new n(P)}e.str=o;function i(m,E){E instanceof n?m.push(...E._items):E instanceof r?m.push(E):m.push(f(E))}e.addCodeArg=i;function c(m){let E=1;for(;E<m.length-1;){if(m[E]===a){const P=d(m[E-1],m[E+1]);if(P!==void 0){m.splice(E-1,3,P);continue}m[E++]="+"}E++}}function d(m,E){if(E==='""')return m;if(m==='""')return E;if(typeof m=="string")return E instanceof r||m[m.length-1]!=='"'?void 0:typeof E!="string"?`${m.slice(0,-1)}${E}"`:E[0]==='"'?m.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(m instanceof r))return`"${m}${E.slice(1)}`}function u(m,E){return E.emptyStr()?m:m.emptyStr()?E:o`${m}${E}`}e.strConcat=u;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:p(Array.isArray(m)?m.join(","):m)}function _(m){return new n(p(m))}e.stringify=_;function p(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function w(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=w;function $(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=$;function g(m){return new n(m.toString())}e.regexpCode=g})(pn);var ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=pn;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:u}={}){this._names={},this._prefixes=d,this._parent=u}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const u=this._names[d]||this._nameGroup(d);return`${d}${u.index++}`}_nameGroup(d){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class a extends t.Name{constructor(d,u){super(u),this.prefix=d}setValue(d,{property:u,itemIndex:f}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class i extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?o:t.nil}}get(){return this._scope}name(d){return new a(d,this._newName(d))}value(d,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(d),{prefix:p}=_,w=(f=u.key)!==null&&f!==void 0?f:u.ref;let $=this._values[p];if($){const E=$.get(w);if(E)return E}else $=this._values[p]=new Map;$.set(w,_);const g=this._scope[p]||(this._scope[p]=[]),m=g.length;return g[m]=u.ref,_.setValue(u,{property:p,itemIndex:m}),_}getValue(d,u){const f=this._values[d];if(f)return f.get(u)}scopeRefs(d,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${d}${f.scopePath}`})}scopeCode(d=this._values,u,f){return this._reduceValues(d,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},u,f)}_reduceValues(d,u,f={},_){let p=t.nil;for(const w in d){const $=d[w];if(!$)continue;const g=f[w]=f[w]||new Map;$.forEach(m=>{if(g.has(m))return;g.set(m,n.Started);let E=u(m);if(E){const P=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${P} ${m} = ${E};${this.opts._n}`}else if(E=_==null?void 0:_(m))p=(0,t._)`${p}${E}${this.opts._n}`;else throw new r(m);g.set(m,n.Completed)})}return p}}e.ValueScope=i})(ya);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=pn,r=ya;var n=pn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=ya;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(l,h){return this}}class o extends a{constructor(l,h,b){super(),this.varKind=l,this.name=h,this.rhs=b}render({es5:l,_n:h}){const b=l?r.varKinds.var:this.varKind,A=this.rhs===void 0?"":` = ${this.rhs}`;return`${b} ${this.name}${A};`+h}optimizeNames(l,h){if(l[this.name.str])return this.rhs&&(this.rhs=j(this.rhs,l,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends a{constructor(l,h,b){super(),this.lhs=l,this.rhs=h,this.sideEffects=b}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,h){if(!(this.lhs instanceof t.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=j(this.rhs,l,h),this}get names(){const l=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ee(l,this.rhs)}}class c extends i{constructor(l,h,b,A){super(l,b,A),this.op=h}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class d extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class u extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class f extends a{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class _ extends a{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,h){return this.code=j(this.code,l,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends a{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((h,b)=>h+b.render(l),"")}optimizeNodes(){const{nodes:l}=this;let h=l.length;for(;h--;){const b=l[h].optimizeNodes();Array.isArray(b)?l.splice(h,1,...b):b?l[h]=b:l.splice(h,1)}return l.length>0?this:void 0}optimizeNames(l,h){const{nodes:b}=this;let A=b.length;for(;A--;){const k=b[A];k.optimizeNames(l,h)||(D(l,k.names),b.splice(A,1))}return b.length>0?this:void 0}get names(){return this.nodes.reduce((l,h)=>x(l,h.names),{})}}class w extends p{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class $ extends p{}class g extends w{}g.kind="else";class m extends w{constructor(l,h){super(h),this.condition=l}render(l){let h=`if(${this.condition})`+super.render(l);return this.else&&(h+="else "+this.else.render(l)),h}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let h=this.else;if(h){const b=h.optimizeNodes();h=this.else=Array.isArray(b)?new g(b):b}if(h)return l===!1?h instanceof m?h:h.nodes:this.nodes.length?this:new m(q(l),h instanceof m?[h]:h.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,h){var b;if(this.else=(b=this.else)===null||b===void 0?void 0:b.optimizeNames(l,h),!!(super.optimizeNames(l,h)||this.else))return this.condition=j(this.condition,l,h),this}get names(){const l=super.names;return ee(l,this.condition),this.else&&x(l,this.else.names),l}}m.kind="if";class E extends w{}E.kind="for";class P extends E{constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iteration=j(this.iteration,l,h),this}get names(){return x(super.names,this.iteration.names)}}class O extends E{constructor(l,h,b,A){super(),this.varKind=l,this.name=h,this.from=b,this.to=A}render(l){const h=l.es5?r.varKinds.var:this.varKind,{name:b,from:A,to:k}=this;return`for(${h} ${b}=${A}; ${b}<${k}; ${b}++)`+super.render(l)}get names(){const l=ee(super.names,this.from);return ee(l,this.to)}}class T extends E{constructor(l,h,b,A){super(),this.loop=l,this.varKind=h,this.name=b,this.iterable=A}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iterable=j(this.iterable,l,h),this}get names(){return x(super.names,this.iterable.names)}}class H extends w{constructor(l,h,b){super(),this.name=l,this.args=h,this.async=b}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}H.kind="func";class Z extends p{render(l){return"return "+super.render(l)}}Z.kind="return";class me extends w{render(l){let h="try"+super.render(l);return this.catch&&(h+=this.catch.render(l)),this.finally&&(h+=this.finally.render(l)),h}optimizeNodes(){var l,h;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(l,h){var b,A;return super.optimizeNames(l,h),(b=this.catch)===null||b===void 0||b.optimizeNames(l,h),(A=this.finally)===null||A===void 0||A.optimizeNames(l,h),this}get names(){const l=super.names;return this.catch&&x(l,this.catch.names),this.finally&&x(l,this.finally.names),l}}class $e extends w{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}$e.kind="catch";class we extends w{render(l){return"finally"+super.render(l)}}we.kind="finally";class K{constructor(l,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=l,this._scope=new r.Scope({parent:l}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,h){const b=this._extScope.value(l,h);return(this._values[b.prefix]||(this._values[b.prefix]=new Set)).add(b),b}getScopeValue(l,h){return this._extScope.getValue(l,h)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,h,b,A){const k=this._scope.toName(h);return b!==void 0&&A&&(this._constants[k.str]=b),this._leafNode(new o(l,k,b)),k}const(l,h,b){return this._def(r.varKinds.const,l,h,b)}let(l,h,b){return this._def(r.varKinds.let,l,h,b)}var(l,h,b){return this._def(r.varKinds.var,l,h,b)}assign(l,h,b){return this._leafNode(new i(l,h,b))}add(l,h){return this._leafNode(new c(l,e.operators.ADD,h))}code(l){return typeof l=="function"?l():l!==t.nil&&this._leafNode(new _(l)),this}object(...l){const h=["{"];for(const[b,A]of l)h.length>1&&h.push(","),h.push(b),(b!==A||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,A));return h.push("}"),new t._Code(h)}if(l,h,b){if(this._blockNode(new m(l)),h&&b)this.code(h).else().code(b).endIf();else if(h)this.code(h).endIf();else if(b)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new m(l))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(m,g)}_for(l,h){return this._blockNode(l),h&&this.code(h).endFor(),this}for(l,h){return this._for(new P(l),h)}forRange(l,h,b,A,k=this.opts.es5?r.varKinds.var:r.varKinds.let){const W=this._scope.toName(l);return this._for(new O(k,W,h,b),()=>A(W))}forOf(l,h,b,A=r.varKinds.const){const k=this._scope.toName(l);if(this.opts.es5){const W=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${W}.length`,G=>{this.var(k,(0,t._)`${W}[${G}]`),b(k)})}return this._for(new T("of",A,k,h),()=>b(k))}forIn(l,h,b,A=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,t._)`Object.keys(${h})`,b);const k=this._scope.toName(l);return this._for(new T("in",A,k,h),()=>b(k))}endFor(){return this._endBlockNode(E)}label(l){return this._leafNode(new d(l))}break(l){return this._leafNode(new u(l))}return(l){const h=new Z;if(this._blockNode(h),this.code(l),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Z)}try(l,h,b){if(!h&&!b)throw new Error('CodeGen: "try" without "catch" and "finally"');const A=new me;if(this._blockNode(A),this.code(l),h){const k=this.name("e");this._currNode=A.catch=new $e(k),h(k)}return b&&(this._currNode=A.finally=new we,this.code(b)),this._endBlockNode($e,we)}throw(l){return this._leafNode(new f(l))}block(l,h){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(h),this}endBlock(l){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const b=this._nodes.length-h;if(b<0||l!==void 0&&b!==l)throw new Error(`CodeGen: wrong number of nodes: ${b} vs ${l} expected`);return this._nodes.length=h,this}func(l,h=t.nil,b,A){return this._blockNode(new H(l,h,b)),A&&this.code(A).endFunc(),this}endFunc(){return this._endBlockNode(H)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,h){const b=this._currNode;if(b instanceof l||h&&b instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${l.kind}/${h.kind}`:l.kind}"`)}_elseNode(l){const h=this._currNode;if(!(h instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const h=this._nodes;h[h.length-1]=l}}e.CodeGen=K;function x(v,l){for(const h in l)v[h]=(v[h]||0)+(l[h]||0);return v}function ee(v,l){return l instanceof t._CodeOrName?x(v,l.names):v}function j(v,l,h){if(v instanceof t.Name)return b(v);if(!A(v))return v;return new t._Code(v._items.reduce((k,W)=>(W instanceof t.Name&&(W=b(W)),W instanceof t._Code?k.push(...W._items):k.push(W),k),[]));function b(k){const W=h[k.str];return W===void 0||l[k.str]!==1?k:(delete l[k.str],W)}function A(k){return k instanceof t._Code&&k._items.some(W=>W instanceof t.Name&&l[W.str]===1&&h[W.str]!==void 0)}}function D(v,l){for(const h in l)v[h]=(v[h]||0)-(l[h]||0)}function q(v){return typeof v=="boolean"||typeof v=="number"||v===null?!v:(0,t._)`!${S(v)}`}e.not=q;const z=y(e.operators.AND);function J(...v){return v.reduce(z)}e.and=J;const U=y(e.operators.OR);function R(...v){return v.reduce(U)}e.or=R;function y(v){return(l,h)=>l===t.nil?h:h===t.nil?l:(0,t._)`${S(l)} ${v} ${S(h)}`}function S(v){return v instanceof t.Name?v:(0,t._)`(${v})`}})(ie);var L={};Object.defineProperty(L,"__esModule",{value:!0});L.checkStrictMode=L.getErrorPath=L.Type=L.useFunc=L.setEvaluated=L.evaluatedPropsToName=L.mergeEvaluated=L.eachItem=L.unescapeJsonPointer=L.escapeJsonPointer=L.escapeFragment=L.unescapeFragment=L.schemaRefOrVal=L.schemaHasRulesButRef=L.schemaHasRules=L.checkUnknownRules=L.alwaysValidSchema=L.toHash=void 0;const pe=ie,tf=pn;function rf(e){const t={};for(const r of e)t[r]=!0;return t}L.toHash=rf;function nf(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Nl(e,t),!Ol(t,e.self.RULES.all))}L.alwaysValidSchema=nf;function Nl(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||jl(e,`unknown keyword: "${a}"`)}L.checkUnknownRules=Nl;function Ol(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}L.schemaHasRules=Ol;function sf(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}L.schemaHasRulesButRef=sf;function af({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,pe._)`${r}`}return(0,pe._)`${e}${t}${(0,pe.getProperty)(n)}`}L.schemaRefOrVal=af;function of(e){return Il(decodeURIComponent(e))}L.unescapeFragment=of;function cf(e){return encodeURIComponent(Ua(e))}L.escapeFragment=cf;function Ua(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}L.escapeJsonPointer=Ua;function Il(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}L.unescapeJsonPointer=Il;function lf(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}L.eachItem=lf;function Hi({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,i)=>{const c=o===void 0?a:o instanceof pe.Name?(a instanceof pe.Name?e(s,a,o):t(s,a,o),o):a instanceof pe.Name?(t(s,o,a),a):r(a,o);return i===pe.Name&&!(c instanceof pe.Name)?n(s,c):c}}L.mergeEvaluated={props:Hi({mergeNames:(e,t,r)=>e.if((0,pe._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,pe._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,pe._)`${r} || {}`).code((0,pe._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,pe._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,pe._)`${r} || {}`),qa(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Tl}),items:Hi({mergeNames:(e,t,r)=>e.if((0,pe._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,pe._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,pe._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,pe._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Tl(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,pe._)`{}`);return t!==void 0&&qa(e,r,t),r}L.evaluatedPropsToName=Tl;function qa(e,t,r){Object.keys(r).forEach(n=>e.assign((0,pe._)`${t}${(0,pe.getProperty)(n)}`,!0))}L.setEvaluated=qa;const Wi={};function uf(e,t){return e.scopeValue("func",{ref:t,code:Wi[t.code]||(Wi[t.code]=new tf._Code(t.code))})}L.useFunc=uf;var $a;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})($a||(L.Type=$a={}));function df(e,t,r){if(e instanceof pe.Name){const n=t===$a.Num;return r?n?(0,pe._)`"[" + ${e} + "]"`:(0,pe._)`"['" + ${e} + "']"`:n?(0,pe._)`"/" + ${e}`:(0,pe._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,pe.getProperty)(e).toString():"/"+Ua(e)}L.getErrorPath=df;function jl(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}L.checkStrictMode=jl;var at={};Object.defineProperty(at,"__esModule",{value:!0});const qe=ie,ff={data:new qe.Name("data"),valCxt:new qe.Name("valCxt"),instancePath:new qe.Name("instancePath"),parentData:new qe.Name("parentData"),parentDataProperty:new qe.Name("parentDataProperty"),rootData:new qe.Name("rootData"),dynamicAnchors:new qe.Name("dynamicAnchors"),vErrors:new qe.Name("vErrors"),errors:new qe.Name("errors"),this:new qe.Name("this"),self:new qe.Name("self"),scope:new qe.Name("scope"),json:new qe.Name("json"),jsonPos:new qe.Name("jsonPos"),jsonLen:new qe.Name("jsonLen"),jsonPart:new qe.Name("jsonPart")};at.default=ff;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ie,r=L,n=at;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:m})=>m?(0,t.str)`"${g}" keyword must be ${m} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function s(g,m=e.keywordError,E,P){const{it:O}=g,{gen:T,compositeRule:H,allErrors:Z}=O,me=f(g,m,E);P??(H||Z)?c(T,me):d(O,(0,t._)`[${me}]`)}e.reportError=s;function a(g,m=e.keywordError,E){const{it:P}=g,{gen:O,compositeRule:T,allErrors:H}=P,Z=f(g,m,E);c(O,Z),T||H||d(P,n.default.vErrors)}e.reportExtraError=a;function o(g,m){g.assign(n.default.errors,m),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(m,()=>g.assign((0,t._)`${n.default.vErrors}.length`,m),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function i({gen:g,keyword:m,schemaValue:E,data:P,errsCount:O,it:T}){if(O===void 0)throw new Error("ajv implementation error");const H=g.name("err");g.forRange("i",O,n.default.errors,Z=>{g.const(H,(0,t._)`${n.default.vErrors}[${Z}]`),g.if((0,t._)`${H}.instancePath === undefined`,()=>g.assign((0,t._)`${H}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),g.assign((0,t._)`${H}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${m}`),T.opts.verbose&&(g.assign((0,t._)`${H}.schema`,E),g.assign((0,t._)`${H}.data`,P))})}e.extendErrors=i;function c(g,m){const E=g.const("err",m);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),g.code((0,t._)`${n.default.errors}++`)}function d(g,m){const{gen:E,validateName:P,schemaEnv:O}=g;O.$async?E.throw((0,t._)`new ${g.ValidationError}(${m})`):(E.assign((0,t._)`${P}.errors`,m),E.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(g,m,E){const{createErrors:P}=g.it;return P===!1?(0,t._)`{}`:_(g,m,E)}function _(g,m,E={}){const{gen:P,it:O}=g,T=[p(O,E),w(g,E)];return $(g,m,T),P.object(...T)}function p({errorPath:g},{instancePath:m}){const E=m?(0,t.str)`${g}${(0,r.getErrorPath)(m,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function w({keyword:g,it:{errSchemaPath:m}},{schemaPath:E,parentSchema:P}){let O=P?m:(0,t.str)`${m}/${g}`;return E&&(O=(0,t.str)`${O}${(0,r.getErrorPath)(E,r.Type.Str)}`),[u.schemaPath,O]}function $(g,{params:m,message:E},P){const{keyword:O,data:T,schemaValue:H,it:Z}=g,{opts:me,propertyName:$e,topSchemaRef:we,schemaPath:K}=Z;P.push([u.keyword,O],[u.params,typeof m=="function"?m(g):m||(0,t._)`{}`]),me.messages&&P.push([u.message,typeof E=="function"?E(g):E]),me.verbose&&P.push([u.schema,H],[u.parentSchema,(0,t._)`${we}${K}`],[n.default.data,T]),$e&&P.push([u.propertyName,$e])}})($n);var Bi;function hf(){if(Bi)return ar;Bi=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.boolOrEmptySchema=ar.topBoolOrEmptySchema=void 0;const e=$n,t=ie,r=at,n={message:"boolean schema is false"};function s(i){const{gen:c,schema:d,validateName:u}=i;d===!1?o(i,!1):typeof d=="object"&&d.$async===!0?c.return(r.default.data):(c.assign((0,t._)`${u}.errors`,null),c.return(!0))}ar.topBoolOrEmptySchema=s;function a(i,c){const{gen:d,schema:u}=i;u===!1?(d.var(c,!1),o(i)):d.var(c,!0)}ar.boolOrEmptySchema=a;function o(i,c){const{gen:d,data:u}=i,f={gen:d,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,e.reportError)(f,n,void 0,c)}return ar}var Ie={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.getRules=_r.isJSONType=void 0;const mf=["string","number","integer","boolean","null","object","array"],pf=new Set(mf);function yf(e){return typeof e=="string"&&pf.has(e)}_r.isJSONType=yf;function $f(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}_r.getRules=$f;var Ct={},Yi;function Al(){if(Yi)return Ct;Yi=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.shouldUseRule=Ct.shouldUseGroup=Ct.schemaHasRulesForType=void 0;function e({schema:n,self:s},a){const o=s.RULES.types[a];return o&&o!==!0&&t(n,o)}Ct.schemaHasRulesForType=e;function t(n,s){return s.rules.some(a=>r(n,a))}Ct.shouldUseGroup=t;function r(n,s){var a;return n[s.keyword]!==void 0||((a=s.definition.implements)===null||a===void 0?void 0:a.some(o=>n[o]!==void 0))}return Ct.shouldUseRule=r,Ct}Object.defineProperty(Ie,"__esModule",{value:!0});Ie.reportTypeError=Ie.checkDataTypes=Ie.checkDataType=Ie.coerceAndCheckDataType=Ie.getJSONTypes=Ie.getSchemaTypes=Ie.DataType=void 0;const _f=_r,gf=Al(),vf=$n,ce=ie,kl=L;var Ir;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ir||(Ie.DataType=Ir={}));function wf(e){const t=Cl(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Ie.getSchemaTypes=wf;function Cl(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(_f.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Ie.getJSONTypes=Cl;function Ef(e,t){const{gen:r,data:n,opts:s}=e,a=bf(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,gf.schemaHasRulesForType)(e,t[0]));if(o){const i=Ga(t,n,s.strictNumbers,Ir.Wrong);r.if(i,()=>{a.length?Sf(e,t,a):Ka(e)})}return o}Ie.coerceAndCheckDataType=Ef;const Dl=new Set(["string","number","integer","boolean","null"]);function bf(e,t){return t?e.filter(r=>Dl.has(r)||t==="array"&&r==="array"):[]}function Sf(e,t,r){const{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,ce._)`typeof ${s}`),i=n.let("coerced",(0,ce._)`undefined`);a.coerceTypes==="array"&&n.if((0,ce._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,ce._)`${s}[0]`).assign(o,(0,ce._)`typeof ${s}`).if(Ga(t,s,a.strictNumbers),()=>n.assign(i,s))),n.if((0,ce._)`${i} !== undefined`);for(const d of r)(Dl.has(d)||d==="array"&&a.coerceTypes==="array")&&c(d);n.else(),Ka(e),n.endIf(),n.if((0,ce._)`${i} !== undefined`,()=>{n.assign(s,i),Pf(e,i)});function c(d){switch(d){case"string":n.elseIf((0,ce._)`${o} == "number" || ${o} == "boolean"`).assign(i,(0,ce._)`"" + ${s}`).elseIf((0,ce._)`${s} === null`).assign(i,(0,ce._)`""`);return;case"number":n.elseIf((0,ce._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(i,(0,ce._)`+${s}`);return;case"integer":n.elseIf((0,ce._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(i,(0,ce._)`+${s}`);return;case"boolean":n.elseIf((0,ce._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(i,!1).elseIf((0,ce._)`${s} === "true" || ${s} === 1`).assign(i,!0);return;case"null":n.elseIf((0,ce._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(i,null);return;case"array":n.elseIf((0,ce._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(i,(0,ce._)`[${s}]`)}}}function Pf({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,ce._)`${t} !== undefined`,()=>e.assign((0,ce._)`${t}[${r}]`,n))}function _a(e,t,r,n=Ir.Correct){const s=n===Ir.Correct?ce.operators.EQ:ce.operators.NEQ;let a;switch(e){case"null":return(0,ce._)`${t} ${s} null`;case"array":a=(0,ce._)`Array.isArray(${t})`;break;case"object":a=(0,ce._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,ce._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,ce._)`typeof ${t} ${s} ${e}`}return n===Ir.Correct?a:(0,ce.not)(a);function o(i=ce.nil){return(0,ce.and)((0,ce._)`typeof ${t} == "number"`,i,r?(0,ce._)`isFinite(${t})`:ce.nil)}}Ie.checkDataType=_a;function Ga(e,t,r,n){if(e.length===1)return _a(e[0],t,r,n);let s;const a=(0,kl.toHash)(e);if(a.array&&a.object){const o=(0,ce._)`typeof ${t} != "object"`;s=a.null?o:(0,ce._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=ce.nil;a.number&&delete a.integer;for(const o in a)s=(0,ce.and)(s,_a(o,t,r,n));return s}Ie.checkDataTypes=Ga;const Rf={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,ce._)`{type: ${e}}`:(0,ce._)`{type: ${t}}`};function Ka(e){const t=Nf(e);(0,vf.reportError)(t,Rf)}Ie.reportTypeError=Ka;function Nf(e){const{gen:t,data:r,schema:n}=e,s=(0,kl.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Jr={},Ji;function Of(){if(Ji)return Jr;Ji=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.assignDefaults=void 0;const e=ie,t=L;function r(s,a){const{properties:o,items:i}=s.schema;if(a==="object"&&o)for(const c in o)n(s,c,o[c].default);else a==="array"&&Array.isArray(i)&&i.forEach((c,d)=>n(s,d,c.default))}Jr.assignDefaults=r;function n(s,a,o){const{gen:i,compositeRule:c,data:d,opts:u}=s;if(o===void 0)return;const f=(0,e._)`${d}${(0,e.getProperty)(a)}`;if(c){(0,t.checkStrictMode)(s,`default is ignored for: ${f}`);return}let _=(0,e._)`${f} === undefined`;u.useDefaults==="empty"&&(_=(0,e._)`${_} || ${f} === null || ${f} === ""`),i.if(_,(0,e._)`${f} = ${(0,e.stringify)(o)}`)}return Jr}var ut={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.validateUnion=de.validateArray=de.usePattern=de.callValidateCode=de.schemaProperties=de.allSchemaProperties=de.noPropertyInData=de.propertyInData=de.isOwnProperty=de.hasPropFunc=de.reportMissingProp=de.checkMissingProp=de.checkReportMissingProp=void 0;const _e=ie,Ha=L,Gt=at,If=L;function Tf(e,t){const{gen:r,data:n,it:s}=e;r.if(Ba(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,_e._)`${t}`},!0),e.error()})}de.checkReportMissingProp=Tf;function jf({gen:e,data:t,it:{opts:r}},n,s){return(0,_e.or)(...n.map(a=>(0,_e.and)(Ba(e,t,a,r.ownProperties),(0,_e._)`${s} = ${a}`)))}de.checkMissingProp=jf;function Af(e,t){e.setParams({missingProperty:t},!0),e.error()}de.reportMissingProp=Af;function Ml(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,_e._)`Object.prototype.hasOwnProperty`})}de.hasPropFunc=Ml;function Wa(e,t,r){return(0,_e._)`${Ml(e)}.call(${t}, ${r})`}de.isOwnProperty=Wa;function kf(e,t,r,n){const s=(0,_e._)`${t}${(0,_e.getProperty)(r)} !== undefined`;return n?(0,_e._)`${s} && ${Wa(e,t,r)}`:s}de.propertyInData=kf;function Ba(e,t,r,n){const s=(0,_e._)`${t}${(0,_e.getProperty)(r)} === undefined`;return n?(0,_e.or)(s,(0,_e.not)(Wa(e,t,r))):s}de.noPropertyInData=Ba;function Fl(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}de.allSchemaProperties=Fl;function Cf(e,t){return Fl(t).filter(r=>!(0,Ha.alwaysValidSchema)(e,t[r]))}de.schemaProperties=Cf;function Df({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},i,c,d){const u=d?(0,_e._)`${e}, ${t}, ${n}${s}`:t,f=[[Gt.default.instancePath,(0,_e.strConcat)(Gt.default.instancePath,a)],[Gt.default.parentData,o.parentData],[Gt.default.parentDataProperty,o.parentDataProperty],[Gt.default.rootData,Gt.default.rootData]];o.opts.dynamicRef&&f.push([Gt.default.dynamicAnchors,Gt.default.dynamicAnchors]);const _=(0,_e._)`${u}, ${r.object(...f)}`;return c!==_e.nil?(0,_e._)`${i}.call(${c}, ${_})`:(0,_e._)`${i}(${_})`}de.callValidateCode=Df;const Mf=(0,_e._)`new RegExp`;function Ff({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,_e._)`${s.code==="new RegExp"?Mf:(0,If.useFunc)(e,s)}(${r}, ${n})`})}de.usePattern=Ff;function Lf(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const i=t.let("valid",!0);return o(()=>t.assign(i,!1)),i}return t.var(a,!0),o(()=>t.break()),a;function o(i){const c=t.const("len",(0,_e._)`${r}.length`);t.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:Ha.Type.Num},a),t.if((0,_e.not)(a),i)})}}de.validateArray=Lf;function zf(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Ha.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),i=t.name("_valid");t.block(()=>r.forEach((c,d)=>{const u=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},i);t.assign(o,(0,_e._)`${o} || ${i}`),e.mergeValidEvaluated(u,i)||t.if((0,_e.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}de.validateUnion=zf;var Xi;function Vf(){if(Xi)return ut;Xi=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.validateKeywordUsage=ut.validSchemaType=ut.funcKeywordCode=ut.macroKeywordCode=void 0;const e=ie,t=at,r=de,n=$n;function s(_,p){const{gen:w,keyword:$,schema:g,parentSchema:m,it:E}=_,P=p.macro.call(E.self,g,m,E),O=d(w,$,P);E.opts.validateSchema!==!1&&E.self.validateSchema(P,!0);const T=w.name("valid");_.subschema({schema:P,schemaPath:e.nil,errSchemaPath:`${E.errSchemaPath}/${$}`,topSchemaRef:O,compositeRule:!0},T),_.pass(T,()=>_.error(!0))}ut.macroKeywordCode=s;function a(_,p){var w;const{gen:$,keyword:g,schema:m,parentSchema:E,$data:P,it:O}=_;c(O,p);const T=!P&&p.compile?p.compile.call(O.self,m,E,O):p.validate,H=d($,g,T),Z=$.let("valid");_.block$data(Z,me),_.ok((w=p.valid)!==null&&w!==void 0?w:Z);function me(){if(p.errors===!1)K(),p.modifying&&o(_),x(()=>_.error());else{const ee=p.async?$e():we();p.modifying&&o(_),x(()=>i(_,ee))}}function $e(){const ee=$.let("ruleErrs",null);return $.try(()=>K((0,e._)`await `),j=>$.assign(Z,!1).if((0,e._)`${j} instanceof ${O.ValidationError}`,()=>$.assign(ee,(0,e._)`${j}.errors`),()=>$.throw(j))),ee}function we(){const ee=(0,e._)`${H}.errors`;return $.assign(ee,null),K(e.nil),ee}function K(ee=p.async?(0,e._)`await `:e.nil){const j=O.opts.passContext?t.default.this:t.default.self,D=!("compile"in p&&!P||p.schema===!1);$.assign(Z,(0,e._)`${ee}${(0,r.callValidateCode)(_,H,j,D)}`,p.modifying)}function x(ee){var j;$.if((0,e.not)((j=p.valid)!==null&&j!==void 0?j:Z),ee)}}ut.funcKeywordCode=a;function o(_){const{gen:p,data:w,it:$}=_;p.if($.parentData,()=>p.assign(w,(0,e._)`${$.parentData}[${$.parentDataProperty}]`))}function i(_,p){const{gen:w}=_;w.if((0,e._)`Array.isArray(${p})`,()=>{w.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${p} : ${t.default.vErrors}.concat(${p})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(_)},()=>_.error())}function c({schemaEnv:_},p){if(p.async&&!_.$async)throw new Error("async keyword in sync schema")}function d(_,p,w){if(w===void 0)throw new Error(`keyword "${p}" failed to compile`);return _.scopeValue("keyword",typeof w=="function"?{ref:w}:{ref:w,code:(0,e.stringify)(w)})}function u(_,p,w=!1){return!p.length||p.some($=>$==="array"?Array.isArray(_):$==="object"?_&&typeof _=="object"&&!Array.isArray(_):typeof _==$||w&&typeof _>"u")}ut.validSchemaType=u;function f({schema:_,opts:p,self:w,errSchemaPath:$},g,m){if(Array.isArray(g.keyword)?!g.keyword.includes(m):g.keyword!==m)throw new Error("ajv implementation error");const E=g.dependencies;if(E!=null&&E.some(P=>!Object.prototype.hasOwnProperty.call(_,P)))throw new Error(`parent schema must have dependencies of ${m}: ${E.join(",")}`);if(g.validateSchema&&!g.validateSchema(_[m])){const O=`keyword "${m}" value is invalid at path "${$}": `+w.errorsText(g.validateSchema.errors);if(p.validateSchema==="log")w.logger.error(O);else throw new Error(O)}}return ut.validateKeywordUsage=f,ut}var Dt={},xi;function Uf(){if(xi)return Dt;xi=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.extendSubschemaMode=Dt.extendSubschemaData=Dt.getSubschema=void 0;const e=ie,t=L;function r(a,{keyword:o,schemaProp:i,schema:c,schemaPath:d,errSchemaPath:u,topSchemaRef:f}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const _=a.schema[o];return i===void 0?{schema:_,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${o}`}:{schema:_[i],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(i)}`,errSchemaPath:`${a.errSchemaPath}/${o}/${(0,t.escapeFragment)(i)}`}}if(c!==void 0){if(d===void 0||u===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:d,topSchemaRef:f,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}Dt.getSubschema=r;function n(a,o,{dataProp:i,dataPropType:c,data:d,dataTypes:u,propertyName:f}){if(d!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:_}=o;if(i!==void 0){const{errorPath:w,dataPathArr:$,opts:g}=o,m=_.let("data",(0,e._)`${o.data}${(0,e.getProperty)(i)}`,!0);p(m),a.errorPath=(0,e.str)`${w}${(0,t.getErrorPath)(i,c,g.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${i}`,a.dataPathArr=[...$,a.parentDataProperty]}if(d!==void 0){const w=d instanceof e.Name?d:_.let("data",d,!0);p(w),f!==void 0&&(a.propertyName=f)}u&&(a.dataTypes=u);function p(w){a.data=w,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,w]}}Dt.extendSubschemaData=n;function s(a,{jtdDiscriminator:o,jtdMetadata:i,compositeRule:c,createErrors:d,allErrors:u}){c!==void 0&&(a.compositeRule=c),d!==void 0&&(a.createErrors=d),u!==void 0&&(a.allErrors=u),a.jtdDiscriminator=o,a.jtdMetadata=i}return Dt.extendSubschemaMode=s,Dt}var Le={},vs=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Ll={exports:{}},Zt=Ll.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Bn(t,n,s,e,"",e)};Zt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Zt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Zt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Zt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Bn(e,t,r,n,s,a,o,i,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,i,c,d);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in Zt.arrayKeywords)for(var _=0;_<f.length;_++)Bn(e,t,r,f[_],s+"/"+u+"/"+_,a,s,u,n,_)}else if(u in Zt.propsKeywords){if(f&&typeof f=="object")for(var p in f)Bn(e,t,r,f[p],s+"/"+u+"/"+qf(p),a,s,u,n,p)}else(u in Zt.keywords||e.allKeys&&!(u in Zt.skipKeywords))&&Bn(e,t,r,f,s+"/"+u,a,s,u,n)}r(n,s,a,o,i,c,d)}}function qf(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Gf=Ll.exports;Object.defineProperty(Le,"__esModule",{value:!0});Le.getSchemaRefs=Le.resolveUrl=Le.normalizeId=Le._getFullPath=Le.getFullPath=Le.inlineRef=void 0;const Kf=L,Hf=vs,Wf=Gf,Bf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Yf(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ga(e):t?zl(e)<=t:!1}Le.inlineRef=Yf;const Jf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ga(e){for(const t in e){if(Jf.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(ga)||typeof r=="object"&&ga(r))return!0}return!1}function zl(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Bf.has(r)&&(typeof e[r]=="object"&&(0,Kf.eachItem)(e[r],n=>t+=zl(n)),t===1/0))return 1/0}return t}function Vl(e,t="",r){r!==!1&&(t=Tr(t));const n=e.parse(t);return Ul(e,n)}Le.getFullPath=Vl;function Ul(e,t){return e.serialize(t).split("#")[0]+"#"}Le._getFullPath=Ul;const Xf=/#\/?$/;function Tr(e){return e?e.replace(Xf,""):""}Le.normalizeId=Tr;function xf(e,t,r){return r=Tr(r),e.resolve(t,r)}Le.resolveUrl=xf;const Zf=/^[a-z_][-a-z0-9._]*$/i;function Qf(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Tr(e[r]||t),a={"":s},o=Vl(n,s,!1),i={},c=new Set;return Wf(e,{allKeys:!0},(f,_,p,w)=>{if(w===void 0)return;const $=o+_;let g=a[w];typeof f[r]=="string"&&(g=m.call(this,f[r])),E.call(this,f.$anchor),E.call(this,f.$dynamicAnchor),a[_]=g;function m(P){const O=this.opts.uriResolver.resolve;if(P=Tr(g?O(g,P):P),c.has(P))throw u(P);c.add(P);let T=this.refs[P];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?d(f,T.schema,P):P!==Tr($)&&(P[0]==="#"?(d(f,i[P],P),i[P]=f):this.refs[P]=$),P}function E(P){if(typeof P=="string"){if(!Zf.test(P))throw new Error(`invalid anchor "${P}"`);m.call(this,`#${P}`)}}}),i;function d(f,_,p){if(_!==void 0&&!Hf(f,_))throw u(p)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Le.getSchemaRefs=Qf;var Zi;function ws(){if(Zi)return kt;Zi=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.getData=kt.KeywordCxt=kt.validateFunctionCode=void 0;const e=hf(),t=Ie,r=Al(),n=Ie,s=Of(),a=Vf(),o=Uf(),i=ie,c=at,d=Le,u=L,f=$n;function _(N){if(T(N)&&(Z(N),O(N))){g(N);return}p(N,()=>(0,e.topBoolOrEmptySchema)(N))}kt.validateFunctionCode=_;function p({gen:N,validateName:I,schema:C,schemaEnv:M,opts:B},ae){B.code.es5?N.func(I,(0,i._)`${c.default.data}, ${c.default.valCxt}`,M.$async,()=>{N.code((0,i._)`"use strict"; ${E(C,B)}`),$(N,B),N.code(ae)}):N.func(I,(0,i._)`${c.default.data}, ${w(B)}`,M.$async,()=>N.code(E(C,B)).code(ae))}function w(N){return(0,i._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${N.dynamicRef?(0,i._)`, ${c.default.dynamicAnchors}={}`:i.nil}}={}`}function $(N,I){N.if(c.default.valCxt,()=>{N.var(c.default.instancePath,(0,i._)`${c.default.valCxt}.${c.default.instancePath}`),N.var(c.default.parentData,(0,i._)`${c.default.valCxt}.${c.default.parentData}`),N.var(c.default.parentDataProperty,(0,i._)`${c.default.valCxt}.${c.default.parentDataProperty}`),N.var(c.default.rootData,(0,i._)`${c.default.valCxt}.${c.default.rootData}`),I.dynamicRef&&N.var(c.default.dynamicAnchors,(0,i._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{N.var(c.default.instancePath,(0,i._)`""`),N.var(c.default.parentData,(0,i._)`undefined`),N.var(c.default.parentDataProperty,(0,i._)`undefined`),N.var(c.default.rootData,c.default.data),I.dynamicRef&&N.var(c.default.dynamicAnchors,(0,i._)`{}`)})}function g(N){const{schema:I,opts:C,gen:M}=N;p(N,()=>{C.$comment&&I.$comment&&ee(N),we(N),M.let(c.default.vErrors,null),M.let(c.default.errors,0),C.unevaluated&&m(N),me(N),j(N)})}function m(N){const{gen:I,validateName:C}=N;N.evaluated=I.const("evaluated",(0,i._)`${C}.evaluated`),I.if((0,i._)`${N.evaluated}.dynamicProps`,()=>I.assign((0,i._)`${N.evaluated}.props`,(0,i._)`undefined`)),I.if((0,i._)`${N.evaluated}.dynamicItems`,()=>I.assign((0,i._)`${N.evaluated}.items`,(0,i._)`undefined`))}function E(N,I){const C=typeof N=="object"&&N[I.schemaId];return C&&(I.code.source||I.code.process)?(0,i._)`/*# sourceURL=${C} */`:i.nil}function P(N,I){if(T(N)&&(Z(N),O(N))){H(N,I);return}(0,e.boolOrEmptySchema)(N,I)}function O({schema:N,self:I}){if(typeof N=="boolean")return!N;for(const C in N)if(I.RULES.all[C])return!0;return!1}function T(N){return typeof N.schema!="boolean"}function H(N,I){const{schema:C,gen:M,opts:B}=N;B.$comment&&C.$comment&&ee(N),K(N),x(N);const ae=M.const("_errs",c.default.errors);me(N,ae),M.var(I,(0,i._)`${ae} === ${c.default.errors}`)}function Z(N){(0,u.checkUnknownRules)(N),$e(N)}function me(N,I){if(N.opts.jtd)return q(N,[],!1,I);const C=(0,t.getSchemaTypes)(N.schema),M=(0,t.coerceAndCheckDataType)(N,C);q(N,C,!M,I)}function $e(N){const{schema:I,errSchemaPath:C,opts:M,self:B}=N;I.$ref&&M.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(I,B.RULES)&&B.logger.warn(`$ref: keywords ignored in schema at path "${C}"`)}function we(N){const{schema:I,opts:C}=N;I.default!==void 0&&C.useDefaults&&C.strictSchema&&(0,u.checkStrictMode)(N,"default is ignored in the schema root")}function K(N){const I=N.schema[N.opts.schemaId];I&&(N.baseId=(0,d.resolveUrl)(N.opts.uriResolver,N.baseId,I))}function x(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function ee({gen:N,schemaEnv:I,schema:C,errSchemaPath:M,opts:B}){const ae=C.$comment;if(B.$comment===!0)N.code((0,i._)`${c.default.self}.logger.log(${ae})`);else if(typeof B.$comment=="function"){const Se=(0,i.str)`${M}/$comment`,We=N.scopeValue("root",{ref:I.root});N.code((0,i._)`${c.default.self}.opts.$comment(${ae}, ${Se}, ${We}.schema)`)}}function j(N){const{gen:I,schemaEnv:C,validateName:M,ValidationError:B,opts:ae}=N;C.$async?I.if((0,i._)`${c.default.errors} === 0`,()=>I.return(c.default.data),()=>I.throw((0,i._)`new ${B}(${c.default.vErrors})`)):(I.assign((0,i._)`${M}.errors`,c.default.vErrors),ae.unevaluated&&D(N),I.return((0,i._)`${c.default.errors} === 0`))}function D({gen:N,evaluated:I,props:C,items:M}){C instanceof i.Name&&N.assign((0,i._)`${I}.props`,C),M instanceof i.Name&&N.assign((0,i._)`${I}.items`,M)}function q(N,I,C,M){const{gen:B,schema:ae,data:Se,allErrors:We,opts:je,self:Ae}=N,{RULES:Pe}=Ae;if(ae.$ref&&(je.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(ae,Pe))){B.block(()=>A(N,"$ref",Pe.all.$ref.definition));return}je.jtd||J(N,I),B.block(()=>{for(const Ve of Pe.rules)bt(Ve);bt(Pe.post)});function bt(Ve){(0,r.shouldUseGroup)(ae,Ve)&&(Ve.type?(B.if((0,n.checkDataType)(Ve.type,Se,je.strictNumbers)),z(N,Ve),I.length===1&&I[0]===Ve.type&&C&&(B.else(),(0,n.reportTypeError)(N)),B.endIf()):z(N,Ve),We||B.if((0,i._)`${c.default.errors} === ${M||0}`))}}function z(N,I){const{gen:C,schema:M,opts:{useDefaults:B}}=N;B&&(0,s.assignDefaults)(N,I.type),C.block(()=>{for(const ae of I.rules)(0,r.shouldUseRule)(M,ae)&&A(N,ae.keyword,ae.definition,I.type)})}function J(N,I){N.schemaEnv.meta||!N.opts.strictTypes||(U(N,I),N.opts.allowUnionTypes||R(N,I),y(N,N.dataTypes))}function U(N,I){if(I.length){if(!N.dataTypes.length){N.dataTypes=I;return}I.forEach(C=>{v(N.dataTypes,C)||h(N,`type "${C}" not allowed by context "${N.dataTypes.join(",")}"`)}),l(N,I)}}function R(N,I){I.length>1&&!(I.length===2&&I.includes("null"))&&h(N,"use allowUnionTypes to allow union type keyword")}function y(N,I){const C=N.self.RULES.all;for(const M in C){const B=C[M];if(typeof B=="object"&&(0,r.shouldUseRule)(N.schema,B)){const{type:ae}=B.definition;ae.length&&!ae.some(Se=>S(I,Se))&&h(N,`missing type "${ae.join(",")}" for keyword "${M}"`)}}}function S(N,I){return N.includes(I)||I==="number"&&N.includes("integer")}function v(N,I){return N.includes(I)||I==="integer"&&N.includes("number")}function l(N,I){const C=[];for(const M of N.dataTypes)v(I,M)?C.push(M):I.includes("integer")&&M==="number"&&C.push("integer");N.dataTypes=C}function h(N,I){const C=N.schemaEnv.baseId+N.errSchemaPath;I+=` at "${C}" (strictTypes)`,(0,u.checkStrictMode)(N,I,N.opts.strictTypes)}class b{constructor(I,C,M){if((0,a.validateKeywordUsage)(I,C,M),this.gen=I.gen,this.allErrors=I.allErrors,this.keyword=M,this.data=I.data,this.schema=I.schema[M],this.$data=C.$data&&I.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(I,this.schema,M,this.$data),this.schemaType=C.schemaType,this.parentSchema=I.schema,this.params={},this.it=I,this.def=C,this.$data)this.schemaCode=I.gen.const("vSchema",G(this.$data,I));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,C.schemaType,C.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(C.schemaType)}`);("code"in C?C.trackErrors:C.errors!==!1)&&(this.errsCount=I.gen.const("_errs",c.default.errors))}result(I,C,M){this.failResult((0,i.not)(I),C,M)}failResult(I,C,M){this.gen.if(I),M?M():this.error(),C?(this.gen.else(),C(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(I,C){this.failResult((0,i.not)(I),void 0,C)}fail(I){if(I===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(I),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(I){if(!this.$data)return this.fail(I);const{schemaCode:C}=this;this.fail((0,i._)`${C} !== undefined && (${(0,i.or)(this.invalid$data(),I)})`)}error(I,C,M){if(C){this.setParams(C),this._error(I,M),this.setParams({});return}this._error(I,M)}_error(I,C){(I?f.reportExtraError:f.reportError)(this,this.def.error,C)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(I){this.allErrors||this.gen.if(I)}setParams(I,C){C?Object.assign(this.params,I):this.params=I}block$data(I,C,M=i.nil){this.gen.block(()=>{this.check$data(I,M),C()})}check$data(I=i.nil,C=i.nil){if(!this.$data)return;const{gen:M,schemaCode:B,schemaType:ae,def:Se}=this;M.if((0,i.or)((0,i._)`${B} === undefined`,C)),I!==i.nil&&M.assign(I,!0),(ae.length||Se.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),I!==i.nil&&M.assign(I,!1)),M.else()}invalid$data(){const{gen:I,schemaCode:C,schemaType:M,def:B,it:ae}=this;return(0,i.or)(Se(),We());function Se(){if(M.length){if(!(C instanceof i.Name))throw new Error("ajv implementation error");const je=Array.isArray(M)?M:[M];return(0,i._)`${(0,n.checkDataTypes)(je,C,ae.opts.strictNumbers,n.DataType.Wrong)}`}return i.nil}function We(){if(B.validateSchema){const je=I.scopeValue("validate$data",{ref:B.validateSchema});return(0,i._)`!${je}(${C})`}return i.nil}}subschema(I,C){const M=(0,o.getSubschema)(this.it,I);(0,o.extendSubschemaData)(M,this.it,I),(0,o.extendSubschemaMode)(M,I);const B={...this.it,...M,items:void 0,props:void 0};return P(B,C),B}mergeEvaluated(I,C){const{it:M,gen:B}=this;M.opts.unevaluated&&(M.props!==!0&&I.props!==void 0&&(M.props=u.mergeEvaluated.props(B,I.props,M.props,C)),M.items!==!0&&I.items!==void 0&&(M.items=u.mergeEvaluated.items(B,I.items,M.items,C)))}mergeValidEvaluated(I,C){const{it:M,gen:B}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return B.if(C,()=>this.mergeEvaluated(I,i.Name)),!0}}kt.KeywordCxt=b;function A(N,I,C,M){const B=new b(N,C,I);"code"in C?C.code(B,M):B.$data&&C.validate?(0,a.funcKeywordCode)(B,C):"macro"in C?(0,a.macroKeywordCode)(B,C):(C.compile||C.validate)&&(0,a.funcKeywordCode)(B,C)}const k=/^\/(?:[^~]|~0|~1)*$/,W=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function G(N,{dataLevel:I,dataNames:C,dataPathArr:M}){let B,ae;if(N==="")return c.default.rootData;if(N[0]==="/"){if(!k.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);B=N,ae=c.default.rootData}else{const Ae=W.exec(N);if(!Ae)throw new Error(`Invalid JSON-pointer: ${N}`);const Pe=+Ae[1];if(B=Ae[2],B==="#"){if(Pe>=I)throw new Error(je("property/index",Pe));return M[I-Pe]}if(Pe>I)throw new Error(je("data",Pe));if(ae=C[I-Pe],!B)return ae}let Se=ae;const We=B.split("/");for(const Ae of We)Ae&&(ae=(0,i._)`${ae}${(0,i.getProperty)((0,u.unescapeJsonPointer)(Ae))}`,Se=(0,i._)`${Se} && ${ae}`);return Se;function je(Ae,Pe){return`Cannot access ${Ae} ${Pe} levels up, current level is ${I}`}}return kt.getData=G,kt}var _n={};Object.defineProperty(_n,"__esModule",{value:!0});class eh extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}_n.default=eh;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const Hs=Le;class th extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Hs.resolveUrl)(t,r,n),this.missingSchema=(0,Hs.normalizeId)((0,Hs.getFullPath)(t,this.missingRef))}}Lr.default=th;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.resolveSchema=Ye.getCompilingSchema=Ye.resolveRef=Ye.compileSchema=Ye.SchemaEnv=void 0;const dt=ie,rh=_n,or=at,_t=Le,Qi=L,nh=ws();let Es=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,_t.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Ye.SchemaEnv=Es;function Ya(e){const t=ql.call(this,e);if(t)return t;const r=(0,_t.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new dt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let i;e.$async&&(i=o.scopeValue("Error",{ref:rh.default,code:(0,dt._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const d={gen:o,allErrors:this.opts.allErrors,data:or.default.data,parentData:or.default.parentData,parentDataProperty:or.default.parentDataProperty,dataNames:[or.default.data],dataPathArr:[dt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,dt.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:i,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:dt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,dt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,nh.validateFunctionCode)(d),o.optimize(this.opts.code.optimize);const f=o.toString();u=`${o.scopeRefs(or.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const p=new Function(`${or.default.self}`,`${or.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:w,items:$}=d;p.evaluated={props:w instanceof dt.Name?void 0:w,items:$ instanceof dt.Name?void 0:$,dynamicProps:w instanceof dt.Name,dynamicItems:$ instanceof dt.Name},p.source&&(p.source.evaluated=(0,dt.stringify)(p.evaluated))}return e.validate=p,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}Ye.compileSchema=Ya;function sh(e,t,r){var n;r=(0,_t.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=ih.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;o&&(a=new Es({schema:o,schemaId:i,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=ah.call(this,a)}Ye.resolveRef=sh;function ah(e){return(0,_t.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ya.call(this,e)}function ql(e){for(const t of this._compilations)if(oh(t,e))return t}Ye.getCompilingSchema=ql;function oh(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function ih(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||bs.call(this,e,t)}function bs(e,t){const r=this.opts.uriResolver.parse(t),n=(0,_t._getFullPath)(this.opts.uriResolver,r);let s=(0,_t.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Ws.call(this,r,e);const a=(0,_t.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const i=bs.call(this,e,o);return typeof(i==null?void 0:i.schema)!="object"?void 0:Ws.call(this,r,i)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Ya.call(this,o),a===(0,_t.normalizeId)(t)){const{schema:i}=o,{schemaId:c}=this.opts,d=i[c];return d&&(s=(0,_t.resolveUrl)(this.opts.uriResolver,s,d)),new Es({schema:i,schemaId:c,root:e,baseId:s})}return Ws.call(this,r,o)}}Ye.resolveSchema=bs;const ch=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ws(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const i of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Qi.unescapeFragment)(i)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!ch.has(i)&&d&&(t=(0,_t.resolveUrl)(this.opts.uriResolver,t,d))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Qi.schemaHasRulesButRef)(r,this.RULES)){const i=(0,_t.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=bs.call(this,n,i)}const{schemaId:o}=this.opts;if(a=a||new Es({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const lh="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",uh="Meta-schema for $data reference (JSON AnySchema extension proposal)",dh="object",fh=["$data"],hh={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},mh=!1,ph={$id:lh,description:uh,type:dh,required:fh,properties:hh,additionalProperties:mh};var Ja={},Ss={exports:{}};const yh=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),Gl=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function Kl(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const $h=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function ec(e){return e.length=0,!0}function _h(e,t,r){if(e.length){const n=Kl(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function gh(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let a=!1,o=!1,i=_h;for(let c=0;c<e.length;c++){const d=e[c];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(o=!0),!i(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(a=!0),n.push(":");continue}else if(d==="%"){if(!i(s,n,r))break;i=ec}else{s.push(d);continue}}return s.length&&(i===ec?r.zone=s.join(""):o?n.push(s.join("")):n.push(Kl(s))),r.address=n.join(""),r}function Hl(e){if(vh(e,":")<2)return{host:e,isIPV6:!1};const t=gh(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function vh(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function wh(e){let t=e;const r=[];let n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Eh(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function bh(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!Gl(r)){const n=Hl(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var Wl={nonSimpleDomain:$h,recomposeAuthority:bh,normalizeComponentEncoding:Eh,removeDotSegments:wh,isIPv4:Gl,isUUID:yh,normalizeIPv6:Hl};const{isUUID:Sh}=Wl,Ph=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Bl(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function Yl(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function Jl(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Rh(e){return e.secure=Bl(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Nh(e){if((e.port===(Bl(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Oh(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Ph);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,a=Xa(s);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Ih(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=Xa(s);a&&(e=a.serialize(e,t));const o=e,i=e.nss;return o.path=`${n||t.nid}:${i}`,t.skipEscape=!0,o}function Th(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Sh(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function jh(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const Xl={scheme:"http",domainHost:!0,parse:Yl,serialize:Jl},Ah={scheme:"https",domainHost:Xl.domainHost,parse:Yl,serialize:Jl},Yn={scheme:"ws",domainHost:!0,parse:Rh,serialize:Nh},kh={scheme:"wss",domainHost:Yn.domainHost,parse:Yn.parse,serialize:Yn.serialize},Ch={scheme:"urn",parse:Oh,serialize:Ih,skipNormalize:!0},Dh={scheme:"urn:uuid",parse:Th,serialize:jh,skipNormalize:!0},is={http:Xl,https:Ah,ws:Yn,wss:kh,urn:Ch,"urn:uuid":Dh};Object.setPrototypeOf(is,null);function Xa(e){return e&&(is[e]||is[e.toLowerCase()])||void 0}var Mh={SCHEMES:is,getSchemeHandler:Xa};const{normalizeIPv6:Fh,removeDotSegments:en,recomposeAuthority:Lh,normalizeComponentEncoding:Pn,isIPv4:zh,nonSimpleDomain:Vh}=Wl,{SCHEMES:Uh,getSchemeHandler:xl}=Mh;function qh(e,t){return typeof e=="string"?e=Ot(Lt(e,t),t):typeof e=="object"&&(e=Lt(Ot(e,t),t)),e}function Gh(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=Zl(Lt(e,n),Lt(t,n),n,!0);return n.skipEscape=!0,Ot(s,n)}function Zl(e,t,r,n){const s={};return n||(e=Lt(Ot(e,r),r),t=Lt(Ot(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=en(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=en(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=en(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=en(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function Kh(e,t,r){return typeof e=="string"?(e=unescape(e),e=Ot(Pn(Lt(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Ot(Pn(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Ot(Pn(Lt(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Ot(Pn(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Ot(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=xl(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const o=Lh(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let i=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(i=en(i)),o===void 0&&i[0]==="/"&&i[1]==="/"&&(i="/%2F"+i.slice(2)),s.push(i)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const Hh=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Lt(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const a=e.match(Hh);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(zh(n.host)===!1){const c=Fh(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const o=xl(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&Vh(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(i){n.error=n.error||"Host's domain name can not be converted to ASCII: "+i}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const xa={SCHEMES:Uh,normalize:qh,resolve:Gh,resolveComponent:Zl,equal:Kh,serialize:Ot,parse:Lt};Ss.exports=xa;Ss.exports.default=xa;Ss.exports.fastUri=xa;var Ql=Ss.exports;Object.defineProperty(Ja,"__esModule",{value:!0});const eu=Ql;eu.code='require("ajv/dist/runtime/uri").default';Ja.default=eu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ws();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ie;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=_n,s=Lr,a=_r,o=Ye,i=ie,c=Le,d=Ie,u=L,f=ph,_=Ja,p=(R,y)=>new RegExp(R,y);p.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function P(R){var y,S,v,l,h,b,A,k,W,G,N,I,C,M,B,ae,Se,We,je,Ae,Pe,bt,Ve,tr,rr;const lt=R.strict,nr=(y=R.code)===null||y===void 0?void 0:y.optimize,Wr=nr===!0||nr===void 0?1:nr||0,Br=(v=(S=R.code)===null||S===void 0?void 0:S.regExp)!==null&&v!==void 0?v:p,Vs=(l=R.uriResolver)!==null&&l!==void 0?l:_.default;return{strictSchema:(b=(h=R.strictSchema)!==null&&h!==void 0?h:lt)!==null&&b!==void 0?b:!0,strictNumbers:(k=(A=R.strictNumbers)!==null&&A!==void 0?A:lt)!==null&&k!==void 0?k:!0,strictTypes:(G=(W=R.strictTypes)!==null&&W!==void 0?W:lt)!==null&&G!==void 0?G:"log",strictTuples:(I=(N=R.strictTuples)!==null&&N!==void 0?N:lt)!==null&&I!==void 0?I:"log",strictRequired:(M=(C=R.strictRequired)!==null&&C!==void 0?C:lt)!==null&&M!==void 0?M:!1,code:R.code?{...R.code,optimize:Wr,regExp:Br}:{optimize:Wr,regExp:Br},loopRequired:(B=R.loopRequired)!==null&&B!==void 0?B:E,loopEnum:(ae=R.loopEnum)!==null&&ae!==void 0?ae:E,meta:(Se=R.meta)!==null&&Se!==void 0?Se:!0,messages:(We=R.messages)!==null&&We!==void 0?We:!0,inlineRefs:(je=R.inlineRefs)!==null&&je!==void 0?je:!0,schemaId:(Ae=R.schemaId)!==null&&Ae!==void 0?Ae:"$id",addUsedSchema:(Pe=R.addUsedSchema)!==null&&Pe!==void 0?Pe:!0,validateSchema:(bt=R.validateSchema)!==null&&bt!==void 0?bt:!0,validateFormats:(Ve=R.validateFormats)!==null&&Ve!==void 0?Ve:!0,unicodeRegExp:(tr=R.unicodeRegExp)!==null&&tr!==void 0?tr:!0,int32range:(rr=R.int32range)!==null&&rr!==void 0?rr:!0,uriResolver:Vs}}class O{constructor(y={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,y=this.opts={...y,...P(y)};const{es5:S,lines:v}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:$,es5:S,lines:v}),this.logger=x(y.logger);const l=y.validateFormats;y.validateFormats=!1,this.RULES=(0,a.getRules)(),T.call(this,g,y,"NOT SUPPORTED"),T.call(this,m,y,"DEPRECATED","warn"),this._metaOpts=we.call(this),y.formats&&me.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),y.keywords&&$e.call(this,y.keywords),typeof y.meta=="object"&&this.addMetaSchema(y.meta),Z.call(this),y.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:y,meta:S,schemaId:v}=this.opts;let l=f;v==="id"&&(l={...f},l.id=l.$id,delete l.$id),S&&y&&this.addMetaSchema(l,l[v],!1)}defaultMeta(){const{meta:y,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof y=="object"?y[S]||y:void 0}validate(y,S){let v;if(typeof y=="string"){if(v=this.getSchema(y),!v)throw new Error(`no schema with key or ref "${y}"`)}else v=this.compile(y);const l=v(S);return"$async"in v||(this.errors=v.errors),l}compile(y,S){const v=this._addSchema(y,S);return v.validate||this._compileSchemaEnv(v)}compileAsync(y,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:v}=this.opts;return l.call(this,y,S);async function l(G,N){await h.call(this,G.$schema);const I=this._addSchema(G,N);return I.validate||b.call(this,I)}async function h(G){G&&!this.getSchema(G)&&await l.call(this,{$ref:G},!0)}async function b(G){try{return this._compileSchemaEnv(G)}catch(N){if(!(N instanceof s.default))throw N;return A.call(this,N),await k.call(this,N.missingSchema),b.call(this,G)}}function A({missingSchema:G,missingRef:N}){if(this.refs[G])throw new Error(`AnySchema ${G} is loaded but ${N} cannot be resolved`)}async function k(G){const N=await W.call(this,G);this.refs[G]||await h.call(this,N.$schema),this.refs[G]||this.addSchema(N,G,S)}async function W(G){const N=this._loading[G];if(N)return N;try{return await(this._loading[G]=v(G))}finally{delete this._loading[G]}}}addSchema(y,S,v,l=this.opts.validateSchema){if(Array.isArray(y)){for(const b of y)this.addSchema(b,void 0,v,l);return this}let h;if(typeof y=="object"){const{schemaId:b}=this.opts;if(h=y[b],h!==void 0&&typeof h!="string")throw new Error(`schema ${b} must be string`)}return S=(0,c.normalizeId)(S||h),this._checkUnique(S),this.schemas[S]=this._addSchema(y,v,S,l,!0),this}addMetaSchema(y,S,v=this.opts.validateSchema){return this.addSchema(y,S,!0,v),this}validateSchema(y,S){if(typeof y=="boolean")return!0;let v;if(v=y.$schema,v!==void 0&&typeof v!="string")throw new Error("$schema must be a string");if(v=v||this.opts.defaultMeta||this.defaultMeta(),!v)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate(v,y);if(!l&&S){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return l}getSchema(y){let S;for(;typeof(S=H.call(this,y))=="string";)y=S;if(S===void 0){const{schemaId:v}=this.opts,l=new o.SchemaEnv({schema:{},schemaId:v});if(S=o.resolveSchema.call(this,l,y),!S)return;this.refs[y]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(y){if(y instanceof RegExp)return this._removeAllSchemas(this.schemas,y),this._removeAllSchemas(this.refs,y),this;switch(typeof y){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=H.call(this,y);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[y],delete this.refs[y],this}case"object":{const S=y;this._cache.delete(S);let v=y[this.opts.schemaId];return v&&(v=(0,c.normalizeId)(v),delete this.schemas[v],delete this.refs[v]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(y){for(const S of y)this.addKeyword(S);return this}addKeyword(y,S){let v;if(typeof y=="string")v=y,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=v);else if(typeof y=="object"&&S===void 0){if(S=y,v=S.keyword,Array.isArray(v)&&!v.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(j.call(this,v,S),!S)return(0,u.eachItem)(v,h=>D.call(this,h)),this;z.call(this,S);const l={...S,type:(0,d.getJSONTypes)(S.type),schemaType:(0,d.getJSONTypes)(S.schemaType)};return(0,u.eachItem)(v,l.type.length===0?h=>D.call(this,h,l):h=>l.type.forEach(b=>D.call(this,h,l,b))),this}getKeyword(y){const S=this.RULES.all[y];return typeof S=="object"?S.definition:!!S}removeKeyword(y){const{RULES:S}=this;delete S.keywords[y],delete S.all[y];for(const v of S.rules){const l=v.rules.findIndex(h=>h.keyword===y);l>=0&&v.rules.splice(l,1)}return this}addFormat(y,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[y]=S,this}errorsText(y=this.errors,{separator:S=", ",dataVar:v="data"}={}){return!y||y.length===0?"No errors":y.map(l=>`${v}${l.instancePath} ${l.message}`).reduce((l,h)=>l+S+h)}$dataMetaSchema(y,S){const v=this.RULES.all;y=JSON.parse(JSON.stringify(y));for(const l of S){const h=l.split("/").slice(1);let b=y;for(const A of h)b=b[A];for(const A in v){const k=v[A];if(typeof k!="object")continue;const{$data:W}=k.definition,G=b[A];W&&G&&(b[A]=U(G))}}return y}_removeAllSchemas(y,S){for(const v in y){const l=y[v];(!S||S.test(v))&&(typeof l=="string"?delete y[v]:l&&!l.meta&&(this._cache.delete(l.schema),delete y[v]))}}_addSchema(y,S,v,l=this.opts.validateSchema,h=this.opts.addUsedSchema){let b;const{schemaId:A}=this.opts;if(typeof y=="object")b=y[A];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof y!="boolean")throw new Error("schema must be object or boolean")}let k=this._cache.get(y);if(k!==void 0)return k;v=(0,c.normalizeId)(b||v);const W=c.getSchemaRefs.call(this,y,v);return k=new o.SchemaEnv({schema:y,schemaId:A,meta:S,baseId:v,localRefs:W}),this._cache.set(k.schema,k),h&&!v.startsWith("#")&&(v&&this._checkUnique(v),this.refs[v]=k),l&&this.validateSchema(y,!0),k}_checkUnique(y){if(this.schemas[y]||this.refs[y])throw new Error(`schema with key or id "${y}" already exists`)}_compileSchemaEnv(y){if(y.meta?this._compileMetaSchema(y):o.compileSchema.call(this,y),!y.validate)throw new Error("ajv implementation error");return y.validate}_compileMetaSchema(y){const S=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,y)}finally{this.opts=S}}}O.ValidationError=n.default,O.MissingRefError=s.default,e.default=O;function T(R,y,S,v="error"){for(const l in R){const h=l;h in y&&this.logger[v](`${S}: option ${l}. ${R[h]}`)}}function H(R){return R=(0,c.normalizeId)(R),this.schemas[R]||this.refs[R]}function Z(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const y in R)this.addSchema(R[y],y)}function me(){for(const R in this.opts.formats){const y=this.opts.formats[R];y&&this.addFormat(R,y)}}function $e(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const y in R){const S=R[y];S.keyword||(S.keyword=y),this.addKeyword(S)}}function we(){const R={...this.opts};for(const y of w)delete R[y];return R}const K={log(){},warn(){},error(){}};function x(R){if(R===!1)return K;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const ee=/^[a-z_$][a-z0-9_$:-]*$/i;function j(R,y){const{RULES:S}=this;if((0,u.eachItem)(R,v=>{if(S.keywords[v])throw new Error(`Keyword ${v} is already defined`);if(!ee.test(v))throw new Error(`Keyword ${v} has invalid name`)}),!!y&&y.$data&&!("code"in y||"validate"in y))throw new Error('$data keyword must have "code" or "validate" function')}function D(R,y,S){var v;const l=y==null?void 0:y.post;if(S&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let b=l?h.post:h.rules.find(({type:k})=>k===S);if(b||(b={type:S,rules:[]},h.rules.push(b)),h.keywords[R]=!0,!y)return;const A={keyword:R,definition:{...y,type:(0,d.getJSONTypes)(y.type),schemaType:(0,d.getJSONTypes)(y.schemaType)}};y.before?q.call(this,b,A,y.before):b.rules.push(A),h.all[R]=A,(v=y.implements)===null||v===void 0||v.forEach(k=>this.addKeyword(k))}function q(R,y,S){const v=R.rules.findIndex(l=>l.keyword===S);v>=0?R.rules.splice(v,0,y):(R.rules.push(y),this.logger.warn(`rule ${S} is not defined`))}function z(R){let{metaSchema:y}=R;y!==void 0&&(R.$data&&this.opts.$data&&(y=U(y)),R.validateSchema=this.compile(y,!0))}const J={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function U(R){return{anyOf:[R,J]}}})(Rl);var Za={},Qa={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});const Wh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};eo.default=Wh;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.callRef=zt.getValidate=void 0;const Bh=Lr,tc=de,xe=ie,wr=at,rc=Ye,Rn=L,Yh={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:i,self:c}=n,{root:d}=a;if((r==="#"||r==="#/")&&s===d.baseId)return f();const u=rc.resolveRef.call(c,d,s,r);if(u===void 0)throw new Bh.default(n.opts.uriResolver,s,r);if(u instanceof rc.SchemaEnv)return _(u);return p(u);function f(){if(a===d)return Jn(e,o,a,a.$async);const w=t.scopeValue("root",{ref:d});return Jn(e,(0,xe._)`${w}.validate`,d,d.$async)}function _(w){const $=tu(e,w);Jn(e,$,w,w.$async)}function p(w){const $=t.scopeValue("schema",i.code.source===!0?{ref:w,code:(0,xe.stringify)(w)}:{ref:w}),g=t.name("valid"),m=e.subschema({schema:w,dataTypes:[],schemaPath:xe.nil,topSchemaRef:$,errSchemaPath:r},g);e.mergeEvaluated(m),e.ok(g)}}};function tu(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,xe._)`${r.scopeValue("wrapper",{ref:t})}.validate`}zt.getValidate=tu;function Jn(e,t,r,n){const{gen:s,it:a}=e,{allErrors:o,schemaEnv:i,opts:c}=a,d=c.passContext?wr.default.this:xe.nil;n?u():f();function u(){if(!i.$async)throw new Error("async schema referenced by sync schema");const w=s.let("valid");s.try(()=>{s.code((0,xe._)`await ${(0,tc.callValidateCode)(e,t,d)}`),p(t),o||s.assign(w,!0)},$=>{s.if((0,xe._)`!(${$} instanceof ${a.ValidationError})`,()=>s.throw($)),_($),o||s.assign(w,!1)}),e.ok(w)}function f(){e.result((0,tc.callValidateCode)(e,t,d),()=>p(t),()=>_(t))}function _(w){const $=(0,xe._)`${w}.errors`;s.assign(wr.default.vErrors,(0,xe._)`${wr.default.vErrors} === null ? ${$} : ${wr.default.vErrors}.concat(${$})`),s.assign(wr.default.errors,(0,xe._)`${wr.default.vErrors}.length`)}function p(w){var $;if(!a.opts.unevaluated)return;const g=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(a.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(a.props=Rn.mergeEvaluated.props(s,g.props,a.props));else{const m=s.var("props",(0,xe._)`${w}.evaluated.props`);a.props=Rn.mergeEvaluated.props(s,m,a.props,xe.Name)}if(a.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(a.items=Rn.mergeEvaluated.items(s,g.items,a.items));else{const m=s.var("items",(0,xe._)`${w}.evaluated.items`);a.items=Rn.mergeEvaluated.items(s,m,a.items,xe.Name)}}}zt.callRef=Jn;zt.default=Yh;Object.defineProperty(Qa,"__esModule",{value:!0});const Jh=eo,Xh=zt,xh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Jh.default,Xh.default];Qa.default=xh;var to={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});const cs=ie,Kt=cs.operators,ls={maximum:{okStr:"<=",ok:Kt.LTE,fail:Kt.GT},minimum:{okStr:">=",ok:Kt.GTE,fail:Kt.LT},exclusiveMaximum:{okStr:"<",ok:Kt.LT,fail:Kt.GTE},exclusiveMinimum:{okStr:">",ok:Kt.GT,fail:Kt.LTE}},Zh={message:({keyword:e,schemaCode:t})=>(0,cs.str)`must be ${ls[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,cs._)`{comparison: ${ls[e].okStr}, limit: ${t}}`},Qh={keyword:Object.keys(ls),type:"number",schemaType:"number",$data:!0,error:Zh,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,cs._)`${r} ${ls[t].fail} ${n} || isNaN(${r})`)}};ro.default=Qh;var no={};Object.defineProperty(no,"__esModule",{value:!0});const nn=ie,em={message:({schemaCode:e})=>(0,nn.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,nn._)`{multipleOf: ${e}}`},tm={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:em,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),i=a?(0,nn._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,nn._)`${o} !== parseInt(${o})`;e.fail$data((0,nn._)`(${n} === 0 || (${o} = ${r}/${n}, ${i}))`)}};no.default=tm;var so={},ao={};Object.defineProperty(ao,"__esModule",{value:!0});function ru(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}ao.default=ru;ru.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(so,"__esModule",{value:!0});const cr=ie,rm=L,nm=ao,sm={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,cr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,cr._)`{limit: ${e}}`},am={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:sm,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?cr.operators.GT:cr.operators.LT,o=s.opts.unicode===!1?(0,cr._)`${r}.length`:(0,cr._)`${(0,rm.useFunc)(e.gen,nm.default)}(${r})`;e.fail$data((0,cr._)`${o} ${a} ${n}`)}};so.default=am;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});const om=de,us=ie,im={message:({schemaCode:e})=>(0,us.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,us._)`{pattern: ${e}}`},cm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:im,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",i=r?(0,us._)`(new RegExp(${s}, ${o}))`:(0,om.usePattern)(e,n);e.fail$data((0,us._)`!${i}.test(${t})`)}};oo.default=cm;var io={};Object.defineProperty(io,"__esModule",{value:!0});const sn=ie,lm={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,sn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,sn._)`{limit: ${e}}`},um={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:lm,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?sn.operators.GT:sn.operators.LT;e.fail$data((0,sn._)`Object.keys(${r}).length ${s} ${n}`)}};io.default=um;var co={};Object.defineProperty(co,"__esModule",{value:!0});const Xr=de,an=ie,dm=L,fm={message:({params:{missingProperty:e}})=>(0,an.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,an._)`{missingProperty: ${e}}`},hm={keyword:"required",type:"object",schemaType:"array",$data:!0,error:fm,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:i}=o;if(!a&&r.length===0)return;const c=r.length>=i.loopRequired;if(o.allErrors?d():u(),i.strictRequired){const p=e.parentSchema.properties,{definedProperties:w}=e.it;for(const $ of r)if((p==null?void 0:p[$])===void 0&&!w.has($)){const g=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${$}" is not defined at "${g}" (strictRequired)`;(0,dm.checkStrictMode)(o,m,o.opts.strictRequired)}}function d(){if(c||a)e.block$data(an.nil,f);else for(const p of r)(0,Xr.checkReportMissingProp)(e,p)}function u(){const p=t.let("missing");if(c||a){const w=t.let("valid",!0);e.block$data(w,()=>_(p,w)),e.ok(w)}else t.if((0,Xr.checkMissingProp)(e,r,p)),(0,Xr.reportMissingProp)(e,p),t.else()}function f(){t.forOf("prop",n,p=>{e.setParams({missingProperty:p}),t.if((0,Xr.noPropertyInData)(t,s,p,i.ownProperties),()=>e.error())})}function _(p,w){e.setParams({missingProperty:p}),t.forOf(p,n,()=>{t.assign(w,(0,Xr.propertyInData)(t,s,p,i.ownProperties)),t.if((0,an.not)(w),()=>{e.error(),t.break()})},an.nil)}}};co.default=hm;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});const on=ie,mm={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,on.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,on._)`{limit: ${e}}`},pm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:mm,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?on.operators.GT:on.operators.LT;e.fail$data((0,on._)`${r}.length ${s} ${n}`)}};lo.default=pm;var uo={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});const nu=vs;nu.code='require("ajv/dist/runtime/equal").default';gn.default=nu;Object.defineProperty(uo,"__esModule",{value:!0});const Bs=Ie,De=ie,ym=L,$m=gn,_m={message:({params:{i:e,j:t}})=>(0,De.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,De._)`{i: ${e}, j: ${t}}`},gm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:_m,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:i}=e;if(!n&&!s)return;const c=t.let("valid"),d=a.items?(0,Bs.getSchemaTypes)(a.items):[];e.block$data(c,u,(0,De._)`${o} === false`),e.ok(c);function u(){const w=t.let("i",(0,De._)`${r}.length`),$=t.let("j");e.setParams({i:w,j:$}),t.assign(c,!0),t.if((0,De._)`${w} > 1`,()=>(f()?_:p)(w,$))}function f(){return d.length>0&&!d.some(w=>w==="object"||w==="array")}function _(w,$){const g=t.name("item"),m=(0,Bs.checkDataTypes)(d,g,i.opts.strictNumbers,Bs.DataType.Wrong),E=t.const("indices",(0,De._)`{}`);t.for((0,De._)`;${w}--;`,()=>{t.let(g,(0,De._)`${r}[${w}]`),t.if(m,(0,De._)`continue`),d.length>1&&t.if((0,De._)`typeof ${g} == "string"`,(0,De._)`${g} += "_"`),t.if((0,De._)`typeof ${E}[${g}] == "number"`,()=>{t.assign($,(0,De._)`${E}[${g}]`),e.error(),t.assign(c,!1).break()}).code((0,De._)`${E}[${g}] = ${w}`)})}function p(w,$){const g=(0,ym.useFunc)(t,$m.default),m=t.name("outer");t.label(m).for((0,De._)`;${w}--;`,()=>t.for((0,De._)`${$} = ${w}; ${$}--;`,()=>t.if((0,De._)`${g}(${r}[${w}], ${r}[${$}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};uo.default=gm;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});const va=ie,vm=L,wm=gn,Em={message:"must be equal to constant",params:({schemaCode:e})=>(0,va._)`{allowedValue: ${e}}`},bm={keyword:"const",$data:!0,error:Em,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,va._)`!${(0,vm.useFunc)(t,wm.default)}(${r}, ${s})`):e.fail((0,va._)`${a} !== ${r}`)}};fo.default=bm;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});const tn=ie,Sm=L,Pm=gn,Rm={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,tn._)`{allowedValues: ${e}}`},Nm={keyword:"enum",schemaType:"array",$data:!0,error:Rm,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const i=s.length>=o.opts.loopEnum;let c;const d=()=>c??(c=(0,Sm.useFunc)(t,Pm.default));let u;if(i||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const p=t.const("vSchema",a);u=(0,tn.or)(...s.map((w,$)=>_(p,$)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",a,p=>t.if((0,tn._)`${d()}(${r}, ${p})`,()=>t.assign(u,!0).break()))}function _(p,w){const $=s[w];return typeof $=="object"&&$!==null?(0,tn._)`${d()}(${r}, ${p}[${w}])`:(0,tn._)`${r} === ${$}`}}};ho.default=Nm;Object.defineProperty(to,"__esModule",{value:!0});const Om=ro,Im=no,Tm=so,jm=oo,Am=io,km=co,Cm=lo,Dm=uo,Mm=fo,Fm=ho,Lm=[Om.default,Im.default,Tm.default,jm.default,Am.default,km.default,Cm.default,Dm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Mm.default,Fm.default];to.default=Lm;var mo={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.validateAdditionalItems=void 0;const lr=ie,wa=L,zm={message:({params:{len:e}})=>(0,lr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,lr._)`{limit: ${e}}`},Vm={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:zm,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,wa.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}su(e,n)}};function su(e,t){const{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;const i=r.const("len",(0,lr._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,lr._)`${i} <= ${t.length}`);else if(typeof n=="object"&&!(0,wa.alwaysValidSchema)(o,n)){const d=r.var("valid",(0,lr._)`${i} <= ${t.length}`);r.if((0,lr.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,i,u=>{e.subschema({keyword:a,dataProp:u,dataPropType:wa.Type.Num},d),o.allErrors||r.if((0,lr.not)(d),()=>r.break())})}}zr.validateAdditionalItems=su;zr.default=Vm;var po={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.validateTuple=void 0;const nc=ie,Xn=L,Um=de,qm={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return au(e,"additionalItems",t);r.items=!0,!(0,Xn.alwaysValidSchema)(r,t)&&e.ok((0,Um.validateArray)(e))}};function au(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:i}=e;u(s),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=Xn.mergeEvaluated.items(n,r.length,i.items));const c=n.name("valid"),d=n.const("len",(0,nc._)`${a}.length`);r.forEach((f,_)=>{(0,Xn.alwaysValidSchema)(i,f)||(n.if((0,nc._)`${d} > ${_}`,()=>e.subschema({keyword:o,schemaProp:_,dataProp:_},c)),e.ok(c))});function u(f){const{opts:_,errSchemaPath:p}=i,w=r.length,$=w===f.minItems&&(w===f.maxItems||f[t]===!1);if(_.strictTuples&&!$){const g=`"${o}" is ${w}-tuple, but minItems or maxItems/${t} are not specified or different at path "${p}"`;(0,Xn.checkStrictMode)(i,g,_.strictTuples)}}}Vr.validateTuple=au;Vr.default=qm;Object.defineProperty(po,"__esModule",{value:!0});const Gm=Vr,Km={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Gm.validateTuple)(e,"items")};po.default=Km;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});const sc=ie,Hm=L,Wm=de,Bm=zr,Ym={message:({params:{len:e}})=>(0,sc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,sc._)`{limit: ${e}}`},Jm={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ym,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Hm.alwaysValidSchema)(n,t)&&(s?(0,Bm.validateAdditionalItems)(e,s):e.ok((0,Wm.validateArray)(e)))}};yo.default=Jm;var $o={};Object.defineProperty($o,"__esModule",{value:!0});const it=ie,Nn=L,Xm={message:({params:{min:e,max:t}})=>t===void 0?(0,it.str)`must contain at least ${e} valid item(s)`:(0,it.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,it._)`{minContains: ${e}}`:(0,it._)`{minContains: ${e}, maxContains: ${t}}`},xm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Xm,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let o,i;const{minContains:c,maxContains:d}=n;a.opts.next?(o=c===void 0?1:c,i=d):o=1;const u=t.const("len",(0,it._)`${s}.length`);if(e.setParams({min:o,max:i}),i===void 0&&o===0){(0,Nn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&o>i){(0,Nn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Nn.alwaysValidSchema)(a,r)){let $=(0,it._)`${u} >= ${o}`;i!==void 0&&($=(0,it._)`${$} && ${u} <= ${i}`),e.pass($);return}a.items=!0;const f=t.name("valid");i===void 0&&o===1?p(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),i!==void 0&&t.if((0,it._)`${s}.length > 0`,_)):(t.let(f,!1),_()),e.result(f,()=>e.reset());function _(){const $=t.name("_valid"),g=t.let("count",0);p($,()=>t.if($,()=>w(g)))}function p($,g){t.forRange("i",0,u,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Nn.Type.Num,compositeRule:!0},$),g()})}function w($){t.code((0,it._)`${$}++`),i===void 0?t.if((0,it._)`${$} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,it._)`${$} > ${i}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,it._)`${$} >= ${o}`,()=>t.assign(f,!0)))}}};$o.default=xm;var Ps={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ie,r=L,n=de;e.error={message:({params:{property:c,depsCount:d,deps:u}})=>{const f=d===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${d},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,u]=a(c);o(c,d),i(c,u)}};function a({schema:c}){const d={},u={};for(const f in c){if(f==="__proto__")continue;const _=Array.isArray(c[f])?d:u;_[f]=c[f]}return[d,u]}function o(c,d=c.schema){const{gen:u,data:f,it:_}=c;if(Object.keys(d).length===0)return;const p=u.let("missing");for(const w in d){const $=d[w];if($.length===0)continue;const g=(0,n.propertyInData)(u,f,w,_.opts.ownProperties);c.setParams({property:w,depsCount:$.length,deps:$.join(", ")}),_.allErrors?u.if(g,()=>{for(const m of $)(0,n.checkReportMissingProp)(c,m)}):(u.if((0,t._)`${g} && (${(0,n.checkMissingProp)(c,$,p)})`),(0,n.reportMissingProp)(c,p),u.else())}}e.validatePropertyDeps=o;function i(c,d=c.schema){const{gen:u,data:f,keyword:_,it:p}=c,w=u.name("valid");for(const $ in d)(0,r.alwaysValidSchema)(p,d[$])||(u.if((0,n.propertyInData)(u,f,$,p.opts.ownProperties),()=>{const g=c.subschema({keyword:_,schemaProp:$},w);c.mergeValidEvaluated(g,w)},()=>u.var(w,!0)),c.ok(w))}e.validateSchemaDeps=i,e.default=s})(Ps);var _o={};Object.defineProperty(_o,"__esModule",{value:!0});const ou=ie,Zm=L,Qm={message:"property name must be valid",params:({params:e})=>(0,ou._)`{propertyName: ${e.propertyName}}`},ep={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Qm,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,Zm.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,ou.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};_o.default=ep;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const On=de,ht=ie,tp=at,In=L,rp={message:"must NOT have additional properties",params:({params:e})=>(0,ht._)`{additionalProperty: ${e.additionalProperty}}`},np={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:rp,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:i,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,In.alwaysValidSchema)(o,r))return;const d=(0,On.allSchemaProperties)(n.properties),u=(0,On.allSchemaProperties)(n.patternProperties);f(),e.ok((0,ht._)`${a} === ${tp.default.errors}`);function f(){t.forIn("key",s,g=>{!d.length&&!u.length?w(g):t.if(_(g),()=>w(g))})}function _(g){let m;if(d.length>8){const E=(0,In.schemaRefOrVal)(o,n.properties,"properties");m=(0,On.isOwnProperty)(t,E,g)}else d.length?m=(0,ht.or)(...d.map(E=>(0,ht._)`${g} === ${E}`)):m=ht.nil;return u.length&&(m=(0,ht.or)(m,...u.map(E=>(0,ht._)`${(0,On.usePattern)(e,E)}.test(${g})`))),(0,ht.not)(m)}function p(g){t.code((0,ht._)`delete ${s}[${g}]`)}function w(g){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){p(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),i||t.break();return}if(typeof r=="object"&&!(0,In.alwaysValidSchema)(o,r)){const m=t.name("valid");c.removeAdditional==="failing"?($(g,m,!1),t.if((0,ht.not)(m),()=>{e.reset(),p(g)})):($(g,m),i||t.if((0,ht.not)(m),()=>t.break()))}}function $(g,m,E){const P={keyword:"additionalProperties",dataProp:g,dataPropType:In.Type.Str};E===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(P,m)}}};Rs.default=np;var go={};Object.defineProperty(go,"__esModule",{value:!0});const sp=ws(),ac=de,Ys=L,oc=Rs,ap={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&oc.default.code(new sp.KeywordCxt(a,oc.default,"additionalProperties"));const o=(0,ac.allSchemaProperties)(r);for(const f of o)a.definedProperties.add(f);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=Ys.mergeEvaluated.props(t,(0,Ys.toHash)(o),a.props));const i=o.filter(f=>!(0,Ys.alwaysValidSchema)(a,r[f]));if(i.length===0)return;const c=t.name("valid");for(const f of i)d(f)?u(f):(t.if((0,ac.propertyInData)(t,s,f,a.opts.ownProperties)),u(f),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function d(f){return a.opts.useDefaults&&!a.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};go.default=ap;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});const ic=de,Tn=ie,cc=L,lc=L,op={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,i=(0,ic.allSchemaProperties)(r),c=i.filter($=>(0,cc.alwaysValidSchema)(a,r[$]));if(i.length===0||c.length===i.length&&(!a.opts.unevaluated||a.props===!0))return;const d=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");a.props!==!0&&!(a.props instanceof Tn.Name)&&(a.props=(0,lc.evaluatedPropsToName)(t,a.props));const{props:f}=a;_();function _(){for(const $ of i)d&&p($),a.allErrors?w($):(t.var(u,!0),w($),t.if(u))}function p($){for(const g in d)new RegExp($).test(g)&&(0,cc.checkStrictMode)(a,`property ${g} matches pattern ${$} (use allowMatchingProperties)`)}function w($){t.forIn("key",n,g=>{t.if((0,Tn._)`${(0,ic.usePattern)(e,$)}.test(${g})`,()=>{const m=c.includes($);m||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:g,dataPropType:lc.Type.Str},u),a.opts.unevaluated&&f!==!0?t.assign((0,Tn._)`${f}[${g}]`,!0):!m&&!a.allErrors&&t.if((0,Tn.not)(u),()=>t.break())})})}}};vo.default=op;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});const ip=L,cp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,ip.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};wo.default=cp;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});const lp=de,up={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:lp.validateUnion,error:{message:"must match a schema in anyOf"}};Eo.default=up;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});const xn=ie,dp=L,fp={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,xn._)`{passingSchemas: ${e.passing}}`},hp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:fp,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),i=t.let("passing",null),c=t.name("_valid");e.setParams({passing:i}),t.block(d),e.result(o,()=>e.reset(),()=>e.error(!0));function d(){a.forEach((u,f)=>{let _;(0,dp.alwaysValidSchema)(s,u)?t.var(c,!0):_=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,xn._)`${c} && ${o}`).assign(o,!1).assign(i,(0,xn._)`[${i}, ${f}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(i,f),_&&e.mergeEvaluated(_,xn.Name)})})}}};bo.default=hp;var So={};Object.defineProperty(So,"__esModule",{value:!0});const mp=L,pp={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,o)=>{if((0,mp.alwaysValidSchema)(n,a))return;const i=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(i)})}};So.default=pp;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});const ds=ie,iu=L,yp={message:({params:e})=>(0,ds.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ds._)`{failingKeyword: ${e.ifClause}}`},$p={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:yp,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,iu.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=uc(n,"then"),a=uc(n,"else");if(!s&&!a)return;const o=t.let("valid",!0),i=t.name("_valid");if(c(),e.reset(),s&&a){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(i,d("then",u),d("else",u))}else s?t.if(i,d("then")):t.if((0,ds.not)(i),d("else"));e.pass(o,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);e.mergeEvaluated(u)}function d(u,f){return()=>{const _=e.subschema({keyword:u},i);t.assign(o,i),e.mergeValidEvaluated(_,o),f?t.assign(f,(0,ds._)`${u}`):e.setParams({ifClause:u})}}}};function uc(e,t){const r=e.schema[t];return r!==void 0&&!(0,iu.alwaysValidSchema)(e,r)}Po.default=$p;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});const _p=L,gp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,_p.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ro.default=gp;Object.defineProperty(mo,"__esModule",{value:!0});const vp=zr,wp=po,Ep=Vr,bp=yo,Sp=$o,Pp=Ps,Rp=_o,Np=Rs,Op=go,Ip=vo,Tp=wo,jp=Eo,Ap=bo,kp=So,Cp=Po,Dp=Ro;function Mp(e=!1){const t=[Tp.default,jp.default,Ap.default,kp.default,Cp.default,Dp.default,Rp.default,Np.default,Pp.default,Op.default,Ip.default];return e?t.push(wp.default,bp.default):t.push(vp.default,Ep.default),t.push(Sp.default),t}mo.default=Mp;var No={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.dynamicAnchor=void 0;const Js=ie,Fp=at,dc=Ye,Lp=zt,zp={keyword:"$dynamicAnchor",schemaType:"string",code:e=>cu(e,e.schema)};function cu(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const s=(0,Js._)`${Fp.default.dynamicAnchors}${(0,Js.getProperty)(t)}`,a=n.errSchemaPath==="#"?n.validateName:Vp(e);r.if((0,Js._)`!${s}`,()=>r.assign(s,a))}Ur.dynamicAnchor=cu;function Vp(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:s,baseId:a,localRefs:o,meta:i}=t.root,{schemaId:c}=n.opts,d=new dc.SchemaEnv({schema:r,schemaId:c,root:s,baseId:a,localRefs:o,meta:i});return dc.compileSchema.call(n,d),(0,Lp.getValidate)(e,d)}Ur.default=zp;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.dynamicRef=void 0;const fc=ie,Up=at,hc=zt,qp={keyword:"$dynamicRef",schemaType:"string",code:e=>lu(e,e.schema)};function lu(e,t){const{gen:r,keyword:n,it:s}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const a=t.slice(1);if(s.allErrors)o();else{const c=r.let("valid",!1);o(c),e.ok(c)}function o(c){if(s.schemaEnv.root.dynamicAnchors[a]){const d=r.let("_v",(0,fc._)`${Up.default.dynamicAnchors}${(0,fc.getProperty)(a)}`);r.if(d,i(d,c),i(s.validateName,c))}else i(s.validateName,c)()}function i(c,d){return d?()=>r.block(()=>{(0,hc.callRef)(e,c),r.let(d,!0)}):()=>(0,hc.callRef)(e,c)}}qr.dynamicRef=lu;qr.default=qp;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});const Gp=Ur,Kp=L,Hp={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Gp.dynamicAnchor)(e,""):(0,Kp.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};Oo.default=Hp;var Io={};Object.defineProperty(Io,"__esModule",{value:!0});const Wp=qr,Bp={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Wp.dynamicRef)(e,e.schema)};Io.default=Bp;Object.defineProperty(No,"__esModule",{value:!0});const Yp=Ur,Jp=qr,Xp=Oo,xp=Io,Zp=[Yp.default,Jp.default,Xp.default,xp.default];No.default=Zp;var To={},jo={};Object.defineProperty(jo,"__esModule",{value:!0});const mc=Ps,Qp={keyword:"dependentRequired",type:"object",schemaType:"object",error:mc.error,code:e=>(0,mc.validatePropertyDeps)(e)};jo.default=Qp;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});const ey=Ps,ty={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,ey.validateSchemaDeps)(e)};Ao.default=ty;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});const ry=L,ny={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,ry.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};ko.default=ny;Object.defineProperty(To,"__esModule",{value:!0});const sy=jo,ay=Ao,oy=ko,iy=[sy.default,ay.default,oy.default];To.default=iy;var Co={},Do={};Object.defineProperty(Do,"__esModule",{value:!0});const Yt=ie,pc=L,cy=at,ly={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Yt._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},uy={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:ly,code(e){const{gen:t,schema:r,data:n,errsCount:s,it:a}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,props:i}=a;i instanceof Yt.Name?t.if((0,Yt._)`${i} !== true`,()=>t.forIn("key",n,f=>t.if(d(i,f),()=>c(f)))):i!==!0&&t.forIn("key",n,f=>i===void 0?c(f):t.if(u(i,f),()=>c(f))),a.props=!0,e.ok((0,Yt._)`${s} === ${cy.default.errors}`);function c(f){if(r===!1){e.setParams({unevaluatedProperty:f}),e.error(),o||t.break();return}if(!(0,pc.alwaysValidSchema)(a,r)){const _=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:pc.Type.Str},_),o||t.if((0,Yt.not)(_),()=>t.break())}}function d(f,_){return(0,Yt._)`!${f} || !${f}[${_}]`}function u(f,_){const p=[];for(const w in f)f[w]===!0&&p.push((0,Yt._)`${_} !== ${w}`);return(0,Yt.and)(...p)}}};Do.default=uy;var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});const ur=ie,yc=L,dy={message:({params:{len:e}})=>(0,ur.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ur._)`{limit: ${e}}`},fy={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:dy,code(e){const{gen:t,schema:r,data:n,it:s}=e,a=s.items||0;if(a===!0)return;const o=t.const("len",(0,ur._)`${n}.length`);if(r===!1)e.setParams({len:a}),e.fail((0,ur._)`${o} > ${a}`);else if(typeof r=="object"&&!(0,yc.alwaysValidSchema)(s,r)){const c=t.var("valid",(0,ur._)`${o} <= ${a}`);t.if((0,ur.not)(c),()=>i(c,a)),e.ok(c)}s.items=!0;function i(c,d){t.forRange("i",d,o,u=>{e.subschema({keyword:"unevaluatedItems",dataProp:u,dataPropType:yc.Type.Num},c),s.allErrors||t.if((0,ur.not)(c),()=>t.break())})}}};Mo.default=fy;Object.defineProperty(Co,"__esModule",{value:!0});const hy=Do,my=Mo,py=[hy.default,my.default];Co.default=py;var Fo={},Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});const Re=ie,yy={message:({schemaCode:e})=>(0,Re.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Re._)`{format: ${e}}`},$y={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:yy,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:i}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:f}=i;if(!c.validateFormats)return;s?_():p();function _(){const w=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),$=r.const("fDef",(0,Re._)`${w}[${o}]`),g=r.let("fType"),m=r.let("format");r.if((0,Re._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(g,(0,Re._)`${$}.type || "string"`).assign(m,(0,Re._)`${$}.validate`),()=>r.assign(g,(0,Re._)`"string"`).assign(m,$)),e.fail$data((0,Re.or)(E(),P()));function E(){return c.strictSchema===!1?Re.nil:(0,Re._)`${o} && !${m}`}function P(){const O=u.$async?(0,Re._)`(${$}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Re._)`${m}(${n})`,T=(0,Re._)`(typeof ${m} == "function" ? ${O} : ${m}.test(${n}))`;return(0,Re._)`${m} && ${m} !== true && ${g} === ${t} && !${T}`}}function p(){const w=f.formats[a];if(!w){E();return}if(w===!0)return;const[$,g,m]=P(w);$===t&&e.pass(O());function E(){if(c.strictSchema===!1){f.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function P(T){const H=T instanceof RegExp?(0,Re.regexpCode)(T):c.code.formats?(0,Re._)`${c.code.formats}${(0,Re.getProperty)(a)}`:void 0,Z=r.scopeValue("formats",{key:a,ref:T,code:H});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,Re._)`${Z}.validate`]:["string",T,Z]}function O(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Re._)`await ${m}(${n})`}return typeof g=="function"?(0,Re._)`${m}(${n})`:(0,Re._)`${m}.test(${n})`}}}};Lo.default=$y;Object.defineProperty(Fo,"__esModule",{value:!0});const _y=Lo,gy=[_y.default];Fo.default=gy;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.contentVocabulary=Dr.metadataVocabulary=void 0;Dr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Dr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Za,"__esModule",{value:!0});const vy=Qa,wy=to,Ey=mo,by=No,Sy=To,Py=Co,Ry=Fo,$c=Dr,Ny=[by.default,vy.default,wy.default,(0,Ey.default)(!0),Ry.default,$c.metadataVocabulary,$c.contentVocabulary,Sy.default,Py.default];Za.default=Ny;var zo={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.DiscrError=void 0;var _c;(function(e){e.Tag="tag",e.Mapping="mapping"})(_c||(Ns.DiscrError=_c={}));Object.defineProperty(zo,"__esModule",{value:!0});const Pr=ie,Ea=Ns,gc=Ye,Oy=Lr,Iy=L,Ty={message:({params:{discrError:e,tagName:t}})=>e===Ea.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Pr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},jy={keyword:"discriminator",type:"object",schemaType:"object",error:Ty,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,Pr._)`${r}${(0,Pr.getProperty)(i)}`);t.if((0,Pr._)`typeof ${d} == "string"`,()=>u(),()=>e.error(!1,{discrError:Ea.DiscrError.Tag,tag:d,tagName:i})),e.ok(c);function u(){const p=_();t.if(!1);for(const w in p)t.elseIf((0,Pr._)`${d} === ${w}`),t.assign(c,f(p[w]));t.else(),e.error(!1,{discrError:Ea.DiscrError.Mapping,tag:d,tagName:i}),t.endIf()}function f(p){const w=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:p},w);return e.mergeEvaluated($,Pr.Name),w}function _(){var p;const w={},$=m(s);let g=!0;for(let O=0;O<o.length;O++){let T=o[O];if(T!=null&&T.$ref&&!(0,Iy.schemaHasRulesButRef)(T,a.self.RULES)){const Z=T.$ref;if(T=gc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,Z),T instanceof gc.SchemaEnv&&(T=T.schema),T===void 0)throw new Oy.default(a.opts.uriResolver,a.baseId,Z)}const H=(p=T==null?void 0:T.properties)===null||p===void 0?void 0:p[i];if(typeof H!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);g=g&&($||m(T)),E(H,O)}if(!g)throw new Error(`discriminator: "${i}" must be required`);return w;function m({required:O}){return Array.isArray(O)&&O.includes(i)}function E(O,T){if(O.const)P(O.const,T);else if(O.enum)for(const H of O.enum)P(H,T);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function P(O,T){if(typeof O!="string"||O in w)throw new Error(`discriminator: "${i}" values must be unique strings`);w[O]=T}}}};zo.default=jy;var Vo={};const Ay="https://json-schema.org/draft/2020-12/schema",ky="https://json-schema.org/draft/2020-12/schema",Cy={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},Dy="meta",My="Core and Validation specifications meta-schema",Fy=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],Ly=["object","boolean"],zy="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",Vy={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},Uy={$schema:Ay,$id:ky,$vocabulary:Cy,$dynamicAnchor:Dy,title:My,allOf:Fy,type:Ly,$comment:zy,properties:Vy},qy="https://json-schema.org/draft/2020-12/schema",Gy="https://json-schema.org/draft/2020-12/meta/applicator",Ky={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},Hy="meta",Wy="Applicator vocabulary meta-schema",By=["object","boolean"],Yy={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},Jy={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},Xy={$schema:qy,$id:Gy,$vocabulary:Ky,$dynamicAnchor:Hy,title:Wy,type:By,properties:Yy,$defs:Jy},xy="https://json-schema.org/draft/2020-12/schema",Zy="https://json-schema.org/draft/2020-12/meta/unevaluated",Qy={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},e$="meta",t$="Unevaluated applicator vocabulary meta-schema",r$=["object","boolean"],n$={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},s$={$schema:xy,$id:Zy,$vocabulary:Qy,$dynamicAnchor:e$,title:t$,type:r$,properties:n$},a$="https://json-schema.org/draft/2020-12/schema",o$="https://json-schema.org/draft/2020-12/meta/content",i$={"https://json-schema.org/draft/2020-12/vocab/content":!0},c$="meta",l$="Content vocabulary meta-schema",u$=["object","boolean"],d$={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},f$={$schema:a$,$id:o$,$vocabulary:i$,$dynamicAnchor:c$,title:l$,type:u$,properties:d$},h$="https://json-schema.org/draft/2020-12/schema",m$="https://json-schema.org/draft/2020-12/meta/core",p$={"https://json-schema.org/draft/2020-12/vocab/core":!0},y$="meta",$$="Core vocabulary meta-schema",_$=["object","boolean"],g$={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},v$={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},w$={$schema:h$,$id:m$,$vocabulary:p$,$dynamicAnchor:y$,title:$$,type:_$,properties:g$,$defs:v$},E$="https://json-schema.org/draft/2020-12/schema",b$="https://json-schema.org/draft/2020-12/meta/format-annotation",S$={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},P$="meta",R$="Format vocabulary meta-schema for annotation results",N$=["object","boolean"],O$={format:{type:"string"}},I$={$schema:E$,$id:b$,$vocabulary:S$,$dynamicAnchor:P$,title:R$,type:N$,properties:O$},T$="https://json-schema.org/draft/2020-12/schema",j$="https://json-schema.org/draft/2020-12/meta/meta-data",A$={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},k$="meta",C$="Meta-data vocabulary meta-schema",D$=["object","boolean"],M$={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},F$={$schema:T$,$id:j$,$vocabulary:A$,$dynamicAnchor:k$,title:C$,type:D$,properties:M$},L$="https://json-schema.org/draft/2020-12/schema",z$="https://json-schema.org/draft/2020-12/meta/validation",V$={"https://json-schema.org/draft/2020-12/vocab/validation":!0},U$="meta",q$="Validation vocabulary meta-schema",G$=["object","boolean"],K$={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},H$={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},W$={$schema:L$,$id:z$,$vocabulary:V$,$dynamicAnchor:U$,title:q$,type:G$,properties:K$,$defs:H$};Object.defineProperty(Vo,"__esModule",{value:!0});const B$=Uy,Y$=Xy,J$=s$,X$=f$,x$=w$,Z$=I$,Q$=F$,e_=W$,t_=["/properties"];function r_(e){return[B$,Y$,J$,X$,x$,t(this,Z$),Q$,t(this,e_)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,t_):n}}Vo.default=r_;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const r=Rl,n=Za,s=zo,a=Vo,o="https://json-schema.org/draft/2020-12/schema";class i extends r.default{constructor(p={}){super({...p,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:p,meta:w}=this.opts;w&&(a.default.call(this,p),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv2020=i,e.exports=t=i,e.exports.Ajv2020=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var c=ws();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=ie;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var u=_n;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return u.default}});var f=Lr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(pa,pa.exports);var n_=pa.exports,ba={exports:{}},uu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(K,x){return{validate:K,compare:x}}e.fullFormats={date:t(a,o),time:t(c(!0),d),"date-time":t(_(!0),p),"iso-time":t(c(),u),"iso-date-time":t(_(),w),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:m,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:we,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:P,int32:{type:"number",validate:H},int64:{type:"number",validate:Z},float:{type:"number",validate:me},double:{type:"number",validate:me},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,w),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(K){return K%4===0&&(K%100!==0||K%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(K){const x=n.exec(K);if(!x)return!1;const ee=+x[1],j=+x[2],D=+x[3];return j>=1&&j<=12&&D>=1&&D<=(j===2&&r(ee)?29:s[j])}function o(K,x){if(K&&x)return K>x?1:K<x?-1:0}const i=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(K){return function(ee){const j=i.exec(ee);if(!j)return!1;const D=+j[1],q=+j[2],z=+j[3],J=j[4],U=j[5]==="-"?-1:1,R=+(j[6]||0),y=+(j[7]||0);if(R>23||y>59||K&&!J)return!1;if(D<=23&&q<=59&&z<60)return!0;const S=q-y*U,v=D-R*U-(S<0?1:0);return(v===23||v===-1)&&(S===59||S===-1)&&z<61}}function d(K,x){if(!(K&&x))return;const ee=new Date("2020-01-01T"+K).valueOf(),j=new Date("2020-01-01T"+x).valueOf();if(ee&&j)return ee-j}function u(K,x){if(!(K&&x))return;const ee=i.exec(K),j=i.exec(x);if(ee&&j)return K=ee[1]+ee[2]+ee[3],x=j[1]+j[2]+j[3],K>x?1:K<x?-1:0}const f=/t|\s/i;function _(K){const x=c(K);return function(j){const D=j.split(f);return D.length===2&&a(D[0])&&x(D[1])}}function p(K,x){if(!(K&&x))return;const ee=new Date(K).valueOf(),j=new Date(x).valueOf();if(ee&&j)return ee-j}function w(K,x){if(!(K&&x))return;const[ee,j]=K.split(f),[D,q]=x.split(f),z=o(ee,D);if(z!==void 0)return z||d(j,q)}const $=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function m(K){return $.test(K)&&g.test(K)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function P(K){return E.lastIndex=0,E.test(K)}const O=-2147483648,T=2**31-1;function H(K){return Number.isInteger(K)&&K<=T&&K>=O}function Z(K){return Number.isInteger(K)}function me(){return!0}const $e=/[^\\]\\Z/;function we(K){if($e.test(K))return!1;try{return new RegExp(K),!0}catch{return!1}}})(uu);var du={},Sa={exports:{}},fu={},vt={},Mr={},vn={},ue={},yn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((P,O)=>`${P}${O}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((P,O)=>(O instanceof r&&(P[O.str]=(P[O.str]||0)+1),P),{})}}e._Code=n,e.nil=new n("");function s(m,...E){const P=[m[0]];let O=0;for(;O<E.length;)i(P,E[O]),P.push(m[++O]);return new n(P)}e._=s;const a=new n("+");function o(m,...E){const P=[p(m[0])];let O=0;for(;O<E.length;)P.push(a),i(P,E[O]),P.push(a,p(m[++O]));return c(P),new n(P)}e.str=o;function i(m,E){E instanceof n?m.push(...E._items):E instanceof r?m.push(E):m.push(f(E))}e.addCodeArg=i;function c(m){let E=1;for(;E<m.length-1;){if(m[E]===a){const P=d(m[E-1],m[E+1]);if(P!==void 0){m.splice(E-1,3,P);continue}m[E++]="+"}E++}}function d(m,E){if(E==='""')return m;if(m==='""')return E;if(typeof m=="string")return E instanceof r||m[m.length-1]!=='"'?void 0:typeof E!="string"?`${m.slice(0,-1)}${E}"`:E[0]==='"'?m.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(m instanceof r))return`"${m}${E.slice(1)}`}function u(m,E){return E.emptyStr()?m:m.emptyStr()?E:o`${m}${E}`}e.strConcat=u;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:p(Array.isArray(m)?m.join(","):m)}function _(m){return new n(p(m))}e.stringify=_;function p(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function w(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=w;function $(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=$;function g(m){return new n(m.toString())}e.regexpCode=g})(yn);var Pa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=yn;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:u}={}){this._names={},this._prefixes=d,this._parent=u}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const u=this._names[d]||this._nameGroup(d);return`${d}${u.index++}`}_nameGroup(d){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class a extends t.Name{constructor(d,u){super(u),this.prefix=d}setValue(d,{property:u,itemIndex:f}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class i extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?o:t.nil}}get(){return this._scope}name(d){return new a(d,this._newName(d))}value(d,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(d),{prefix:p}=_,w=(f=u.key)!==null&&f!==void 0?f:u.ref;let $=this._values[p];if($){const E=$.get(w);if(E)return E}else $=this._values[p]=new Map;$.set(w,_);const g=this._scope[p]||(this._scope[p]=[]),m=g.length;return g[m]=u.ref,_.setValue(u,{property:p,itemIndex:m}),_}getValue(d,u){const f=this._values[d];if(f)return f.get(u)}scopeRefs(d,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${d}${f.scopePath}`})}scopeCode(d=this._values,u,f){return this._reduceValues(d,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},u,f)}_reduceValues(d,u,f={},_){let p=t.nil;for(const w in d){const $=d[w];if(!$)continue;const g=f[w]=f[w]||new Map;$.forEach(m=>{if(g.has(m))return;g.set(m,n.Started);let E=u(m);if(E){const P=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${P} ${m} = ${E};${this.opts._n}`}else if(E=_==null?void 0:_(m))p=(0,t._)`${p}${E}${this.opts._n}`;else throw new r(m);g.set(m,n.Completed)})}return p}}e.ValueScope=i})(Pa);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=yn,r=Pa;var n=yn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Pa;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(l,h){return this}}class o extends a{constructor(l,h,b){super(),this.varKind=l,this.name=h,this.rhs=b}render({es5:l,_n:h}){const b=l?r.varKinds.var:this.varKind,A=this.rhs===void 0?"":` = ${this.rhs}`;return`${b} ${this.name}${A};`+h}optimizeNames(l,h){if(l[this.name.str])return this.rhs&&(this.rhs=j(this.rhs,l,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends a{constructor(l,h,b){super(),this.lhs=l,this.rhs=h,this.sideEffects=b}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,h){if(!(this.lhs instanceof t.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=j(this.rhs,l,h),this}get names(){const l=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ee(l,this.rhs)}}class c extends i{constructor(l,h,b,A){super(l,b,A),this.op=h}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class d extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class u extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class f extends a{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class _ extends a{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,h){return this.code=j(this.code,l,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends a{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((h,b)=>h+b.render(l),"")}optimizeNodes(){const{nodes:l}=this;let h=l.length;for(;h--;){const b=l[h].optimizeNodes();Array.isArray(b)?l.splice(h,1,...b):b?l[h]=b:l.splice(h,1)}return l.length>0?this:void 0}optimizeNames(l,h){const{nodes:b}=this;let A=b.length;for(;A--;){const k=b[A];k.optimizeNames(l,h)||(D(l,k.names),b.splice(A,1))}return b.length>0?this:void 0}get names(){return this.nodes.reduce((l,h)=>x(l,h.names),{})}}class w extends p{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class $ extends p{}class g extends w{}g.kind="else";class m extends w{constructor(l,h){super(h),this.condition=l}render(l){let h=`if(${this.condition})`+super.render(l);return this.else&&(h+="else "+this.else.render(l)),h}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let h=this.else;if(h){const b=h.optimizeNodes();h=this.else=Array.isArray(b)?new g(b):b}if(h)return l===!1?h instanceof m?h:h.nodes:this.nodes.length?this:new m(q(l),h instanceof m?[h]:h.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,h){var b;if(this.else=(b=this.else)===null||b===void 0?void 0:b.optimizeNames(l,h),!!(super.optimizeNames(l,h)||this.else))return this.condition=j(this.condition,l,h),this}get names(){const l=super.names;return ee(l,this.condition),this.else&&x(l,this.else.names),l}}m.kind="if";class E extends w{}E.kind="for";class P extends E{constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iteration=j(this.iteration,l,h),this}get names(){return x(super.names,this.iteration.names)}}class O extends E{constructor(l,h,b,A){super(),this.varKind=l,this.name=h,this.from=b,this.to=A}render(l){const h=l.es5?r.varKinds.var:this.varKind,{name:b,from:A,to:k}=this;return`for(${h} ${b}=${A}; ${b}<${k}; ${b}++)`+super.render(l)}get names(){const l=ee(super.names,this.from);return ee(l,this.to)}}class T extends E{constructor(l,h,b,A){super(),this.loop=l,this.varKind=h,this.name=b,this.iterable=A}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,h){if(super.optimizeNames(l,h))return this.iterable=j(this.iterable,l,h),this}get names(){return x(super.names,this.iterable.names)}}class H extends w{constructor(l,h,b){super(),this.name=l,this.args=h,this.async=b}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}H.kind="func";class Z extends p{render(l){return"return "+super.render(l)}}Z.kind="return";class me extends w{render(l){let h="try"+super.render(l);return this.catch&&(h+=this.catch.render(l)),this.finally&&(h+=this.finally.render(l)),h}optimizeNodes(){var l,h;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(l,h){var b,A;return super.optimizeNames(l,h),(b=this.catch)===null||b===void 0||b.optimizeNames(l,h),(A=this.finally)===null||A===void 0||A.optimizeNames(l,h),this}get names(){const l=super.names;return this.catch&&x(l,this.catch.names),this.finally&&x(l,this.finally.names),l}}class $e extends w{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}$e.kind="catch";class we extends w{render(l){return"finally"+super.render(l)}}we.kind="finally";class K{constructor(l,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=l,this._scope=new r.Scope({parent:l}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,h){const b=this._extScope.value(l,h);return(this._values[b.prefix]||(this._values[b.prefix]=new Set)).add(b),b}getScopeValue(l,h){return this._extScope.getValue(l,h)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,h,b,A){const k=this._scope.toName(h);return b!==void 0&&A&&(this._constants[k.str]=b),this._leafNode(new o(l,k,b)),k}const(l,h,b){return this._def(r.varKinds.const,l,h,b)}let(l,h,b){return this._def(r.varKinds.let,l,h,b)}var(l,h,b){return this._def(r.varKinds.var,l,h,b)}assign(l,h,b){return this._leafNode(new i(l,h,b))}add(l,h){return this._leafNode(new c(l,e.operators.ADD,h))}code(l){return typeof l=="function"?l():l!==t.nil&&this._leafNode(new _(l)),this}object(...l){const h=["{"];for(const[b,A]of l)h.length>1&&h.push(","),h.push(b),(b!==A||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,A));return h.push("}"),new t._Code(h)}if(l,h,b){if(this._blockNode(new m(l)),h&&b)this.code(h).else().code(b).endIf();else if(h)this.code(h).endIf();else if(b)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new m(l))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(m,g)}_for(l,h){return this._blockNode(l),h&&this.code(h).endFor(),this}for(l,h){return this._for(new P(l),h)}forRange(l,h,b,A,k=this.opts.es5?r.varKinds.var:r.varKinds.let){const W=this._scope.toName(l);return this._for(new O(k,W,h,b),()=>A(W))}forOf(l,h,b,A=r.varKinds.const){const k=this._scope.toName(l);if(this.opts.es5){const W=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${W}.length`,G=>{this.var(k,(0,t._)`${W}[${G}]`),b(k)})}return this._for(new T("of",A,k,h),()=>b(k))}forIn(l,h,b,A=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,t._)`Object.keys(${h})`,b);const k=this._scope.toName(l);return this._for(new T("in",A,k,h),()=>b(k))}endFor(){return this._endBlockNode(E)}label(l){return this._leafNode(new d(l))}break(l){return this._leafNode(new u(l))}return(l){const h=new Z;if(this._blockNode(h),this.code(l),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Z)}try(l,h,b){if(!h&&!b)throw new Error('CodeGen: "try" without "catch" and "finally"');const A=new me;if(this._blockNode(A),this.code(l),h){const k=this.name("e");this._currNode=A.catch=new $e(k),h(k)}return b&&(this._currNode=A.finally=new we,this.code(b)),this._endBlockNode($e,we)}throw(l){return this._leafNode(new f(l))}block(l,h){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(h),this}endBlock(l){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const b=this._nodes.length-h;if(b<0||l!==void 0&&b!==l)throw new Error(`CodeGen: wrong number of nodes: ${b} vs ${l} expected`);return this._nodes.length=h,this}func(l,h=t.nil,b,A){return this._blockNode(new H(l,h,b)),A&&this.code(A).endFunc(),this}endFunc(){return this._endBlockNode(H)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,h){const b=this._currNode;if(b instanceof l||h&&b instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${l.kind}/${h.kind}`:l.kind}"`)}_elseNode(l){const h=this._currNode;if(!(h instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const h=this._nodes;h[h.length-1]=l}}e.CodeGen=K;function x(v,l){for(const h in l)v[h]=(v[h]||0)+(l[h]||0);return v}function ee(v,l){return l instanceof t._CodeOrName?x(v,l.names):v}function j(v,l,h){if(v instanceof t.Name)return b(v);if(!A(v))return v;return new t._Code(v._items.reduce((k,W)=>(W instanceof t.Name&&(W=b(W)),W instanceof t._Code?k.push(...W._items):k.push(W),k),[]));function b(k){const W=h[k.str];return W===void 0||l[k.str]!==1?k:(delete l[k.str],W)}function A(k){return k instanceof t._Code&&k._items.some(W=>W instanceof t.Name&&l[W.str]===1&&h[W.str]!==void 0)}}function D(v,l){for(const h in l)v[h]=(v[h]||0)-(l[h]||0)}function q(v){return typeof v=="boolean"||typeof v=="number"||v===null?!v:(0,t._)`!${S(v)}`}e.not=q;const z=y(e.operators.AND);function J(...v){return v.reduce(z)}e.and=J;const U=y(e.operators.OR);function R(...v){return v.reduce(U)}e.or=R;function y(v){return(l,h)=>l===t.nil?h:h===t.nil?l:(0,t._)`${S(l)} ${v} ${S(h)}`}function S(v){return v instanceof t.Name?v:(0,t._)`(${v})`}})(ue);var V={};Object.defineProperty(V,"__esModule",{value:!0});V.checkStrictMode=V.getErrorPath=V.Type=V.useFunc=V.setEvaluated=V.evaluatedPropsToName=V.mergeEvaluated=V.eachItem=V.unescapeJsonPointer=V.escapeJsonPointer=V.escapeFragment=V.unescapeFragment=V.schemaRefOrVal=V.schemaHasRulesButRef=V.schemaHasRules=V.checkUnknownRules=V.alwaysValidSchema=V.toHash=void 0;const ye=ue,s_=yn;function a_(e){const t={};for(const r of e)t[r]=!0;return t}V.toHash=a_;function o_(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(hu(e,t),!mu(t,e.self.RULES.all))}V.alwaysValidSchema=o_;function hu(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||$u(e,`unknown keyword: "${a}"`)}V.checkUnknownRules=hu;function mu(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}V.schemaHasRules=mu;function i_(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}V.schemaHasRulesButRef=i_;function c_({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ye._)`${r}`}return(0,ye._)`${e}${t}${(0,ye.getProperty)(n)}`}V.schemaRefOrVal=c_;function l_(e){return pu(decodeURIComponent(e))}V.unescapeFragment=l_;function u_(e){return encodeURIComponent(Uo(e))}V.escapeFragment=u_;function Uo(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}V.escapeJsonPointer=Uo;function pu(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}V.unescapeJsonPointer=pu;function d_(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}V.eachItem=d_;function vc({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,i)=>{const c=o===void 0?a:o instanceof ye.Name?(a instanceof ye.Name?e(s,a,o):t(s,a,o),o):a instanceof ye.Name?(t(s,o,a),a):r(a,o);return i===ye.Name&&!(c instanceof ye.Name)?n(s,c):c}}V.mergeEvaluated={props:vc({mergeNames:(e,t,r)=>e.if((0,ye._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ye._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ye._)`${r} || {}`).code((0,ye._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ye._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ye._)`${r} || {}`),qo(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:yu}),items:vc({mergeNames:(e,t,r)=>e.if((0,ye._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ye._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ye._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ye._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function yu(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ye._)`{}`);return t!==void 0&&qo(e,r,t),r}V.evaluatedPropsToName=yu;function qo(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ye._)`${t}${(0,ye.getProperty)(n)}`,!0))}V.setEvaluated=qo;const wc={};function f_(e,t){return e.scopeValue("func",{ref:t,code:wc[t.code]||(wc[t.code]=new s_._Code(t.code))})}V.useFunc=f_;var Ra;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Ra||(V.Type=Ra={}));function h_(e,t,r){if(e instanceof ye.Name){const n=t===Ra.Num;return r?n?(0,ye._)`"[" + ${e} + "]"`:(0,ye._)`"['" + ${e} + "']"`:n?(0,ye._)`"/" + ${e}`:(0,ye._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ye.getProperty)(e).toString():"/"+Uo(e)}V.getErrorPath=h_;function $u(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}V.checkStrictMode=$u;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});const Ge=ue,m_={data:new Ge.Name("data"),valCxt:new Ge.Name("valCxt"),instancePath:new Ge.Name("instancePath"),parentData:new Ge.Name("parentData"),parentDataProperty:new Ge.Name("parentDataProperty"),rootData:new Ge.Name("rootData"),dynamicAnchors:new Ge.Name("dynamicAnchors"),vErrors:new Ge.Name("vErrors"),errors:new Ge.Name("errors"),this:new Ge.Name("this"),self:new Ge.Name("self"),scope:new Ge.Name("scope"),json:new Ge.Name("json"),jsonPos:new Ge.Name("jsonPos"),jsonLen:new Ge.Name("jsonLen"),jsonPart:new Ge.Name("jsonPart")};Tt.default=m_;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ue,r=V,n=Tt;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:m})=>m?(0,t.str)`"${g}" keyword must be ${m} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function s(g,m=e.keywordError,E,P){const{it:O}=g,{gen:T,compositeRule:H,allErrors:Z}=O,me=f(g,m,E);P??(H||Z)?c(T,me):d(O,(0,t._)`[${me}]`)}e.reportError=s;function a(g,m=e.keywordError,E){const{it:P}=g,{gen:O,compositeRule:T,allErrors:H}=P,Z=f(g,m,E);c(O,Z),T||H||d(P,n.default.vErrors)}e.reportExtraError=a;function o(g,m){g.assign(n.default.errors,m),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(m,()=>g.assign((0,t._)`${n.default.vErrors}.length`,m),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function i({gen:g,keyword:m,schemaValue:E,data:P,errsCount:O,it:T}){if(O===void 0)throw new Error("ajv implementation error");const H=g.name("err");g.forRange("i",O,n.default.errors,Z=>{g.const(H,(0,t._)`${n.default.vErrors}[${Z}]`),g.if((0,t._)`${H}.instancePath === undefined`,()=>g.assign((0,t._)`${H}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),g.assign((0,t._)`${H}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${m}`),T.opts.verbose&&(g.assign((0,t._)`${H}.schema`,E),g.assign((0,t._)`${H}.data`,P))})}e.extendErrors=i;function c(g,m){const E=g.const("err",m);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),g.code((0,t._)`${n.default.errors}++`)}function d(g,m){const{gen:E,validateName:P,schemaEnv:O}=g;O.$async?E.throw((0,t._)`new ${g.ValidationError}(${m})`):(E.assign((0,t._)`${P}.errors`,m),E.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(g,m,E){const{createErrors:P}=g.it;return P===!1?(0,t._)`{}`:_(g,m,E)}function _(g,m,E={}){const{gen:P,it:O}=g,T=[p(O,E),w(g,E)];return $(g,m,T),P.object(...T)}function p({errorPath:g},{instancePath:m}){const E=m?(0,t.str)`${g}${(0,r.getErrorPath)(m,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function w({keyword:g,it:{errSchemaPath:m}},{schemaPath:E,parentSchema:P}){let O=P?m:(0,t.str)`${m}/${g}`;return E&&(O=(0,t.str)`${O}${(0,r.getErrorPath)(E,r.Type.Str)}`),[u.schemaPath,O]}function $(g,{params:m,message:E},P){const{keyword:O,data:T,schemaValue:H,it:Z}=g,{opts:me,propertyName:$e,topSchemaRef:we,schemaPath:K}=Z;P.push([u.keyword,O],[u.params,typeof m=="function"?m(g):m||(0,t._)`{}`]),me.messages&&P.push([u.message,typeof E=="function"?E(g):E]),me.verbose&&P.push([u.schema,H],[u.parentSchema,(0,t._)`${we}${K}`],[n.default.data,T]),$e&&P.push([u.propertyName,$e])}})(vn);Object.defineProperty(Mr,"__esModule",{value:!0});Mr.boolOrEmptySchema=Mr.topBoolOrEmptySchema=void 0;const p_=vn,y_=ue,$_=Tt,__={message:"boolean schema is false"};function g_(e){const{gen:t,schema:r,validateName:n}=e;r===!1?_u(e,!1):typeof r=="object"&&r.$async===!0?t.return($_.default.data):(t.assign((0,y_._)`${n}.errors`,null),t.return(!0))}Mr.topBoolOrEmptySchema=g_;function v_(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),_u(e)):r.var(t,!0)}Mr.boolOrEmptySchema=v_;function _u(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,p_.reportError)(s,__,void 0,t)}var Te={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.getRules=gr.isJSONType=void 0;const w_=["string","number","integer","boolean","null","object","array"],E_=new Set(w_);function b_(e){return typeof e=="string"&&E_.has(e)}gr.isJSONType=b_;function S_(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}gr.getRules=S_;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.shouldUseRule=Mt.shouldUseGroup=Mt.schemaHasRulesForType=void 0;function P_({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&gu(e,n)}Mt.schemaHasRulesForType=P_;function gu(e,t){return t.rules.some(r=>vu(e,r))}Mt.shouldUseGroup=gu;function vu(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Mt.shouldUseRule=vu;Object.defineProperty(Te,"__esModule",{value:!0});Te.reportTypeError=Te.checkDataTypes=Te.checkDataType=Te.coerceAndCheckDataType=Te.getJSONTypes=Te.getSchemaTypes=Te.DataType=void 0;const R_=gr,N_=Mt,O_=vn,le=ue,wu=V;var jr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(jr||(Te.DataType=jr={}));function I_(e){const t=Eu(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Te.getSchemaTypes=I_;function Eu(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(R_.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Te.getJSONTypes=Eu;function T_(e,t){const{gen:r,data:n,opts:s}=e,a=j_(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,N_.schemaHasRulesForType)(e,t[0]));if(o){const i=Go(t,n,s.strictNumbers,jr.Wrong);r.if(i,()=>{a.length?A_(e,t,a):Ko(e)})}return o}Te.coerceAndCheckDataType=T_;const bu=new Set(["string","number","integer","boolean","null"]);function j_(e,t){return t?e.filter(r=>bu.has(r)||t==="array"&&r==="array"):[]}function A_(e,t,r){const{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,le._)`typeof ${s}`),i=n.let("coerced",(0,le._)`undefined`);a.coerceTypes==="array"&&n.if((0,le._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,le._)`${s}[0]`).assign(o,(0,le._)`typeof ${s}`).if(Go(t,s,a.strictNumbers),()=>n.assign(i,s))),n.if((0,le._)`${i} !== undefined`);for(const d of r)(bu.has(d)||d==="array"&&a.coerceTypes==="array")&&c(d);n.else(),Ko(e),n.endIf(),n.if((0,le._)`${i} !== undefined`,()=>{n.assign(s,i),k_(e,i)});function c(d){switch(d){case"string":n.elseIf((0,le._)`${o} == "number" || ${o} == "boolean"`).assign(i,(0,le._)`"" + ${s}`).elseIf((0,le._)`${s} === null`).assign(i,(0,le._)`""`);return;case"number":n.elseIf((0,le._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(i,(0,le._)`+${s}`);return;case"integer":n.elseIf((0,le._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(i,(0,le._)`+${s}`);return;case"boolean":n.elseIf((0,le._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(i,!1).elseIf((0,le._)`${s} === "true" || ${s} === 1`).assign(i,!0);return;case"null":n.elseIf((0,le._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(i,null);return;case"array":n.elseIf((0,le._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(i,(0,le._)`[${s}]`)}}}function k_({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,le._)`${t} !== undefined`,()=>e.assign((0,le._)`${t}[${r}]`,n))}function Na(e,t,r,n=jr.Correct){const s=n===jr.Correct?le.operators.EQ:le.operators.NEQ;let a;switch(e){case"null":return(0,le._)`${t} ${s} null`;case"array":a=(0,le._)`Array.isArray(${t})`;break;case"object":a=(0,le._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,le._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,le._)`typeof ${t} ${s} ${e}`}return n===jr.Correct?a:(0,le.not)(a);function o(i=le.nil){return(0,le.and)((0,le._)`typeof ${t} == "number"`,i,r?(0,le._)`isFinite(${t})`:le.nil)}}Te.checkDataType=Na;function Go(e,t,r,n){if(e.length===1)return Na(e[0],t,r,n);let s;const a=(0,wu.toHash)(e);if(a.array&&a.object){const o=(0,le._)`typeof ${t} != "object"`;s=a.null?o:(0,le._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=le.nil;a.number&&delete a.integer;for(const o in a)s=(0,le.and)(s,Na(o,t,r,n));return s}Te.checkDataTypes=Go;const C_={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,le._)`{type: ${e}}`:(0,le._)`{type: ${t}}`};function Ko(e){const t=D_(e);(0,O_.reportError)(t,C_)}Te.reportTypeError=Ko;function D_(e){const{gen:t,data:r,schema:n}=e,s=(0,wu.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.assignDefaults=void 0;const Er=ue,M_=V;function F_(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Ec(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Ec(e,a,s.default))}Os.assignDefaults=F_;function Ec(e,t,r){const{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;const i=(0,Er._)`${a}${(0,Er.getProperty)(t)}`;if(s){(0,M_.checkStrictMode)(e,`default is ignored for: ${i}`);return}let c=(0,Er._)`${i} === undefined`;o.useDefaults==="empty"&&(c=(0,Er._)`${c} || ${i} === null || ${i} === ""`),n.if(c,(0,Er._)`${i} = ${(0,Er.stringify)(r)}`)}var It={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.validateUnion=fe.validateArray=fe.usePattern=fe.callValidateCode=fe.schemaProperties=fe.allSchemaProperties=fe.noPropertyInData=fe.propertyInData=fe.isOwnProperty=fe.hasPropFunc=fe.reportMissingProp=fe.checkMissingProp=fe.checkReportMissingProp=void 0;const ge=ue,Ho=V,Ht=Tt,L_=V;function z_(e,t){const{gen:r,data:n,it:s}=e;r.if(Bo(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ge._)`${t}`},!0),e.error()})}fe.checkReportMissingProp=z_;function V_({gen:e,data:t,it:{opts:r}},n,s){return(0,ge.or)(...n.map(a=>(0,ge.and)(Bo(e,t,a,r.ownProperties),(0,ge._)`${s} = ${a}`)))}fe.checkMissingProp=V_;function U_(e,t){e.setParams({missingProperty:t},!0),e.error()}fe.reportMissingProp=U_;function Su(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ge._)`Object.prototype.hasOwnProperty`})}fe.hasPropFunc=Su;function Wo(e,t,r){return(0,ge._)`${Su(e)}.call(${t}, ${r})`}fe.isOwnProperty=Wo;function q_(e,t,r,n){const s=(0,ge._)`${t}${(0,ge.getProperty)(r)} !== undefined`;return n?(0,ge._)`${s} && ${Wo(e,t,r)}`:s}fe.propertyInData=q_;function Bo(e,t,r,n){const s=(0,ge._)`${t}${(0,ge.getProperty)(r)} === undefined`;return n?(0,ge.or)(s,(0,ge.not)(Wo(e,t,r))):s}fe.noPropertyInData=Bo;function Pu(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}fe.allSchemaProperties=Pu;function G_(e,t){return Pu(t).filter(r=>!(0,Ho.alwaysValidSchema)(e,t[r]))}fe.schemaProperties=G_;function K_({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},i,c,d){const u=d?(0,ge._)`${e}, ${t}, ${n}${s}`:t,f=[[Ht.default.instancePath,(0,ge.strConcat)(Ht.default.instancePath,a)],[Ht.default.parentData,o.parentData],[Ht.default.parentDataProperty,o.parentDataProperty],[Ht.default.rootData,Ht.default.rootData]];o.opts.dynamicRef&&f.push([Ht.default.dynamicAnchors,Ht.default.dynamicAnchors]);const _=(0,ge._)`${u}, ${r.object(...f)}`;return c!==ge.nil?(0,ge._)`${i}.call(${c}, ${_})`:(0,ge._)`${i}(${_})`}fe.callValidateCode=K_;const H_=(0,ge._)`new RegExp`;function W_({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,ge._)`${s.code==="new RegExp"?H_:(0,L_.useFunc)(e,s)}(${r}, ${n})`})}fe.usePattern=W_;function B_(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const i=t.let("valid",!0);return o(()=>t.assign(i,!1)),i}return t.var(a,!0),o(()=>t.break()),a;function o(i){const c=t.const("len",(0,ge._)`${r}.length`);t.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:Ho.Type.Num},a),t.if((0,ge.not)(a),i)})}}fe.validateArray=B_;function Y_(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Ho.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),i=t.name("_valid");t.block(()=>r.forEach((c,d)=>{const u=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},i);t.assign(o,(0,ge._)`${o} || ${i}`),e.mergeValidEvaluated(u,i)||t.if((0,ge.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}fe.validateUnion=Y_;Object.defineProperty(It,"__esModule",{value:!0});It.validateKeywordUsage=It.validSchemaType=It.funcKeywordCode=It.macroKeywordCode=void 0;const Be=ue,dr=Tt,J_=fe,X_=vn;function x_(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,i=t.macro.call(o.self,s,a,o),c=Ru(r,n,i);o.opts.validateSchema!==!1&&o.self.validateSchema(i,!0);const d=r.name("valid");e.subschema({schema:i,schemaPath:Be.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}It.macroKeywordCode=x_;function Z_(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:i,it:c}=e;eg(c,t);const d=!i&&t.compile?t.compile.call(c.self,a,o,c):t.validate,u=Ru(n,s,d),f=n.let("valid");e.block$data(f,_),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function _(){if(t.errors===!1)$(),t.modifying&&bc(e),g(()=>e.error());else{const m=t.async?p():w();t.modifying&&bc(e),g(()=>Q_(e,m))}}function p(){const m=n.let("ruleErrs",null);return n.try(()=>$((0,Be._)`await `),E=>n.assign(f,!1).if((0,Be._)`${E} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,Be._)`${E}.errors`),()=>n.throw(E))),m}function w(){const m=(0,Be._)`${u}.errors`;return n.assign(m,null),$(Be.nil),m}function $(m=t.async?(0,Be._)`await `:Be.nil){const E=c.opts.passContext?dr.default.this:dr.default.self,P=!("compile"in t&&!i||t.schema===!1);n.assign(f,(0,Be._)`${m}${(0,J_.callValidateCode)(e,u,E,P)}`,t.modifying)}function g(m){var E;n.if((0,Be.not)((E=t.valid)!==null&&E!==void 0?E:f),m)}}It.funcKeywordCode=Z_;function bc(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Be._)`${n.parentData}[${n.parentDataProperty}]`))}function Q_(e,t){const{gen:r}=e;r.if((0,Be._)`Array.isArray(${t})`,()=>{r.assign(dr.default.vErrors,(0,Be._)`${dr.default.vErrors} === null ? ${t} : ${dr.default.vErrors}.concat(${t})`).assign(dr.default.errors,(0,Be._)`${dr.default.vErrors}.length`),(0,X_.extendErrors)(e)},()=>e.error())}function eg({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ru(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Be.stringify)(r)})}function tg(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}It.validSchemaType=tg;function rg({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(i=>!Object.prototype.hasOwnProperty.call(e,i)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}It.validateKeywordUsage=rg;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.extendSubschemaMode=er.extendSubschemaData=er.getSubschema=void 0;const Nt=ue,Nu=V;function ng(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const i=e.schema[t];return r===void 0?{schema:i,schemaPath:(0,Nt._)`${e.schemaPath}${(0,Nt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,Nt._)`${e.schemaPath}${(0,Nt.getProperty)(t)}${(0,Nt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Nu.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}er.getSubschema=ng;function sg(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:i}=t;if(r!==void 0){const{errorPath:d,dataPathArr:u,opts:f}=t,_=i.let("data",(0,Nt._)`${t.data}${(0,Nt.getProperty)(r)}`,!0);c(_),e.errorPath=(0,Nt.str)`${d}${(0,Nu.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Nt._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(s!==void 0){const d=s instanceof Nt.Name?s:i.let("data",s,!0);c(d),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function c(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}er.extendSubschemaData=sg;function ag(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}er.extendSubschemaMode=ag;var ze={},Ou={exports:{}},Qt=Ou.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Zn(t,n,s,e,"",e)};Qt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Qt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Qt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Qt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Zn(e,t,r,n,s,a,o,i,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,i,c,d);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in Qt.arrayKeywords)for(var _=0;_<f.length;_++)Zn(e,t,r,f[_],s+"/"+u+"/"+_,a,s,u,n,_)}else if(u in Qt.propsKeywords){if(f&&typeof f=="object")for(var p in f)Zn(e,t,r,f[p],s+"/"+u+"/"+og(p),a,s,u,n,p)}else(u in Qt.keywords||e.allKeys&&!(u in Qt.skipKeywords))&&Zn(e,t,r,f,s+"/"+u,a,s,u,n)}r(n,s,a,o,i,c,d)}}function og(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var ig=Ou.exports;Object.defineProperty(ze,"__esModule",{value:!0});ze.getSchemaRefs=ze.resolveUrl=ze.normalizeId=ze._getFullPath=ze.getFullPath=ze.inlineRef=void 0;const cg=V,lg=vs,ug=ig,dg=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function fg(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Oa(e):t?Iu(e)<=t:!1}ze.inlineRef=fg;const hg=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Oa(e){for(const t in e){if(hg.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Oa)||typeof r=="object"&&Oa(r))return!0}return!1}function Iu(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!dg.has(r)&&(typeof e[r]=="object"&&(0,cg.eachItem)(e[r],n=>t+=Iu(n)),t===1/0))return 1/0}return t}function Tu(e,t="",r){r!==!1&&(t=Ar(t));const n=e.parse(t);return ju(e,n)}ze.getFullPath=Tu;function ju(e,t){return e.serialize(t).split("#")[0]+"#"}ze._getFullPath=ju;const mg=/#\/?$/;function Ar(e){return e?e.replace(mg,""):""}ze.normalizeId=Ar;function pg(e,t,r){return r=Ar(r),e.resolve(t,r)}ze.resolveUrl=pg;const yg=/^[a-z_][-a-z0-9._]*$/i;function $g(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Ar(e[r]||t),a={"":s},o=Tu(n,s,!1),i={},c=new Set;return ug(e,{allKeys:!0},(f,_,p,w)=>{if(w===void 0)return;const $=o+_;let g=a[w];typeof f[r]=="string"&&(g=m.call(this,f[r])),E.call(this,f.$anchor),E.call(this,f.$dynamicAnchor),a[_]=g;function m(P){const O=this.opts.uriResolver.resolve;if(P=Ar(g?O(g,P):P),c.has(P))throw u(P);c.add(P);let T=this.refs[P];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?d(f,T.schema,P):P!==Ar($)&&(P[0]==="#"?(d(f,i[P],P),i[P]=f):this.refs[P]=$),P}function E(P){if(typeof P=="string"){if(!yg.test(P))throw new Error(`invalid anchor "${P}"`);m.call(this,`#${P}`)}}}),i;function d(f,_,p){if(_!==void 0&&!lg(f,_))throw u(p)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ze.getSchemaRefs=$g;Object.defineProperty(vt,"__esModule",{value:!0});vt.getData=vt.KeywordCxt=vt.validateFunctionCode=void 0;const Au=Mr,Sc=Te,Yo=Mt,fs=Te,_g=Os,cn=It,Xs=er,X=ue,ne=Tt,gg=ze,Ft=V,xr=vn;function vg(e){if(Du(e)&&(Mu(e),Cu(e))){bg(e);return}ku(e,()=>(0,Au.topBoolOrEmptySchema)(e))}vt.validateFunctionCode=vg;function ku({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,X._)`${ne.default.data}, ${ne.default.valCxt}`,n.$async,()=>{e.code((0,X._)`"use strict"; ${Pc(r,s)}`),Eg(e,s),e.code(a)}):e.func(t,(0,X._)`${ne.default.data}, ${wg(s)}`,n.$async,()=>e.code(Pc(r,s)).code(a))}function wg(e){return(0,X._)`{${ne.default.instancePath}="", ${ne.default.parentData}, ${ne.default.parentDataProperty}, ${ne.default.rootData}=${ne.default.data}${e.dynamicRef?(0,X._)`, ${ne.default.dynamicAnchors}={}`:X.nil}}={}`}function Eg(e,t){e.if(ne.default.valCxt,()=>{e.var(ne.default.instancePath,(0,X._)`${ne.default.valCxt}.${ne.default.instancePath}`),e.var(ne.default.parentData,(0,X._)`${ne.default.valCxt}.${ne.default.parentData}`),e.var(ne.default.parentDataProperty,(0,X._)`${ne.default.valCxt}.${ne.default.parentDataProperty}`),e.var(ne.default.rootData,(0,X._)`${ne.default.valCxt}.${ne.default.rootData}`),t.dynamicRef&&e.var(ne.default.dynamicAnchors,(0,X._)`${ne.default.valCxt}.${ne.default.dynamicAnchors}`)},()=>{e.var(ne.default.instancePath,(0,X._)`""`),e.var(ne.default.parentData,(0,X._)`undefined`),e.var(ne.default.parentDataProperty,(0,X._)`undefined`),e.var(ne.default.rootData,ne.default.data),t.dynamicRef&&e.var(ne.default.dynamicAnchors,(0,X._)`{}`)})}function bg(e){const{schema:t,opts:r,gen:n}=e;ku(e,()=>{r.$comment&&t.$comment&&Lu(e),Og(e),n.let(ne.default.vErrors,null),n.let(ne.default.errors,0),r.unevaluated&&Sg(e),Fu(e),jg(e)})}function Sg(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,X._)`${r}.evaluated`),t.if((0,X._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,X._)`${e.evaluated}.props`,(0,X._)`undefined`)),t.if((0,X._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,X._)`${e.evaluated}.items`,(0,X._)`undefined`))}function Pc(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,X._)`/*# sourceURL=${r} */`:X.nil}function Pg(e,t){if(Du(e)&&(Mu(e),Cu(e))){Rg(e,t);return}(0,Au.boolOrEmptySchema)(e,t)}function Cu({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Du(e){return typeof e.schema!="boolean"}function Rg(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&Lu(e),Ig(e),Tg(e);const a=n.const("_errs",ne.default.errors);Fu(e,a),n.var(t,(0,X._)`${a} === ${ne.default.errors}`)}function Mu(e){(0,Ft.checkUnknownRules)(e),Ng(e)}function Fu(e,t){if(e.opts.jtd)return Rc(e,[],!1,t);const r=(0,Sc.getSchemaTypes)(e.schema),n=(0,Sc.coerceAndCheckDataType)(e,r);Rc(e,r,!n,t)}function Ng(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Ft.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Og(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ft.checkStrictMode)(e,"default is ignored in the schema root")}function Ig(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,gg.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Tg(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Lu({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,X._)`${ne.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,X.str)`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code((0,X._)`${ne.default.self}.opts.$comment(${a}, ${o}, ${i}.schema)`)}}function jg(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,X._)`${ne.default.errors} === 0`,()=>t.return(ne.default.data),()=>t.throw((0,X._)`new ${s}(${ne.default.vErrors})`)):(t.assign((0,X._)`${n}.errors`,ne.default.vErrors),a.unevaluated&&Ag(e),t.return((0,X._)`${ne.default.errors} === 0`))}function Ag({gen:e,evaluated:t,props:r,items:n}){r instanceof X.Name&&e.assign((0,X._)`${t}.props`,r),n instanceof X.Name&&e.assign((0,X._)`${t}.items`,n)}function Rc(e,t,r,n){const{gen:s,schema:a,data:o,allErrors:i,opts:c,self:d}=e,{RULES:u}=d;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,Ft.schemaHasRulesButRef)(a,u))){s.block(()=>Uu(e,"$ref",u.all.$ref.definition));return}c.jtd||kg(e,t),s.block(()=>{for(const _ of u.rules)f(_);f(u.post)});function f(_){(0,Yo.shouldUseGroup)(a,_)&&(_.type?(s.if((0,fs.checkDataType)(_.type,o,c.strictNumbers)),Nc(e,_),t.length===1&&t[0]===_.type&&r&&(s.else(),(0,fs.reportTypeError)(e)),s.endIf()):Nc(e,_),i||s.if((0,X._)`${ne.default.errors} === ${n||0}`))}}function Nc(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,_g.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,Yo.shouldUseRule)(n,a)&&Uu(e,a.keyword,a.definition,t.type)})}function kg(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Cg(e,t),e.opts.allowUnionTypes||Dg(e,t),Mg(e,e.dataTypes))}function Cg(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{zu(e.dataTypes,r)||Jo(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Lg(e,t)}}function Dg(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Jo(e,"use allowUnionTypes to allow union type keyword")}function Mg(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,Yo.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>Fg(t,o))&&Jo(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function Fg(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function zu(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Lg(e,t){const r=[];for(const n of e.dataTypes)zu(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Jo(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ft.checkStrictMode)(e,t,e.opts.strictTypes)}class Vu{constructor(t,r,n){if((0,cn.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ft.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",qu(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,cn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ne.default.errors))}result(t,r,n){this.failResult((0,X.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,X.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,X._)`${r} !== undefined && (${(0,X.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?xr.reportExtraError:xr.reportError)(this,this.def.error,r)}$dataError(){(0,xr.reportError)(this,this.def.$dataError||xr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,xr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=X.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=X.nil,r=X.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,X.or)((0,X._)`${s} === undefined`,r)),t!==X.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==X.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,X.or)(o(),i());function o(){if(n.length){if(!(r instanceof X.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,X._)`${(0,fs.checkDataTypes)(c,r,a.opts.strictNumbers,fs.DataType.Wrong)}`}return X.nil}function i(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,X._)`!${c}(${r})`}return X.nil}}subschema(t,r){const n=(0,Xs.getSubschema)(this.it,t);(0,Xs.extendSubschemaData)(n,this.it,t),(0,Xs.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Pg(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Ft.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Ft.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,X.Name)),!0}}vt.KeywordCxt=Vu;function Uu(e,t,r,n){const s=new Vu(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,cn.funcKeywordCode)(s,r):"macro"in r?(0,cn.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,cn.funcKeywordCode)(s,r)}const zg=/^\/(?:[^~]|~0|~1)*$/,Vg=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function qu(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return ne.default.rootData;if(e[0]==="/"){if(!zg.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=ne.default.rootData}else{const d=Vg.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+d[1];if(s=d[2],s==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(a=r[t-u],!s)return a}let o=a;const i=s.split("/");for(const d of i)d&&(a=(0,X._)`${a}${(0,X.getProperty)((0,Ft.unescapeJsonPointer)(d))}`,o=(0,X._)`${o} && ${a}`);return o;function c(d,u){return`Cannot access ${d} ${u} levels up, current level is ${t}`}}vt.getData=qu;var jn={},Oc;function Xo(){if(Oc)return jn;Oc=1,Object.defineProperty(jn,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return jn.default=e,jn}var An={},Ic;function Is(){if(Ic)return An;Ic=1,Object.defineProperty(An,"__esModule",{value:!0});const e=ze;class t extends Error{constructor(n,s,a,o){super(o||`can't resolve reference ${a} from id ${s}`),this.missingRef=(0,e.resolveUrl)(n,s,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return An.default=t,An}var et={};Object.defineProperty(et,"__esModule",{value:!0});et.resolveSchema=et.getCompilingSchema=et.resolveRef=et.compileSchema=et.SchemaEnv=void 0;const ft=ue,Ug=Xo(),ir=Tt,gt=ze,Tc=V,qg=vt;class Ts{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,gt.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}et.SchemaEnv=Ts;function xo(e){const t=Gu.call(this,e);if(t)return t;const r=(0,gt.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new ft.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let i;e.$async&&(i=o.scopeValue("Error",{ref:Ug.default,code:(0,ft._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const d={gen:o,allErrors:this.opts.allErrors,data:ir.default.data,parentData:ir.default.parentData,parentDataProperty:ir.default.parentDataProperty,dataNames:[ir.default.data],dataPathArr:[ft.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ft.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:i,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ft.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ft._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,qg.validateFunctionCode)(d),o.optimize(this.opts.code.optimize);const f=o.toString();u=`${o.scopeRefs(ir.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const p=new Function(`${ir.default.self}`,`${ir.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:w,items:$}=d;p.evaluated={props:w instanceof ft.Name?void 0:w,items:$ instanceof ft.Name?void 0:$,dynamicProps:w instanceof ft.Name,dynamicItems:$ instanceof ft.Name},p.source&&(p.source.evaluated=(0,ft.stringify)(p.evaluated))}return e.validate=p,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}et.compileSchema=xo;function Gg(e,t,r){var n;r=(0,gt.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=Wg.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;o&&(a=new Ts({schema:o,schemaId:i,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=Kg.call(this,a)}et.resolveRef=Gg;function Kg(e){return(0,gt.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:xo.call(this,e)}function Gu(e){for(const t of this._compilations)if(Hg(t,e))return t}et.getCompilingSchema=Gu;function Hg(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Wg(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||js.call(this,e,t)}function js(e,t){const r=this.opts.uriResolver.parse(t),n=(0,gt._getFullPath)(this.opts.uriResolver,r);let s=(0,gt.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return xs.call(this,r,e);const a=(0,gt.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const i=js.call(this,e,o);return typeof(i==null?void 0:i.schema)!="object"?void 0:xs.call(this,r,i)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||xo.call(this,o),a===(0,gt.normalizeId)(t)){const{schema:i}=o,{schemaId:c}=this.opts,d=i[c];return d&&(s=(0,gt.resolveUrl)(this.opts.uriResolver,s,d)),new Ts({schema:i,schemaId:c,root:e,baseId:s})}return xs.call(this,r,o)}}et.resolveSchema=js;const Bg=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function xs(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const i of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Tc.unescapeFragment)(i)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!Bg.has(i)&&d&&(t=(0,gt.resolveUrl)(this.opts.uriResolver,t,d))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Tc.schemaHasRulesButRef)(r,this.RULES)){const i=(0,gt.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=js.call(this,n,i)}const{schemaId:o}=this.opts;if(a=a||new Ts({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const Yg="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Jg="Meta-schema for $data reference (JSON AnySchema extension proposal)",Xg="object",xg=["$data"],Zg={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Qg=!1,ev={$id:Yg,description:Jg,type:Xg,required:xg,properties:Zg,additionalProperties:Qg};var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});const Ku=Ql;Ku.code='require("ajv/dist/runtime/uri").default';Zo.default=Ku;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=vt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ue;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Xo(),s=Is(),a=gr,o=et,i=ue,c=ze,d=Te,u=V,f=ev,_=Zo,p=(R,y)=>new RegExp(R,y);p.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function P(R){var y,S,v,l,h,b,A,k,W,G,N,I,C,M,B,ae,Se,We,je,Ae,Pe,bt,Ve,tr,rr;const lt=R.strict,nr=(y=R.code)===null||y===void 0?void 0:y.optimize,Wr=nr===!0||nr===void 0?1:nr||0,Br=(v=(S=R.code)===null||S===void 0?void 0:S.regExp)!==null&&v!==void 0?v:p,Vs=(l=R.uriResolver)!==null&&l!==void 0?l:_.default;return{strictSchema:(b=(h=R.strictSchema)!==null&&h!==void 0?h:lt)!==null&&b!==void 0?b:!0,strictNumbers:(k=(A=R.strictNumbers)!==null&&A!==void 0?A:lt)!==null&&k!==void 0?k:!0,strictTypes:(G=(W=R.strictTypes)!==null&&W!==void 0?W:lt)!==null&&G!==void 0?G:"log",strictTuples:(I=(N=R.strictTuples)!==null&&N!==void 0?N:lt)!==null&&I!==void 0?I:"log",strictRequired:(M=(C=R.strictRequired)!==null&&C!==void 0?C:lt)!==null&&M!==void 0?M:!1,code:R.code?{...R.code,optimize:Wr,regExp:Br}:{optimize:Wr,regExp:Br},loopRequired:(B=R.loopRequired)!==null&&B!==void 0?B:E,loopEnum:(ae=R.loopEnum)!==null&&ae!==void 0?ae:E,meta:(Se=R.meta)!==null&&Se!==void 0?Se:!0,messages:(We=R.messages)!==null&&We!==void 0?We:!0,inlineRefs:(je=R.inlineRefs)!==null&&je!==void 0?je:!0,schemaId:(Ae=R.schemaId)!==null&&Ae!==void 0?Ae:"$id",addUsedSchema:(Pe=R.addUsedSchema)!==null&&Pe!==void 0?Pe:!0,validateSchema:(bt=R.validateSchema)!==null&&bt!==void 0?bt:!0,validateFormats:(Ve=R.validateFormats)!==null&&Ve!==void 0?Ve:!0,unicodeRegExp:(tr=R.unicodeRegExp)!==null&&tr!==void 0?tr:!0,int32range:(rr=R.int32range)!==null&&rr!==void 0?rr:!0,uriResolver:Vs}}class O{constructor(y={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,y=this.opts={...y,...P(y)};const{es5:S,lines:v}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:$,es5:S,lines:v}),this.logger=x(y.logger);const l=y.validateFormats;y.validateFormats=!1,this.RULES=(0,a.getRules)(),T.call(this,g,y,"NOT SUPPORTED"),T.call(this,m,y,"DEPRECATED","warn"),this._metaOpts=we.call(this),y.formats&&me.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),y.keywords&&$e.call(this,y.keywords),typeof y.meta=="object"&&this.addMetaSchema(y.meta),Z.call(this),y.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:y,meta:S,schemaId:v}=this.opts;let l=f;v==="id"&&(l={...f},l.id=l.$id,delete l.$id),S&&y&&this.addMetaSchema(l,l[v],!1)}defaultMeta(){const{meta:y,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof y=="object"?y[S]||y:void 0}validate(y,S){let v;if(typeof y=="string"){if(v=this.getSchema(y),!v)throw new Error(`no schema with key or ref "${y}"`)}else v=this.compile(y);const l=v(S);return"$async"in v||(this.errors=v.errors),l}compile(y,S){const v=this._addSchema(y,S);return v.validate||this._compileSchemaEnv(v)}compileAsync(y,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:v}=this.opts;return l.call(this,y,S);async function l(G,N){await h.call(this,G.$schema);const I=this._addSchema(G,N);return I.validate||b.call(this,I)}async function h(G){G&&!this.getSchema(G)&&await l.call(this,{$ref:G},!0)}async function b(G){try{return this._compileSchemaEnv(G)}catch(N){if(!(N instanceof s.default))throw N;return A.call(this,N),await k.call(this,N.missingSchema),b.call(this,G)}}function A({missingSchema:G,missingRef:N}){if(this.refs[G])throw new Error(`AnySchema ${G} is loaded but ${N} cannot be resolved`)}async function k(G){const N=await W.call(this,G);this.refs[G]||await h.call(this,N.$schema),this.refs[G]||this.addSchema(N,G,S)}async function W(G){const N=this._loading[G];if(N)return N;try{return await(this._loading[G]=v(G))}finally{delete this._loading[G]}}}addSchema(y,S,v,l=this.opts.validateSchema){if(Array.isArray(y)){for(const b of y)this.addSchema(b,void 0,v,l);return this}let h;if(typeof y=="object"){const{schemaId:b}=this.opts;if(h=y[b],h!==void 0&&typeof h!="string")throw new Error(`schema ${b} must be string`)}return S=(0,c.normalizeId)(S||h),this._checkUnique(S),this.schemas[S]=this._addSchema(y,v,S,l,!0),this}addMetaSchema(y,S,v=this.opts.validateSchema){return this.addSchema(y,S,!0,v),this}validateSchema(y,S){if(typeof y=="boolean")return!0;let v;if(v=y.$schema,v!==void 0&&typeof v!="string")throw new Error("$schema must be a string");if(v=v||this.opts.defaultMeta||this.defaultMeta(),!v)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate(v,y);if(!l&&S){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return l}getSchema(y){let S;for(;typeof(S=H.call(this,y))=="string";)y=S;if(S===void 0){const{schemaId:v}=this.opts,l=new o.SchemaEnv({schema:{},schemaId:v});if(S=o.resolveSchema.call(this,l,y),!S)return;this.refs[y]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(y){if(y instanceof RegExp)return this._removeAllSchemas(this.schemas,y),this._removeAllSchemas(this.refs,y),this;switch(typeof y){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=H.call(this,y);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[y],delete this.refs[y],this}case"object":{const S=y;this._cache.delete(S);let v=y[this.opts.schemaId];return v&&(v=(0,c.normalizeId)(v),delete this.schemas[v],delete this.refs[v]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(y){for(const S of y)this.addKeyword(S);return this}addKeyword(y,S){let v;if(typeof y=="string")v=y,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=v);else if(typeof y=="object"&&S===void 0){if(S=y,v=S.keyword,Array.isArray(v)&&!v.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(j.call(this,v,S),!S)return(0,u.eachItem)(v,h=>D.call(this,h)),this;z.call(this,S);const l={...S,type:(0,d.getJSONTypes)(S.type),schemaType:(0,d.getJSONTypes)(S.schemaType)};return(0,u.eachItem)(v,l.type.length===0?h=>D.call(this,h,l):h=>l.type.forEach(b=>D.call(this,h,l,b))),this}getKeyword(y){const S=this.RULES.all[y];return typeof S=="object"?S.definition:!!S}removeKeyword(y){const{RULES:S}=this;delete S.keywords[y],delete S.all[y];for(const v of S.rules){const l=v.rules.findIndex(h=>h.keyword===y);l>=0&&v.rules.splice(l,1)}return this}addFormat(y,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[y]=S,this}errorsText(y=this.errors,{separator:S=", ",dataVar:v="data"}={}){return!y||y.length===0?"No errors":y.map(l=>`${v}${l.instancePath} ${l.message}`).reduce((l,h)=>l+S+h)}$dataMetaSchema(y,S){const v=this.RULES.all;y=JSON.parse(JSON.stringify(y));for(const l of S){const h=l.split("/").slice(1);let b=y;for(const A of h)b=b[A];for(const A in v){const k=v[A];if(typeof k!="object")continue;const{$data:W}=k.definition,G=b[A];W&&G&&(b[A]=U(G))}}return y}_removeAllSchemas(y,S){for(const v in y){const l=y[v];(!S||S.test(v))&&(typeof l=="string"?delete y[v]:l&&!l.meta&&(this._cache.delete(l.schema),delete y[v]))}}_addSchema(y,S,v,l=this.opts.validateSchema,h=this.opts.addUsedSchema){let b;const{schemaId:A}=this.opts;if(typeof y=="object")b=y[A];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof y!="boolean")throw new Error("schema must be object or boolean")}let k=this._cache.get(y);if(k!==void 0)return k;v=(0,c.normalizeId)(b||v);const W=c.getSchemaRefs.call(this,y,v);return k=new o.SchemaEnv({schema:y,schemaId:A,meta:S,baseId:v,localRefs:W}),this._cache.set(k.schema,k),h&&!v.startsWith("#")&&(v&&this._checkUnique(v),this.refs[v]=k),l&&this.validateSchema(y,!0),k}_checkUnique(y){if(this.schemas[y]||this.refs[y])throw new Error(`schema with key or id "${y}" already exists`)}_compileSchemaEnv(y){if(y.meta?this._compileMetaSchema(y):o.compileSchema.call(this,y),!y.validate)throw new Error("ajv implementation error");return y.validate}_compileMetaSchema(y){const S=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,y)}finally{this.opts=S}}}O.ValidationError=n.default,O.MissingRefError=s.default,e.default=O;function T(R,y,S,v="error"){for(const l in R){const h=l;h in y&&this.logger[v](`${S}: option ${l}. ${R[h]}`)}}function H(R){return R=(0,c.normalizeId)(R),this.schemas[R]||this.refs[R]}function Z(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const y in R)this.addSchema(R[y],y)}function me(){for(const R in this.opts.formats){const y=this.opts.formats[R];y&&this.addFormat(R,y)}}function $e(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const y in R){const S=R[y];S.keyword||(S.keyword=y),this.addKeyword(S)}}function we(){const R={...this.opts};for(const y of w)delete R[y];return R}const K={log(){},warn(){},error(){}};function x(R){if(R===!1)return K;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const ee=/^[a-z_$][a-z0-9_$:-]*$/i;function j(R,y){const{RULES:S}=this;if((0,u.eachItem)(R,v=>{if(S.keywords[v])throw new Error(`Keyword ${v} is already defined`);if(!ee.test(v))throw new Error(`Keyword ${v} has invalid name`)}),!!y&&y.$data&&!("code"in y||"validate"in y))throw new Error('$data keyword must have "code" or "validate" function')}function D(R,y,S){var v;const l=y==null?void 0:y.post;if(S&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let b=l?h.post:h.rules.find(({type:k})=>k===S);if(b||(b={type:S,rules:[]},h.rules.push(b)),h.keywords[R]=!0,!y)return;const A={keyword:R,definition:{...y,type:(0,d.getJSONTypes)(y.type),schemaType:(0,d.getJSONTypes)(y.schemaType)}};y.before?q.call(this,b,A,y.before):b.rules.push(A),h.all[R]=A,(v=y.implements)===null||v===void 0||v.forEach(k=>this.addKeyword(k))}function q(R,y,S){const v=R.rules.findIndex(l=>l.keyword===S);v>=0?R.rules.splice(v,0,y):(R.rules.push(y),this.logger.warn(`rule ${S} is not defined`))}function z(R){let{metaSchema:y}=R;y!==void 0&&(R.$data&&this.opts.$data&&(y=U(y)),R.validateSchema=this.compile(y,!0))}const J={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function U(R){return{anyOf:[R,J]}}})(fu);var Qo={},ei={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});const tv={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ti.default=tv;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.callRef=vr.getValidate=void 0;const rv=Is(),jc=fe,Ze=ue,br=Tt,Ac=et,kn=V,nv={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:i,self:c}=n,{root:d}=a;if((r==="#"||r==="#/")&&s===d.baseId)return f();const u=Ac.resolveRef.call(c,d,s,r);if(u===void 0)throw new rv.default(n.opts.uriResolver,s,r);if(u instanceof Ac.SchemaEnv)return _(u);return p(u);function f(){if(a===d)return Qn(e,o,a,a.$async);const w=t.scopeValue("root",{ref:d});return Qn(e,(0,Ze._)`${w}.validate`,d,d.$async)}function _(w){const $=Hu(e,w);Qn(e,$,w,w.$async)}function p(w){const $=t.scopeValue("schema",i.code.source===!0?{ref:w,code:(0,Ze.stringify)(w)}:{ref:w}),g=t.name("valid"),m=e.subschema({schema:w,dataTypes:[],schemaPath:Ze.nil,topSchemaRef:$,errSchemaPath:r},g);e.mergeEvaluated(m),e.ok(g)}}};function Hu(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ze._)`${r.scopeValue("wrapper",{ref:t})}.validate`}vr.getValidate=Hu;function Qn(e,t,r,n){const{gen:s,it:a}=e,{allErrors:o,schemaEnv:i,opts:c}=a,d=c.passContext?br.default.this:Ze.nil;n?u():f();function u(){if(!i.$async)throw new Error("async schema referenced by sync schema");const w=s.let("valid");s.try(()=>{s.code((0,Ze._)`await ${(0,jc.callValidateCode)(e,t,d)}`),p(t),o||s.assign(w,!0)},$=>{s.if((0,Ze._)`!(${$} instanceof ${a.ValidationError})`,()=>s.throw($)),_($),o||s.assign(w,!1)}),e.ok(w)}function f(){e.result((0,jc.callValidateCode)(e,t,d),()=>p(t),()=>_(t))}function _(w){const $=(0,Ze._)`${w}.errors`;s.assign(br.default.vErrors,(0,Ze._)`${br.default.vErrors} === null ? ${$} : ${br.default.vErrors}.concat(${$})`),s.assign(br.default.errors,(0,Ze._)`${br.default.vErrors}.length`)}function p(w){var $;if(!a.opts.unevaluated)return;const g=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(a.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(a.props=kn.mergeEvaluated.props(s,g.props,a.props));else{const m=s.var("props",(0,Ze._)`${w}.evaluated.props`);a.props=kn.mergeEvaluated.props(s,m,a.props,Ze.Name)}if(a.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(a.items=kn.mergeEvaluated.items(s,g.items,a.items));else{const m=s.var("items",(0,Ze._)`${w}.evaluated.items`);a.items=kn.mergeEvaluated.items(s,m,a.items,Ze.Name)}}}vr.callRef=Qn;vr.default=nv;Object.defineProperty(ei,"__esModule",{value:!0});const sv=ti,av=vr,ov=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sv.default,av.default];ei.default=ov;var ri={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});const hs=ue,Wt=hs.operators,ms={maximum:{okStr:"<=",ok:Wt.LTE,fail:Wt.GT},minimum:{okStr:">=",ok:Wt.GTE,fail:Wt.LT},exclusiveMaximum:{okStr:"<",ok:Wt.LT,fail:Wt.GTE},exclusiveMinimum:{okStr:">",ok:Wt.GT,fail:Wt.LTE}},iv={message:({keyword:e,schemaCode:t})=>(0,hs.str)`must be ${ms[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,hs._)`{comparison: ${ms[e].okStr}, limit: ${t}}`},cv={keyword:Object.keys(ms),type:"number",schemaType:"number",$data:!0,error:iv,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,hs._)`${r} ${ms[t].fail} ${n} || isNaN(${r})`)}};ni.default=cv;var si={};Object.defineProperty(si,"__esModule",{value:!0});const ln=ue,lv={message:({schemaCode:e})=>(0,ln.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ln._)`{multipleOf: ${e}}`},uv={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:lv,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),i=a?(0,ln._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,ln._)`${o} !== parseInt(${o})`;e.fail$data((0,ln._)`(${n} === 0 || (${o} = ${r}/${n}, ${i}))`)}};si.default=uv;var ai={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});function Wu(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}oi.default=Wu;Wu.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ai,"__esModule",{value:!0});const fr=ue,dv=V,fv=oi,hv={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,fr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,fr._)`{limit: ${e}}`},mv={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:hv,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?fr.operators.GT:fr.operators.LT,o=s.opts.unicode===!1?(0,fr._)`${r}.length`:(0,fr._)`${(0,dv.useFunc)(e.gen,fv.default)}(${r})`;e.fail$data((0,fr._)`${o} ${a} ${n}`)}};ai.default=mv;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});const pv=fe,ps=ue,yv={message:({schemaCode:e})=>(0,ps.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ps._)`{pattern: ${e}}`},$v={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:yv,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",i=r?(0,ps._)`(new RegExp(${s}, ${o}))`:(0,pv.usePattern)(e,n);e.fail$data((0,ps._)`!${i}.test(${t})`)}};ii.default=$v;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});const un=ue,_v={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,un.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,un._)`{limit: ${e}}`},gv={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_v,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?un.operators.GT:un.operators.LT;e.fail$data((0,un._)`Object.keys(${r}).length ${s} ${n}`)}};ci.default=gv;var li={};Object.defineProperty(li,"__esModule",{value:!0});const Zr=fe,dn=ue,vv=V,wv={message:({params:{missingProperty:e}})=>(0,dn.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,dn._)`{missingProperty: ${e}}`},Ev={keyword:"required",type:"object",schemaType:"array",$data:!0,error:wv,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:i}=o;if(!a&&r.length===0)return;const c=r.length>=i.loopRequired;if(o.allErrors?d():u(),i.strictRequired){const p=e.parentSchema.properties,{definedProperties:w}=e.it;for(const $ of r)if((p==null?void 0:p[$])===void 0&&!w.has($)){const g=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${$}" is not defined at "${g}" (strictRequired)`;(0,vv.checkStrictMode)(o,m,o.opts.strictRequired)}}function d(){if(c||a)e.block$data(dn.nil,f);else for(const p of r)(0,Zr.checkReportMissingProp)(e,p)}function u(){const p=t.let("missing");if(c||a){const w=t.let("valid",!0);e.block$data(w,()=>_(p,w)),e.ok(w)}else t.if((0,Zr.checkMissingProp)(e,r,p)),(0,Zr.reportMissingProp)(e,p),t.else()}function f(){t.forOf("prop",n,p=>{e.setParams({missingProperty:p}),t.if((0,Zr.noPropertyInData)(t,s,p,i.ownProperties),()=>e.error())})}function _(p,w){e.setParams({missingProperty:p}),t.forOf(p,n,()=>{t.assign(w,(0,Zr.propertyInData)(t,s,p,i.ownProperties)),t.if((0,dn.not)(w),()=>{e.error(),t.break()})},dn.nil)}}};li.default=Ev;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});const fn=ue,bv={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,fn.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,fn._)`{limit: ${e}}`},Sv={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:bv,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?fn.operators.GT:fn.operators.LT;e.fail$data((0,fn._)`${r}.length ${s} ${n}`)}};ui.default=Sv;var di={},wn={};Object.defineProperty(wn,"__esModule",{value:!0});const Bu=vs;Bu.code='require("ajv/dist/runtime/equal").default';wn.default=Bu;Object.defineProperty(di,"__esModule",{value:!0});const Zs=Te,Me=ue,Pv=V,Rv=wn,Nv={message:({params:{i:e,j:t}})=>(0,Me.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Me._)`{i: ${e}, j: ${t}}`},Ov={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Nv,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:i}=e;if(!n&&!s)return;const c=t.let("valid"),d=a.items?(0,Zs.getSchemaTypes)(a.items):[];e.block$data(c,u,(0,Me._)`${o} === false`),e.ok(c);function u(){const w=t.let("i",(0,Me._)`${r}.length`),$=t.let("j");e.setParams({i:w,j:$}),t.assign(c,!0),t.if((0,Me._)`${w} > 1`,()=>(f()?_:p)(w,$))}function f(){return d.length>0&&!d.some(w=>w==="object"||w==="array")}function _(w,$){const g=t.name("item"),m=(0,Zs.checkDataTypes)(d,g,i.opts.strictNumbers,Zs.DataType.Wrong),E=t.const("indices",(0,Me._)`{}`);t.for((0,Me._)`;${w}--;`,()=>{t.let(g,(0,Me._)`${r}[${w}]`),t.if(m,(0,Me._)`continue`),d.length>1&&t.if((0,Me._)`typeof ${g} == "string"`,(0,Me._)`${g} += "_"`),t.if((0,Me._)`typeof ${E}[${g}] == "number"`,()=>{t.assign($,(0,Me._)`${E}[${g}]`),e.error(),t.assign(c,!1).break()}).code((0,Me._)`${E}[${g}] = ${w}`)})}function p(w,$){const g=(0,Pv.useFunc)(t,Rv.default),m=t.name("outer");t.label(m).for((0,Me._)`;${w}--;`,()=>t.for((0,Me._)`${$} = ${w}; ${$}--;`,()=>t.if((0,Me._)`${g}(${r}[${w}], ${r}[${$}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};di.default=Ov;var fi={};Object.defineProperty(fi,"__esModule",{value:!0});const Ia=ue,Iv=V,Tv=wn,jv={message:"must be equal to constant",params:({schemaCode:e})=>(0,Ia._)`{allowedValue: ${e}}`},Av={keyword:"const",$data:!0,error:jv,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Ia._)`!${(0,Iv.useFunc)(t,Tv.default)}(${r}, ${s})`):e.fail((0,Ia._)`${a} !== ${r}`)}};fi.default=Av;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});const rn=ue,kv=V,Cv=wn,Dv={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,rn._)`{allowedValues: ${e}}`},Mv={keyword:"enum",schemaType:"array",$data:!0,error:Dv,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const i=s.length>=o.opts.loopEnum;let c;const d=()=>c??(c=(0,kv.useFunc)(t,Cv.default));let u;if(i||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const p=t.const("vSchema",a);u=(0,rn.or)(...s.map((w,$)=>_(p,$)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",a,p=>t.if((0,rn._)`${d()}(${r}, ${p})`,()=>t.assign(u,!0).break()))}function _(p,w){const $=s[w];return typeof $=="object"&&$!==null?(0,rn._)`${d()}(${r}, ${p}[${w}])`:(0,rn._)`${r} === ${$}`}}};hi.default=Mv;Object.defineProperty(ri,"__esModule",{value:!0});const Fv=ni,Lv=si,zv=ai,Vv=ii,Uv=ci,qv=li,Gv=ui,Kv=di,Hv=fi,Wv=hi,Bv=[Fv.default,Lv.default,zv.default,Vv.default,Uv.default,qv.default,Gv.default,Kv.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Hv.default,Wv.default];ri.default=Bv;var mi={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.validateAdditionalItems=void 0;const hr=ue,Ta=V,Yv={message:({params:{len:e}})=>(0,hr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,hr._)`{limit: ${e}}`},Jv={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Yv,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Ta.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Yu(e,n)}};function Yu(e,t){const{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;const i=r.const("len",(0,hr._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,hr._)`${i} <= ${t.length}`);else if(typeof n=="object"&&!(0,Ta.alwaysValidSchema)(o,n)){const d=r.var("valid",(0,hr._)`${i} <= ${t.length}`);r.if((0,hr.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,i,u=>{e.subschema({keyword:a,dataProp:u,dataPropType:Ta.Type.Num},d),o.allErrors||r.if((0,hr.not)(d),()=>r.break())})}}Gr.validateAdditionalItems=Yu;Gr.default=Jv;var pi={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.validateTuple=void 0;const kc=ue,es=V,Xv=fe,xv={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ju(e,"additionalItems",t);r.items=!0,!(0,es.alwaysValidSchema)(r,t)&&e.ok((0,Xv.validateArray)(e))}};function Ju(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:i}=e;u(s),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=es.mergeEvaluated.items(n,r.length,i.items));const c=n.name("valid"),d=n.const("len",(0,kc._)`${a}.length`);r.forEach((f,_)=>{(0,es.alwaysValidSchema)(i,f)||(n.if((0,kc._)`${d} > ${_}`,()=>e.subschema({keyword:o,schemaProp:_,dataProp:_},c)),e.ok(c))});function u(f){const{opts:_,errSchemaPath:p}=i,w=r.length,$=w===f.minItems&&(w===f.maxItems||f[t]===!1);if(_.strictTuples&&!$){const g=`"${o}" is ${w}-tuple, but minItems or maxItems/${t} are not specified or different at path "${p}"`;(0,es.checkStrictMode)(i,g,_.strictTuples)}}}Kr.validateTuple=Ju;Kr.default=xv;Object.defineProperty(pi,"__esModule",{value:!0});const Zv=Kr,Qv={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Zv.validateTuple)(e,"items")};pi.default=Qv;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const Cc=ue,e0=V,t0=fe,r0=Gr,n0={message:({params:{len:e}})=>(0,Cc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Cc._)`{limit: ${e}}`},s0={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:n0,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,e0.alwaysValidSchema)(n,t)&&(s?(0,r0.validateAdditionalItems)(e,s):e.ok((0,t0.validateArray)(e)))}};yi.default=s0;var $i={};Object.defineProperty($i,"__esModule",{value:!0});const ct=ue,Cn=V,a0={message:({params:{min:e,max:t}})=>t===void 0?(0,ct.str)`must contain at least ${e} valid item(s)`:(0,ct.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ct._)`{minContains: ${e}}`:(0,ct._)`{minContains: ${e}, maxContains: ${t}}`},o0={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:a0,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let o,i;const{minContains:c,maxContains:d}=n;a.opts.next?(o=c===void 0?1:c,i=d):o=1;const u=t.const("len",(0,ct._)`${s}.length`);if(e.setParams({min:o,max:i}),i===void 0&&o===0){(0,Cn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&o>i){(0,Cn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Cn.alwaysValidSchema)(a,r)){let $=(0,ct._)`${u} >= ${o}`;i!==void 0&&($=(0,ct._)`${$} && ${u} <= ${i}`),e.pass($);return}a.items=!0;const f=t.name("valid");i===void 0&&o===1?p(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),i!==void 0&&t.if((0,ct._)`${s}.length > 0`,_)):(t.let(f,!1),_()),e.result(f,()=>e.reset());function _(){const $=t.name("_valid"),g=t.let("count",0);p($,()=>t.if($,()=>w(g)))}function p($,g){t.forRange("i",0,u,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Cn.Type.Num,compositeRule:!0},$),g()})}function w($){t.code((0,ct._)`${$}++`),i===void 0?t.if((0,ct._)`${$} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,ct._)`${$} > ${i}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,ct._)`${$} >= ${o}`,()=>t.assign(f,!0)))}}};$i.default=o0;var Xu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ue,r=V,n=fe;e.error={message:({params:{property:c,depsCount:d,deps:u}})=>{const f=d===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${d},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,u]=a(c);o(c,d),i(c,u)}};function a({schema:c}){const d={},u={};for(const f in c){if(f==="__proto__")continue;const _=Array.isArray(c[f])?d:u;_[f]=c[f]}return[d,u]}function o(c,d=c.schema){const{gen:u,data:f,it:_}=c;if(Object.keys(d).length===0)return;const p=u.let("missing");for(const w in d){const $=d[w];if($.length===0)continue;const g=(0,n.propertyInData)(u,f,w,_.opts.ownProperties);c.setParams({property:w,depsCount:$.length,deps:$.join(", ")}),_.allErrors?u.if(g,()=>{for(const m of $)(0,n.checkReportMissingProp)(c,m)}):(u.if((0,t._)`${g} && (${(0,n.checkMissingProp)(c,$,p)})`),(0,n.reportMissingProp)(c,p),u.else())}}e.validatePropertyDeps=o;function i(c,d=c.schema){const{gen:u,data:f,keyword:_,it:p}=c,w=u.name("valid");for(const $ in d)(0,r.alwaysValidSchema)(p,d[$])||(u.if((0,n.propertyInData)(u,f,$,p.opts.ownProperties),()=>{const g=c.subschema({keyword:_,schemaProp:$},w);c.mergeValidEvaluated(g,w)},()=>u.var(w,!0)),c.ok(w))}e.validateSchemaDeps=i,e.default=s})(Xu);var _i={};Object.defineProperty(_i,"__esModule",{value:!0});const xu=ue,i0=V,c0={message:"property name must be valid",params:({params:e})=>(0,xu._)`{propertyName: ${e.propertyName}}`},l0={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:c0,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,i0.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,xu.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};_i.default=l0;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Dn=fe,mt=ue,u0=Tt,Mn=V,d0={message:"must NOT have additional properties",params:({params:e})=>(0,mt._)`{additionalProperty: ${e.additionalProperty}}`},f0={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:d0,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:i,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Mn.alwaysValidSchema)(o,r))return;const d=(0,Dn.allSchemaProperties)(n.properties),u=(0,Dn.allSchemaProperties)(n.patternProperties);f(),e.ok((0,mt._)`${a} === ${u0.default.errors}`);function f(){t.forIn("key",s,g=>{!d.length&&!u.length?w(g):t.if(_(g),()=>w(g))})}function _(g){let m;if(d.length>8){const E=(0,Mn.schemaRefOrVal)(o,n.properties,"properties");m=(0,Dn.isOwnProperty)(t,E,g)}else d.length?m=(0,mt.or)(...d.map(E=>(0,mt._)`${g} === ${E}`)):m=mt.nil;return u.length&&(m=(0,mt.or)(m,...u.map(E=>(0,mt._)`${(0,Dn.usePattern)(e,E)}.test(${g})`))),(0,mt.not)(m)}function p(g){t.code((0,mt._)`delete ${s}[${g}]`)}function w(g){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){p(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),i||t.break();return}if(typeof r=="object"&&!(0,Mn.alwaysValidSchema)(o,r)){const m=t.name("valid");c.removeAdditional==="failing"?($(g,m,!1),t.if((0,mt.not)(m),()=>{e.reset(),p(g)})):($(g,m),i||t.if((0,mt.not)(m),()=>t.break()))}}function $(g,m,E){const P={keyword:"additionalProperties",dataProp:g,dataPropType:Mn.Type.Str};E===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(P,m)}}};As.default=f0;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});const h0=vt,Dc=fe,Qs=V,Mc=As,m0={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Mc.default.code(new h0.KeywordCxt(a,Mc.default,"additionalProperties"));const o=(0,Dc.allSchemaProperties)(r);for(const f of o)a.definedProperties.add(f);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=Qs.mergeEvaluated.props(t,(0,Qs.toHash)(o),a.props));const i=o.filter(f=>!(0,Qs.alwaysValidSchema)(a,r[f]));if(i.length===0)return;const c=t.name("valid");for(const f of i)d(f)?u(f):(t.if((0,Dc.propertyInData)(t,s,f,a.opts.ownProperties)),u(f),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function d(f){return a.opts.useDefaults&&!a.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};gi.default=m0;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});const Fc=fe,Fn=ue,Lc=V,zc=V,p0={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,i=(0,Fc.allSchemaProperties)(r),c=i.filter($=>(0,Lc.alwaysValidSchema)(a,r[$]));if(i.length===0||c.length===i.length&&(!a.opts.unevaluated||a.props===!0))return;const d=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");a.props!==!0&&!(a.props instanceof Fn.Name)&&(a.props=(0,zc.evaluatedPropsToName)(t,a.props));const{props:f}=a;_();function _(){for(const $ of i)d&&p($),a.allErrors?w($):(t.var(u,!0),w($),t.if(u))}function p($){for(const g in d)new RegExp($).test(g)&&(0,Lc.checkStrictMode)(a,`property ${g} matches pattern ${$} (use allowMatchingProperties)`)}function w($){t.forIn("key",n,g=>{t.if((0,Fn._)`${(0,Fc.usePattern)(e,$)}.test(${g})`,()=>{const m=c.includes($);m||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:g,dataPropType:zc.Type.Str},u),a.opts.unevaluated&&f!==!0?t.assign((0,Fn._)`${f}[${g}]`,!0):!m&&!a.allErrors&&t.if((0,Fn.not)(u),()=>t.break())})})}}};vi.default=p0;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});const y0=V,$0={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,y0.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};wi.default=$0;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});const _0=fe,g0={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_0.validateUnion,error:{message:"must match a schema in anyOf"}};Ei.default=g0;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});const ts=ue,v0=V,w0={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ts._)`{passingSchemas: ${e.passing}}`},E0={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:w0,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),i=t.let("passing",null),c=t.name("_valid");e.setParams({passing:i}),t.block(d),e.result(o,()=>e.reset(),()=>e.error(!0));function d(){a.forEach((u,f)=>{let _;(0,v0.alwaysValidSchema)(s,u)?t.var(c,!0):_=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,ts._)`${c} && ${o}`).assign(o,!1).assign(i,(0,ts._)`[${i}, ${f}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(i,f),_&&e.mergeEvaluated(_,ts.Name)})})}}};bi.default=E0;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});const b0=V,S0={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,o)=>{if((0,b0.alwaysValidSchema)(n,a))return;const i=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(i)})}};Si.default=S0;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});const ys=ue,Zu=V,P0={message:({params:e})=>(0,ys.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ys._)`{failingKeyword: ${e.ifClause}}`},R0={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:P0,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Zu.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Vc(n,"then"),a=Vc(n,"else");if(!s&&!a)return;const o=t.let("valid",!0),i=t.name("_valid");if(c(),e.reset(),s&&a){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(i,d("then",u),d("else",u))}else s?t.if(i,d("then")):t.if((0,ys.not)(i),d("else"));e.pass(o,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);e.mergeEvaluated(u)}function d(u,f){return()=>{const _=e.subschema({keyword:u},i);t.assign(o,i),e.mergeValidEvaluated(_,o),f?t.assign(f,(0,ys._)`${u}`):e.setParams({ifClause:u})}}}};function Vc(e,t){const r=e.schema[t];return r!==void 0&&!(0,Zu.alwaysValidSchema)(e,r)}Pi.default=R0;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});const N0=V,O0={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,N0.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ri.default=O0;Object.defineProperty(mi,"__esModule",{value:!0});const I0=Gr,T0=pi,j0=Kr,A0=yi,k0=$i,C0=Xu,D0=_i,M0=As,F0=gi,L0=vi,z0=wi,V0=Ei,U0=bi,q0=Si,G0=Pi,K0=Ri;function H0(e=!1){const t=[z0.default,V0.default,U0.default,q0.default,G0.default,K0.default,D0.default,M0.default,C0.default,F0.default,L0.default];return e?t.push(T0.default,A0.default):t.push(I0.default,j0.default),t.push(k0.default),t}mi.default=H0;var Ni={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});const Ne=ue,W0={message:({schemaCode:e})=>(0,Ne.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ne._)`{format: ${e}}`},B0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:W0,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:i}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:f}=i;if(!c.validateFormats)return;s?_():p();function _(){const w=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),$=r.const("fDef",(0,Ne._)`${w}[${o}]`),g=r.let("fType"),m=r.let("format");r.if((0,Ne._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(g,(0,Ne._)`${$}.type || "string"`).assign(m,(0,Ne._)`${$}.validate`),()=>r.assign(g,(0,Ne._)`"string"`).assign(m,$)),e.fail$data((0,Ne.or)(E(),P()));function E(){return c.strictSchema===!1?Ne.nil:(0,Ne._)`${o} && !${m}`}function P(){const O=u.$async?(0,Ne._)`(${$}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Ne._)`${m}(${n})`,T=(0,Ne._)`(typeof ${m} == "function" ? ${O} : ${m}.test(${n}))`;return(0,Ne._)`${m} && ${m} !== true && ${g} === ${t} && !${T}`}}function p(){const w=f.formats[a];if(!w){E();return}if(w===!0)return;const[$,g,m]=P(w);$===t&&e.pass(O());function E(){if(c.strictSchema===!1){f.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function P(T){const H=T instanceof RegExp?(0,Ne.regexpCode)(T):c.code.formats?(0,Ne._)`${c.code.formats}${(0,Ne.getProperty)(a)}`:void 0,Z=r.scopeValue("formats",{key:a,ref:T,code:H});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,Ne._)`${Z}.validate`]:["string",T,Z]}function O(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Ne._)`await ${m}(${n})`}return typeof g=="function"?(0,Ne._)`${m}(${n})`:(0,Ne._)`${m}.test(${n})`}}}};Oi.default=B0;Object.defineProperty(Ni,"__esModule",{value:!0});const Y0=Oi,J0=[Y0.default];Ni.default=J0;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.contentVocabulary=Fr.metadataVocabulary=void 0;Fr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Fr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Qo,"__esModule",{value:!0});const X0=ei,x0=ri,Z0=mi,Q0=Ni,Uc=Fr,ew=[X0.default,x0.default,(0,Z0.default)(),Q0.default,Uc.metadataVocabulary,Uc.contentVocabulary];Qo.default=ew;var Ii={},ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.DiscrError=void 0;var qc;(function(e){e.Tag="tag",e.Mapping="mapping"})(qc||(ks.DiscrError=qc={}));Object.defineProperty(Ii,"__esModule",{value:!0});const Rr=ue,ja=ks,Gc=et,tw=Is(),rw=V,nw={message:({params:{discrError:e,tagName:t}})=>e===ja.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Rr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},sw={keyword:"discriminator",type:"object",schemaType:"object",error:nw,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,Rr._)`${r}${(0,Rr.getProperty)(i)}`);t.if((0,Rr._)`typeof ${d} == "string"`,()=>u(),()=>e.error(!1,{discrError:ja.DiscrError.Tag,tag:d,tagName:i})),e.ok(c);function u(){const p=_();t.if(!1);for(const w in p)t.elseIf((0,Rr._)`${d} === ${w}`),t.assign(c,f(p[w]));t.else(),e.error(!1,{discrError:ja.DiscrError.Mapping,tag:d,tagName:i}),t.endIf()}function f(p){const w=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:p},w);return e.mergeEvaluated($,Rr.Name),w}function _(){var p;const w={},$=m(s);let g=!0;for(let O=0;O<o.length;O++){let T=o[O];if(T!=null&&T.$ref&&!(0,rw.schemaHasRulesButRef)(T,a.self.RULES)){const Z=T.$ref;if(T=Gc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,Z),T instanceof Gc.SchemaEnv&&(T=T.schema),T===void 0)throw new tw.default(a.opts.uriResolver,a.baseId,Z)}const H=(p=T==null?void 0:T.properties)===null||p===void 0?void 0:p[i];if(typeof H!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);g=g&&($||m(T)),E(H,O)}if(!g)throw new Error(`discriminator: "${i}" must be required`);return w;function m({required:O}){return Array.isArray(O)&&O.includes(i)}function E(O,T){if(O.const)P(O.const,T);else if(O.enum)for(const H of O.enum)P(H,T);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function P(O,T){if(typeof O!="string"||O in w)throw new Error(`discriminator: "${i}" values must be unique strings`);w[O]=T}}}};Ii.default=sw;const aw="http://json-schema.org/draft-07/schema#",ow="http://json-schema.org/draft-07/schema#",iw="Core schema meta-schema",cw={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},lw=["object","boolean"],uw={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dw={$schema:aw,$id:ow,title:iw,definitions:cw,type:lw,properties:uw,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=fu,n=Qo,s=Ii,a=dw,o=["/properties"],i="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const w=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(w,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=vt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var u=ue;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=Xo();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var _=Is();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return _.default}})})(Sa,Sa.exports);var fw=Sa.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=fw,r=ue,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:i,schemaCode:c})=>(0,r.str)`should be ${s[i].okStr} ${c}`,params:({keyword:i,schemaCode:c})=>(0,r._)`{comparison: ${s[i].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(i){const{gen:c,data:d,schemaCode:u,keyword:f,it:_}=i,{opts:p,self:w}=_;if(!p.validateFormats)return;const $=new t.KeywordCxt(_,w.RULES.all.format.definition,"format");$.$data?g():m();function g(){const P=c.scopeValue("formats",{ref:w.formats,code:p.code.formats}),O=c.const("fmt",(0,r._)`${P}[${$.schemaCode}]`);i.fail$data((0,r.or)((0,r._)`typeof ${O} != "object"`,(0,r._)`${O} instanceof RegExp`,(0,r._)`typeof ${O}.compare != "function"`,E(O)))}function m(){const P=$.schema,O=w.formats[P];if(!O||O===!0)return;if(typeof O!="object"||O instanceof RegExp||typeof O.compare!="function")throw new Error(`"${f}": format "${P}" does not define "compare" function`);const T=c.scopeValue("formats",{key:P,ref:O,code:p.code.formats?(0,r._)`${p.code.formats}${(0,r.getProperty)(P)}`:void 0});i.fail$data(E(T))}function E(P){return(0,r._)`${P}.compare(${d}, ${u}) ${s[f].fail} 0`}},dependencies:["format"]};const o=i=>(i.addKeyword(e.formatLimitDefinition),i);e.default=o})(du);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=uu,n=du,s=ue,a=new s.Name("fullFormats"),o=new s.Name("fastFormats"),i=(d,u={keywords:!0})=>{if(Array.isArray(u))return c(d,u,r.fullFormats,a),d;const[f,_]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,a],p=u.formats||r.formatNames;return c(d,p,f,_),u.keywords&&(0,n.default)(d),d};i.get=(d,u="full")=>{const _=(u==="fast"?r.fastFormats:r.fullFormats)[d];if(!_)throw new Error(`Unknown format "${d}"`);return _};function c(d,u,f,_){var p,w;(p=(w=d.opts.code).formats)!==null&&p!==void 0||(w.formats=(0,s._)`require("ajv-formats/dist/formats").${_}`);for(const $ of u)d.addFormat($,f[$])}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i})(ba,ba.exports);var hw=ba.exports;const mw=Pl(hw),pw=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!yw(s,a)&&n||Object.defineProperty(e,r,a)},yw=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},$w=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},_w=(e,t)=>`/* Wrapped ${e}*/
${t}`,gw=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),vw=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),ww=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=_w.bind(null,n,t.toString());Object.defineProperty(s,"name",vw);const{writable:a,enumerable:o,configurable:i}=gw;Object.defineProperty(e,"toString",{value:s,writable:a,enumerable:o,configurable:i})};function Ew(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const s of Reflect.ownKeys(t))pw(e,t,s,r);return $w(e,t),ww(e,t,n),e}const Kc=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:s=!1,after:a=!0}=t;if(r<0||n<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!s&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,i,c;const d=function(...u){const f=this,_=()=>{o=void 0,i&&(clearTimeout(i),i=void 0),a&&(c=e.apply(f,u))},p=()=>{i=void 0,o&&(clearTimeout(o),o=void 0),a&&(c=e.apply(f,u))},w=s&&!o;return clearTimeout(o),o=setTimeout(_,r),n>0&&n!==Number.POSITIVE_INFINITY&&!i&&(i=setTimeout(p,n)),w&&(c=e.apply(f,u)),c};return Ew(d,e),d.cancel=()=>{o&&(clearTimeout(o),o=void 0),i&&(clearTimeout(i),i=void 0)},d};var Aa={exports:{}};const bw="2.0.0",Qu=256,Sw=Number.MAX_SAFE_INTEGER||9007199254740991,Pw=16,Rw=Qu-6,Nw=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Cs={MAX_LENGTH:Qu,MAX_SAFE_COMPONENT_LENGTH:Pw,MAX_SAFE_BUILD_LENGTH:Rw,MAX_SAFE_INTEGER:Sw,RELEASE_TYPES:Nw,SEMVER_SPEC_VERSION:bw,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Ow=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Ds=Ow;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=Cs,a=Ds;t=e.exports={};const o=t.re=[],i=t.safeRe=[],c=t.src=[],d=t.safeSrc=[],u=t.t={};let f=0;const _="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",s],[_,n]],w=g=>{for(const[m,E]of p)g=g.split(`${m}*`).join(`${m}{0,${E}}`).split(`${m}+`).join(`${m}{1,${E}}`);return g},$=(g,m,E)=>{const P=w(m),O=f++;a(g,O,m),u[g]=O,c[O]=m,d[O]=P,o[O]=new RegExp(m,E?"g":void 0),i[O]=new RegExp(P,E?"g":void 0)};$("NUMERICIDENTIFIER","0|[1-9]\\d*"),$("NUMERICIDENTIFIERLOOSE","\\d+"),$("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_}*`),$("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),$("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),$("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),$("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),$("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),$("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),$("BUILDIDENTIFIER",`${_}+`),$("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),$("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),$("FULL",`^${c[u.FULLPLAIN]}$`),$("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),$("LOOSE",`^${c[u.LOOSEPLAIN]}$`),$("GTLT","((?:<|>)?=?)"),$("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),$("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),$("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),$("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),$("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),$("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),$("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),$("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),$("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),$("COERCERTL",c[u.COERCE],!0),$("COERCERTLFULL",c[u.COERCEFULL],!0),$("LONETILDE","(?:~>?)"),$("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",$("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),$("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),$("LONECARET","(?:\\^)"),$("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",$("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),$("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),$("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),$("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),$("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",$("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),$("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),$("STAR","(<|>)?=?\\s*\\*"),$("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),$("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Aa,Aa.exports);var En=Aa.exports;const Iw=Object.freeze({loose:!0}),Tw=Object.freeze({}),jw=e=>e?typeof e!="object"?Iw:e:Tw;var Ti=jw;const Hc=/^[0-9]+$/,ed=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const r=Hc.test(e),n=Hc.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Aw=(e,t)=>ed(t,e);var td={compareIdentifiers:ed,rcompareIdentifiers:Aw};const Ln=Ds,{MAX_LENGTH:Wc,MAX_SAFE_INTEGER:zn}=Cs,{safeRe:Vn,t:Un}=En,kw=Ti,{compareIdentifiers:ea}=td;let Cw=class Pt{constructor(t,r){if(r=kw(r),t instanceof Pt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Wc)throw new TypeError(`version is longer than ${Wc} characters`);Ln("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Vn[Un.LOOSE]:Vn[Un.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>zn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<zn)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ln("SemVer.compare",this.version,this.options,t),!(t instanceof Pt)){if(typeof t=="string"&&t===this.version)return 0;t=new Pt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Pt||(t=new Pt(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof Pt||(t=new Pt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(Ln("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ea(n,s)}while(++r)}compareBuild(t){t instanceof Pt||(t=new Pt(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(Ln("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ea(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?Vn[Un.PRERELEASELOOSE]:Vn[Un.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),ea(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Je=Cw;const Bc=Je,Dw=(e,t,r=!1)=>{if(e instanceof Bc)return e;try{return new Bc(e,t)}catch(n){if(!r)return null;throw n}};var Hr=Dw;const Mw=Hr,Fw=(e,t)=>{const r=Mw(e,t);return r?r.version:null};var Lw=Fw;const zw=Hr,Vw=(e,t)=>{const r=zw(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Uw=Vw;const Yc=Je,qw=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Yc(e instanceof Yc?e.version:e,r).inc(t,n,s).version}catch{return null}};var Gw=qw;const Jc=Hr,Kw=(e,t)=>{const r=Jc(e,null,!0),n=Jc(t,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,o=a?r:n,i=a?n:r,c=!!o.prerelease.length;if(!!i.prerelease.length&&!c){if(!i.patch&&!i.minor)return"major";if(i.compareMain(o)===0)return i.minor&&!i.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var Hw=Kw;const Ww=Je,Bw=(e,t)=>new Ww(e,t).major;var Yw=Bw;const Jw=Je,Xw=(e,t)=>new Jw(e,t).minor;var xw=Xw;const Zw=Je,Qw=(e,t)=>new Zw(e,t).patch;var eE=Qw;const tE=Hr,rE=(e,t)=>{const r=tE(e,t);return r&&r.prerelease.length?r.prerelease:null};var nE=rE;const Xc=Je,sE=(e,t,r)=>new Xc(e,r).compare(new Xc(t,r));var wt=sE;const aE=wt,oE=(e,t,r)=>aE(t,e,r);var iE=oE;const cE=wt,lE=(e,t)=>cE(e,t,!0);var uE=lE;const xc=Je,dE=(e,t,r)=>{const n=new xc(e,r),s=new xc(t,r);return n.compare(s)||n.compareBuild(s)};var ji=dE;const fE=ji,hE=(e,t)=>e.sort((r,n)=>fE(r,n,t));var mE=hE;const pE=ji,yE=(e,t)=>e.sort((r,n)=>pE(n,r,t));var $E=yE;const _E=wt,gE=(e,t,r)=>_E(e,t,r)>0;var Ms=gE;const vE=wt,wE=(e,t,r)=>vE(e,t,r)<0;var Ai=wE;const EE=wt,bE=(e,t,r)=>EE(e,t,r)===0;var rd=bE;const SE=wt,PE=(e,t,r)=>SE(e,t,r)!==0;var nd=PE;const RE=wt,NE=(e,t,r)=>RE(e,t,r)>=0;var ki=NE;const OE=wt,IE=(e,t,r)=>OE(e,t,r)<=0;var Ci=IE;const TE=rd,jE=nd,AE=Ms,kE=ki,CE=Ai,DE=Ci,ME=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return TE(e,r,n);case"!=":return jE(e,r,n);case">":return AE(e,r,n);case">=":return kE(e,r,n);case"<":return CE(e,r,n);case"<=":return DE(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var sd=ME;const FE=Je,LE=Hr,{safeRe:qn,t:Gn}=En,zE=(e,t)=>{if(e instanceof FE)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?qn[Gn.COERCEFULL]:qn[Gn.COERCE]);else{const c=t.includePrerelease?qn[Gn.COERCERTLFULL]:qn[Gn.COERCERTL];let d;for(;(d=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",i=t.includePrerelease&&r[6]?`+${r[6]}`:"";return LE(`${n}.${s}.${a}${o}${i}`,t)};var VE=zE;class UE{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var qE=UE,ta,Zc;function Et(){if(Zc)return ta;Zc=1;const e=/\s+/g;class t{constructor(D,q){if(q=s(q),D instanceof t)return D.loose===!!q.loose&&D.includePrerelease===!!q.includePrerelease?D:new t(D.raw,q);if(D instanceof a)return this.raw=D.value,this.set=[[D]],this.formatted=void 0,this;if(this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease,this.raw=D.trim().replace(e," "),this.set=this.raw.split("||").map(z=>this.parseRange(z.trim())).filter(z=>z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const z=this.set[0];if(this.set=this.set.filter(J=>!$(J[0])),this.set.length===0)this.set=[z];else if(this.set.length>1){for(const J of this.set)if(J.length===1&&g(J[0])){this.set=[J];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let D=0;D<this.set.length;D++){D>0&&(this.formatted+="||");const q=this.set[D];for(let z=0;z<q.length;z++)z>0&&(this.formatted+=" "),this.formatted+=q[z].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(D){const z=((this.options.includePrerelease&&p)|(this.options.loose&&w))+":"+D,J=n.get(z);if(J)return J;const U=this.options.loose,R=U?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];D=D.replace(R,x(this.options.includePrerelease)),o("hyphen replace",D),D=D.replace(c[d.COMPARATORTRIM],u),o("comparator trim",D),D=D.replace(c[d.TILDETRIM],f),o("tilde trim",D),D=D.replace(c[d.CARETTRIM],_),o("caret trim",D);let y=D.split(" ").map(h=>E(h,this.options)).join(" ").split(/\s+/).map(h=>K(h,this.options));U&&(y=y.filter(h=>(o("loose invalid filter",h,this.options),!!h.match(c[d.COMPARATORLOOSE])))),o("range list",y);const S=new Map,v=y.map(h=>new a(h,this.options));for(const h of v){if($(h))return[h];S.set(h.value,h)}S.size>1&&S.has("")&&S.delete("");const l=[...S.values()];return n.set(z,l),l}intersects(D,q){if(!(D instanceof t))throw new TypeError("a Range is required");return this.set.some(z=>m(z,q)&&D.set.some(J=>m(J,q)&&z.every(U=>J.every(R=>U.intersects(R,q)))))}test(D){if(!D)return!1;if(typeof D=="string")try{D=new i(D,this.options)}catch{return!1}for(let q=0;q<this.set.length;q++)if(ee(this.set[q],D,this.options))return!0;return!1}}ta=t;const r=qE,n=new r,s=Ti,a=Fs(),o=Ds,i=Je,{safeRe:c,t:d,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:_}=En,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:w}=Cs,$=j=>j.value==="<0.0.0-0",g=j=>j.value==="",m=(j,D)=>{let q=!0;const z=j.slice();let J=z.pop();for(;q&&z.length;)q=z.every(U=>J.intersects(U,D)),J=z.pop();return q},E=(j,D)=>(j=j.replace(c[d.BUILD],""),o("comp",j,D),j=H(j,D),o("caret",j),j=O(j,D),o("tildes",j),j=me(j,D),o("xrange",j),j=we(j,D),o("stars",j),j),P=j=>!j||j.toLowerCase()==="x"||j==="*",O=(j,D)=>j.trim().split(/\s+/).map(q=>T(q,D)).join(" "),T=(j,D)=>{const q=D.loose?c[d.TILDELOOSE]:c[d.TILDE];return j.replace(q,(z,J,U,R,y)=>{o("tilde",j,z,J,U,R,y);let S;return P(J)?S="":P(U)?S=`>=${J}.0.0 <${+J+1}.0.0-0`:P(R)?S=`>=${J}.${U}.0 <${J}.${+U+1}.0-0`:y?(o("replaceTilde pr",y),S=`>=${J}.${U}.${R}-${y} <${J}.${+U+1}.0-0`):S=`>=${J}.${U}.${R} <${J}.${+U+1}.0-0`,o("tilde return",S),S})},H=(j,D)=>j.trim().split(/\s+/).map(q=>Z(q,D)).join(" "),Z=(j,D)=>{o("caret",j,D);const q=D.loose?c[d.CARETLOOSE]:c[d.CARET],z=D.includePrerelease?"-0":"";return j.replace(q,(J,U,R,y,S)=>{o("caret",j,J,U,R,y,S);let v;return P(U)?v="":P(R)?v=`>=${U}.0.0${z} <${+U+1}.0.0-0`:P(y)?U==="0"?v=`>=${U}.${R}.0${z} <${U}.${+R+1}.0-0`:v=`>=${U}.${R}.0${z} <${+U+1}.0.0-0`:S?(o("replaceCaret pr",S),U==="0"?R==="0"?v=`>=${U}.${R}.${y}-${S} <${U}.${R}.${+y+1}-0`:v=`>=${U}.${R}.${y}-${S} <${U}.${+R+1}.0-0`:v=`>=${U}.${R}.${y}-${S} <${+U+1}.0.0-0`):(o("no pr"),U==="0"?R==="0"?v=`>=${U}.${R}.${y}${z} <${U}.${R}.${+y+1}-0`:v=`>=${U}.${R}.${y}${z} <${U}.${+R+1}.0-0`:v=`>=${U}.${R}.${y} <${+U+1}.0.0-0`),o("caret return",v),v})},me=(j,D)=>(o("replaceXRanges",j,D),j.split(/\s+/).map(q=>$e(q,D)).join(" ")),$e=(j,D)=>{j=j.trim();const q=D.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return j.replace(q,(z,J,U,R,y,S)=>{o("xRange",j,z,J,U,R,y,S);const v=P(U),l=v||P(R),h=l||P(y),b=h;return J==="="&&b&&(J=""),S=D.includePrerelease?"-0":"",v?J===">"||J==="<"?z="<0.0.0-0":z="*":J&&b?(l&&(R=0),y=0,J===">"?(J=">=",l?(U=+U+1,R=0,y=0):(R=+R+1,y=0)):J==="<="&&(J="<",l?U=+U+1:R=+R+1),J==="<"&&(S="-0"),z=`${J+U}.${R}.${y}${S}`):l?z=`>=${U}.0.0${S} <${+U+1}.0.0-0`:h&&(z=`>=${U}.${R}.0${S} <${U}.${+R+1}.0-0`),o("xRange return",z),z})},we=(j,D)=>(o("replaceStars",j,D),j.trim().replace(c[d.STAR],"")),K=(j,D)=>(o("replaceGTE0",j,D),j.trim().replace(c[D.includePrerelease?d.GTE0PRE:d.GTE0],"")),x=j=>(D,q,z,J,U,R,y,S,v,l,h,b)=>(P(z)?q="":P(J)?q=`>=${z}.0.0${j?"-0":""}`:P(U)?q=`>=${z}.${J}.0${j?"-0":""}`:R?q=`>=${q}`:q=`>=${q}${j?"-0":""}`,P(v)?S="":P(l)?S=`<${+v+1}.0.0-0`:P(h)?S=`<${v}.${+l+1}.0-0`:b?S=`<=${v}.${l}.${h}-${b}`:j?S=`<${v}.${l}.${+h+1}-0`:S=`<=${S}`,`${q} ${S}`.trim()),ee=(j,D,q)=>{for(let z=0;z<j.length;z++)if(!j[z].test(D))return!1;if(D.prerelease.length&&!q.includePrerelease){for(let z=0;z<j.length;z++)if(o(j[z].semver),j[z].semver!==a.ANY&&j[z].semver.prerelease.length>0){const J=j[z].semver;if(J.major===D.major&&J.minor===D.minor&&J.patch===D.patch)return!0}return!1}return!0};return ta}var ra,Qc;function Fs(){if(Qc)return ra;Qc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=r(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const f=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],_=u.match(f);if(!_)throw new TypeError(`Invalid comparator: ${u}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new i(_[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new i(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||a(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||a(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}ra=t;const r=Ti,{safeRe:n,t:s}=En,a=sd,o=Ds,i=Je,c=Et();return ra}const GE=Et(),KE=(e,t,r)=>{try{t=new GE(t,r)}catch{return!1}return t.test(e)};var Ls=KE;const HE=Et(),WE=(e,t)=>new HE(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var BE=WE;const YE=Je,JE=Et(),XE=(e,t,r)=>{let n=null,s=null,a=null;try{a=new JE(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new YE(n,r))}),n};var xE=XE;const ZE=Je,QE=Et(),eb=(e,t,r)=>{let n=null,s=null,a=null;try{a=new QE(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new ZE(n,r))}),n};var tb=eb;const na=Je,rb=Et(),el=Ms,nb=(e,t)=>{e=new rb(e,t);let r=new na("0.0.0");if(e.test(r)||(r=new na("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(o=>{const i=new na(o.semver.version);switch(o.operator){case">":i.prerelease.length===0?i.patch++:i.prerelease.push(0),i.raw=i.format();case"":case">=":(!a||el(i,a))&&(a=i);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!r||el(r,a))&&(r=a)}return r&&e.test(r)?r:null};var sb=nb;const ab=Et(),ob=(e,t)=>{try{return new ab(e,t).range||"*"}catch{return null}};var ib=ob;const cb=Je,ad=Fs(),{ANY:lb}=ad,ub=Et(),db=Ls,tl=Ms,rl=Ai,fb=Ci,hb=ki,mb=(e,t,r,n)=>{e=new cb(e,n),t=new ub(t,n);let s,a,o,i,c;switch(r){case">":s=tl,a=fb,o=rl,i=">",c=">=";break;case"<":s=rl,a=hb,o=tl,i="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(db(e,t,n))return!1;for(let d=0;d<t.set.length;++d){const u=t.set[d];let f=null,_=null;if(u.forEach(p=>{p.semver===lb&&(p=new ad(">=0.0.0")),f=f||p,_=_||p,s(p.semver,f.semver,n)?f=p:o(p.semver,_.semver,n)&&(_=p)}),f.operator===i||f.operator===c||(!_.operator||_.operator===i)&&a(e,_.semver))return!1;if(_.operator===c&&o(e,_.semver))return!1}return!0};var Di=mb;const pb=Di,yb=(e,t,r)=>pb(e,t,">",r);var $b=yb;const _b=Di,gb=(e,t,r)=>_b(e,t,"<",r);var vb=gb;const nl=Et(),wb=(e,t,r)=>(e=new nl(e,r),t=new nl(t,r),e.intersects(t,r));var Eb=wb;const bb=Ls,Sb=wt;var Pb=(e,t,r)=>{const n=[];let s=null,a=null;const o=e.sort((u,f)=>Sb(u,f,r));for(const u of o)bb(u,t,r)?(a=u,s||(s=u)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const i=[];for(const[u,f]of n)u===f?i.push(u):!f&&u===o[0]?i.push("*"):f?u===o[0]?i.push(`<=${f}`):i.push(`${u} - ${f}`):i.push(`>=${u}`);const c=i.join(" || "),d=typeof t.raw=="string"?t.raw:String(t);return c.length<d.length?c:t};const sl=Et(),Mi=Fs(),{ANY:sa}=Mi,Qr=Ls,Fi=wt,Rb=(e,t,r={})=>{if(e===t)return!0;e=new sl(e,r),t=new sl(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const o=Ob(s,a,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Nb=[new Mi(">=0.0.0-0")],al=[new Mi(">=0.0.0")],Ob=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===sa){if(t.length===1&&t[0].semver===sa)return!0;r.includePrerelease?e=Nb:e=al}if(t.length===1&&t[0].semver===sa){if(r.includePrerelease)return!0;t=al}const n=new Set;let s,a;for(const p of e)p.operator===">"||p.operator===">="?s=ol(s,p,r):p.operator==="<"||p.operator==="<="?a=il(a,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(s&&a){if(o=Fi(s.semver,a.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const p of n){if(s&&!Qr(p,String(s),r)||a&&!Qr(p,String(a),r))return null;for(const w of t)if(!Qr(p,String(w),r))return!1;return!0}let i,c,d,u,f=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,_=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of t){if(u=u||p.operator===">"||p.operator===">=",d=d||p.operator==="<"||p.operator==="<=",s){if(_&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===_.major&&p.semver.minor===_.minor&&p.semver.patch===_.patch&&(_=!1),p.operator===">"||p.operator===">="){if(i=ol(s,p,r),i===p&&i!==s)return!1}else if(s.operator===">="&&!Qr(s.semver,String(p),r))return!1}if(a){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(c=il(a,p,r),c===p&&c!==a)return!1}else if(a.operator==="<="&&!Qr(a.semver,String(p),r))return!1}if(!p.operator&&(a||s)&&o!==0)return!1}return!(s&&d&&!a&&o!==0||a&&u&&!s&&o!==0||_||f)},ol=(e,t,r)=>{if(!e)return t;const n=Fi(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},il=(e,t,r)=>{if(!e)return t;const n=Fi(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var Ib=Rb;const aa=En,cl=Cs,Tb=Je,ll=td,jb=Hr,Ab=Lw,kb=Uw,Cb=Gw,Db=Hw,Mb=Yw,Fb=xw,Lb=eE,zb=nE,Vb=wt,Ub=iE,qb=uE,Gb=ji,Kb=mE,Hb=$E,Wb=Ms,Bb=Ai,Yb=rd,Jb=nd,Xb=ki,xb=Ci,Zb=sd,Qb=VE,eS=Fs(),tS=Et(),rS=Ls,nS=BE,sS=xE,aS=tb,oS=sb,iS=ib,cS=Di,lS=$b,uS=vb,dS=Eb,fS=Pb,hS=Ib;var mS={parse:jb,valid:Ab,clean:kb,inc:Cb,diff:Db,major:Mb,minor:Fb,patch:Lb,prerelease:zb,compare:Vb,rcompare:Ub,compareLoose:qb,compareBuild:Gb,sort:Kb,rsort:Hb,gt:Wb,lt:Bb,eq:Yb,neq:Jb,gte:Xb,lte:xb,cmp:Zb,coerce:Qb,Comparator:eS,Range:tS,satisfies:rS,toComparators:nS,maxSatisfying:sS,minSatisfying:aS,minVersion:oS,validRange:iS,outside:cS,gtr:lS,ltr:uS,intersects:dS,simplifyRange:fS,subset:hS,SemVer:Tb,re:aa.re,src:aa.src,tokens:aa.t,SEMVER_SPEC_VERSION:cl.SEMVER_SPEC_VERSION,RELEASE_TYPES:cl.RELEASE_TYPES,compareIdentifiers:ll.compareIdentifiers,rcompareIdentifiers:ll.rcompareIdentifiers};const Sr=Pl(mS),pS=Object.prototype.toString,yS="[object Uint8Array]",$S="[object ArrayBuffer]";function od(e,t,r){return e?e.constructor===t?!0:pS.call(e)===r:!1}function id(e){return od(e,Uint8Array,yS)}function _S(e){return od(e,ArrayBuffer,$S)}function gS(e){return id(e)||_S(e)}function vS(e){if(!id(e))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function wS(e){if(!gS(e))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``)}function oa(e,t){if(e.length===0)return new Uint8Array(0);t??(t=e.reduce((s,a)=>s+a.length,0));const r=new Uint8Array(t);let n=0;for(const s of e)vS(s),r.set(s,n),n+=s.length;return r}const Kn={utf8:new globalThis.TextDecoder("utf8")};function Hn(e,t="utf8"){return wS(e),Kn[t]??(Kn[t]=new globalThis.TextDecoder(t)),Kn[t].decode(e)}function ES(e){if(typeof e!="string")throw new TypeError(`Expected \`string\`, got \`${typeof e}\``)}const bS=new globalThis.TextEncoder;function Wn(e){return ES(e),bS.encode(e)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const ia="aes-256-cbc",Bt=()=>Object.create(null),ul=e=>e!==void 0,ca=(e,t)=>{const r=new Set(["undefined","symbol","function"]),n=typeof t;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${e}\` is not allowed as it's not supported by JSON`)},Jt="__internal__",la=`${Jt}.migrations.version`;var xt,$t,Xe,ot,mr,pr,Cr,Rt,Ce,cd,ld,ud,dd,fd,hd,md,pd;class SS{constructor(t={}){St(this,Ce);Q(this,"path");Q(this,"events");St(this,xt);St(this,$t);St(this,Xe);St(this,ot,{});St(this,mr,!1);St(this,pr);St(this,Cr);St(this,Rt);Q(this,"_deserialize",t=>JSON.parse(t));Q(this,"_serialize",t=>JSON.stringify(t,void 0,"	"));const r=jt(this,Ce,cd).call(this,t);tt(this,Xe,r),jt(this,Ce,ld).call(this,r),jt(this,Ce,dd).call(this,r),jt(this,Ce,fd).call(this,r),this.events=new EventTarget,tt(this,$t,r.encryptionKey),this.path=jt(this,Ce,hd).call(this,r),jt(this,Ce,md).call(this,r),r.watch&&this._watch()}get(t,r){if(oe(this,Xe).accessPropertiesByDotNotation)return this._get(t,r);const{store:n}=this;return t in n?n[t]:r}set(t,r){if(typeof t!="string"&&typeof t!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof t}`);if(typeof t!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(t))throw new TypeError(`Please don't use the ${Jt} key, as it's used to manage this module internal operations.`);const{store:n}=this,s=(a,o)=>{if(ca(a,o),oe(this,Xe).accessPropertiesByDotNotation)bn(n,a,o);else{if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=o}};if(typeof t=="object"){const a=t;for(const[o,i]of Object.entries(a))s(o,i)}else s(t,r);this.store=n}has(t){return oe(this,Xe).accessPropertiesByDotNotation?Gs(this.store,t):t in this.store}appendToArray(t,r){ca(t,r);const n=oe(this,Xe).accessPropertiesByDotNotation?this._get(t,[]):t in this.store?this.store[t]:[];if(!Array.isArray(n))throw new TypeError(`The key \`${t}\` is already set to a non-array value`);this.set(t,[...n,r])}reset(...t){for(const r of t)ul(oe(this,ot)[r])&&this.set(r,oe(this,ot)[r])}delete(t){const{store:r}=this;oe(this,Xe).accessPropertiesByDotNotation?Md(r,t):delete r[t],this.store=r}clear(){const t=Bt();for(const r of Object.keys(oe(this,ot)))ul(oe(this,ot)[r])&&(ca(r,oe(this,ot)[r]),oe(this,Xe).accessPropertiesByDotNotation?bn(t,r,oe(this,ot)[r]):t[r]=oe(this,ot)[r]);this.store=t}onDidChange(t,r){if(typeof t!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof t}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleValueChange(()=>this.get(t),r)}onDidAnyChange(t){if(typeof t!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`);return this._handleStoreChange(t)}get size(){return Object.keys(this.store).filter(r=>!this._isReservedKeyPath(r)).length}get store(){var t;try{const r=re.readFileSync(this.path,oe(this,$t)?null:"utf8"),n=this._decryptData(r),s=this._deserialize(n);return oe(this,mr)||this._validate(s),Object.assign(Bt(),s)}catch(r){if((r==null?void 0:r.code)==="ENOENT")return this._ensureDirectory(),Bt();if(oe(this,Xe).clearInvalidConfig){const n=r;if(n.name==="SyntaxError"||(t=n.message)!=null&&t.startsWith("Config schema violation:"))return Bt()}throw r}}set store(t){if(this._ensureDirectory(),!Gs(t,Jt))try{const r=re.readFileSync(this.path,oe(this,$t)?null:"utf8"),n=this._decryptData(r),s=this._deserialize(n);Gs(s,Jt)&&bn(t,Jt,Ui(s,Jt))}catch{}oe(this,mr)||this._validate(t),this._write(t),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[t,r]of Object.entries(this.store))this._isReservedKeyPath(t)||(yield[t,r])}_closeWatcher(){oe(this,pr)&&(oe(this,pr).close(),tt(this,pr,void 0)),oe(this,Cr)&&(re.unwatchFile(this.path),tt(this,Cr,!1)),tt(this,Rt,void 0)}_decryptData(t){if(!oe(this,$t))return typeof t=="string"?t:Hn(t);try{const r=t.slice(0,16),n=sr.pbkdf2Sync(oe(this,$t),r,1e4,32,"sha512"),s=sr.createDecipheriv(ia,n,r),a=t.slice(17),o=typeof a=="string"?Wn(a):a;return Hn(oa([s.update(o),s.final()]))}catch{try{const r=t.slice(0,16),n=sr.pbkdf2Sync(oe(this,$t),r.toString(),1e4,32,"sha512"),s=sr.createDecipheriv(ia,n,r),a=t.slice(17),o=typeof a=="string"?Wn(a):a;return Hn(oa([s.update(o),s.final()]))}catch{}}return typeof t=="string"?t:Hn(t)}_handleStoreChange(t){let r=this.store;const n=()=>{const s=r,a=this.store;ke.isDeepStrictEqual(a,s)||(r=a,t.call(this,a,s))};return this.events.addEventListener("change",n),()=>{this.events.removeEventListener("change",n)}}_handleValueChange(t,r){let n=t();const s=()=>{const a=n,o=t();ke.isDeepStrictEqual(o,a)||(n=o,r.call(this,o,a))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_validate(t){if(!oe(this,xt)||oe(this,xt).call(this,t)||!oe(this,xt).errors)return;const n=oe(this,xt).errors.map(({instancePath:s,message:a=""})=>`\`${s.slice(1)}\` ${a}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){re.mkdirSync(he.dirname(this.path),{recursive:!0})}_write(t){let r=this._serialize(t);if(oe(this,$t)){const n=sr.randomBytes(16),s=sr.pbkdf2Sync(oe(this,$t),n,1e4,32,"sha512"),a=sr.createCipheriv(ia,s,n);r=oa([n,Wn(":"),a.update(Wn(r)),a.final()])}if(ve.env.SNAP)re.writeFileSync(this.path,r,{mode:oe(this,Xe).configFileMode});else try{Sl(this.path,r,{mode:oe(this,Xe).configFileMode})}catch(n){if((n==null?void 0:n.code)==="EXDEV"){re.writeFileSync(this.path,r,{mode:oe(this,Xe).configFileMode});return}throw n}}_watch(){if(this._ensureDirectory(),re.existsSync(this.path)||this._write(Bt()),ve.platform==="win32"||ve.platform==="darwin"){oe(this,Rt)??tt(this,Rt,Kc(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100}));const t=he.dirname(this.path),r=he.basename(this.path);tt(this,pr,re.watch(t,{persistent:!1,encoding:"utf8"},(n,s)=>{s&&s!==r||typeof oe(this,Rt)=="function"&&oe(this,Rt).call(this)}))}else oe(this,Rt)??tt(this,Rt,Kc(()=>{this.events.dispatchEvent(new Event("change"))},{wait:1e3})),re.watchFile(this.path,{persistent:!1},(t,r)=>{typeof oe(this,Rt)=="function"&&oe(this,Rt).call(this)}),tt(this,Cr,!0)}_migrate(t,r,n){let s=this._get(la,"0.0.0");const a=Object.keys(t).filter(i=>this._shouldPerformMigration(i,s,r));let o=structuredClone(this.store);for(const i of a)try{n&&n(this,{fromVersion:s,toVersion:i,finalVersion:r,versions:a});const c=t[i];c==null||c(this),this._set(la,i),s=i,o=structuredClone(this.store)}catch(c){this.store=o;try{this._write(o)}catch{}const d=c instanceof Error?c.message:String(c);throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${d}`)}(this._isVersionInRangeFormat(s)||!Sr.eq(s,r))&&this._set(la,r)}_containsReservedKey(t){return typeof t=="string"?this._isReservedKeyPath(t):!t||typeof t!="object"?!1:this._objectContainsReservedKey(t)}_objectContainsReservedKey(t){if(!t||typeof t!="object")return!1;for(const[r,n]of Object.entries(t))if(this._isReservedKeyPath(r)||this._objectContainsReservedKey(n))return!0;return!1}_isReservedKeyPath(t){return t===Jt||t.startsWith(`${Jt}.`)}_isVersionInRangeFormat(t){return Sr.clean(t)===null}_shouldPerformMigration(t,r,n){return this._isVersionInRangeFormat(t)?r!=="0.0.0"&&Sr.satisfies(r,t)?!1:Sr.satisfies(n,t):!(Sr.lte(t,r)||Sr.gt(t,n))}_get(t,r){return Ui(this.store,t,r)}_set(t,r){const{store:n}=this;bn(n,t,r),this.store=n}}xt=new WeakMap,$t=new WeakMap,Xe=new WeakMap,ot=new WeakMap,mr=new WeakMap,pr=new WeakMap,Cr=new WeakMap,Rt=new WeakMap,Ce=new WeakSet,cd=function(t){const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...t};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=Vd(r.projectName,{suffix:r.projectSuffix}).config}return typeof r.fileExtension=="string"&&(r.fileExtension=r.fileExtension.replace(/^\.+/,"")),r},ld=function(t){if(!(t.schema??t.ajvOptions??t.rootSchema))return;if(t.schema&&typeof t.schema!="object")throw new TypeError("The `schema` option must be an object.");const r=mw.default,n=new n_.Ajv2020({allErrors:!0,useDefaults:!0,...t.ajvOptions});r(n);const s={...t.rootSchema,type:"object",properties:t.schema};tt(this,xt,n.compile(s)),jt(this,Ce,ud).call(this,t.schema)},ud=function(t){const r=Object.entries(t??{});for(const[n,s]of r){if(!s||typeof s!="object"||!Object.hasOwn(s,"default"))continue;const{default:a}=s;a!==void 0&&(oe(this,ot)[n]=a)}},dd=function(t){t.defaults&&Object.assign(oe(this,ot),t.defaults)},fd=function(t){t.serialize&&(this._serialize=t.serialize),t.deserialize&&(this._deserialize=t.deserialize)},hd=function(t){const r=typeof t.fileExtension=="string"?t.fileExtension:void 0,n=r?`.${r}`:"";return he.resolve(t.cwd,`${t.configName??"config"}${n}`)},md=function(t){if(t.migrations){jt(this,Ce,pd).call(this,t),this._validate(this.store);return}const r=this.store,n=Object.assign(Bt(),t.defaults??{},r);this._validate(n);try{Vi.deepEqual(r,n)}catch{this.store=n}},pd=function(t){const{migrations:r,projectVersion:n}=t;if(r){if(!n)throw new Error("Please specify the `projectVersion` option.");tt(this,mr,!0);try{const s=this.store,a=Object.assign(Bt(),t.defaults??{},s);try{Vi.deepEqual(s,a)}catch{this._write(a)}this._migrate(r,n,t.beforeEachMigration)}finally{tt(this,mr,!1)}}};const{app:rs,ipcMain:ka,shell:PS}=Y;let dl=!1;const fl=()=>{if(!ka||!rs)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:rs.getPath("userData"),appVersion:rs.getVersion()};return dl||(ka.on("electron-store-get-data",t=>{t.returnValue=e}),dl=!0),e};class yd extends SS{constructor(t){let r,n;if(ve.type==="renderer"){const s=Y.ipcRenderer.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else ka&&rs&&({defaultCwd:r,appVersion:n}=fl());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=he.isAbsolute(t.cwd)?t.cwd:he.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){fl()}async openInEditor(){const t=await PS.openPath(this.path);if(t)throw new Error(t)}}const st={FILE_TYPE:"files",DIR_TYPE:"directories",FILE_DIR_TYPE:"files_directories",EVERYTHING_TYPE:"all"},Ca={root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:st.FILE_TYPE,lstat:!1,depth:2147483648,alwaysStat:!1,highWaterMark:4096};Object.freeze(Ca);const $d="READDIRP_RECURSIVE_ERROR",RS=new Set(["ENOENT","EPERM","EACCES","ELOOP",$d]),hl=[st.DIR_TYPE,st.EVERYTHING_TYPE,st.FILE_DIR_TYPE,st.FILE_TYPE],NS=new Set([st.DIR_TYPE,st.EVERYTHING_TYPE,st.FILE_DIR_TYPE]),OS=new Set([st.EVERYTHING_TYPE,st.FILE_DIR_TYPE,st.FILE_TYPE]),IS=e=>RS.has(e.code),TS=process.platform==="win32",ml=e=>!0,pl=e=>{if(e===void 0)return ml;if(typeof e=="function")return e;if(typeof e=="string"){const t=e.trim();return r=>r.basename===t}if(Array.isArray(e)){const t=e.map(r=>r.trim());return r=>t.some(n=>r.basename===n)}return ml};class jS extends Ad.Readable{constructor(r={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:r.highWaterMark});Q(this,"parents");Q(this,"reading");Q(this,"parent");Q(this,"_stat");Q(this,"_maxDepth");Q(this,"_wantsDir");Q(this,"_wantsFile");Q(this,"_wantsEverything");Q(this,"_root");Q(this,"_isDirent");Q(this,"_statsProp");Q(this,"_rdOptions");Q(this,"_fileFilter");Q(this,"_directoryFilter");const n={...Ca,...r},{root:s,type:a}=n;this._fileFilter=pl(n.fileFilter),this._directoryFilter=pl(n.directoryFilter);const o=n.lstat?Qe.lstat:Qe.stat;TS?this._stat=i=>o(i,{bigint:!0}):this._stat=o,this._maxDepth=n.depth!=null&&Number.isSafeInteger(n.depth)?n.depth:Ca.depth,this._wantsDir=a?NS.has(a):!1,this._wantsFile=a?OS.has(a):!1,this._wantsEverything=a===st.EVERYTHING_TYPE,this._root=he.resolve(s),this._isDirent=!n.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(s,1)],this.reading=!1,this.parent=void 0}async _read(r){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&r>0;){const n=this.parent,s=n&&n.files;if(s&&s.length>0){const{path:a,depth:o}=n,i=s.splice(0,r).map(d=>this._formatEntry(d,a)),c=await Promise.all(i);for(const d of c){if(!d)continue;if(this.destroyed)return;const u=await this._getEntryType(d);u==="directory"&&this._directoryFilter(d)?(o<=this._maxDepth&&this.parents.push(this._exploreDir(d.fullPath,o+1)),this._wantsDir&&(this.push(d),r--)):(u==="file"||this._includeAsFile(d))&&this._fileFilter(d)&&this._wantsFile&&(this.push(d),r--)}}else{const a=this.parents.pop();if(!a){this.push(null);break}if(this.parent=await a,this.destroyed)return}}}catch(n){this.destroy(n)}finally{this.reading=!1}}}async _exploreDir(r,n){let s;try{s=await Qe.readdir(r,this._rdOptions)}catch(a){this._onError(a)}return{files:s,depth:n,path:r}}async _formatEntry(r,n){let s;const a=this._isDirent?r.name:r;try{const o=he.resolve(he.join(n,a));s={path:he.relative(this._root,o),fullPath:o,basename:a},s[this._statsProp]=this._isDirent?r:await this._stat(o)}catch(o){this._onError(o);return}return s}_onError(r){IS(r)&&!this.destroyed?this.emit("warn",r):this.destroy(r)}async _getEntryType(r){if(!r&&this._statsProp in r)return"";const n=r[this._statsProp];if(n.isFile())return"file";if(n.isDirectory())return"directory";if(n&&n.isSymbolicLink()){const s=r.fullPath;try{const a=await Qe.realpath(s),o=await Qe.lstat(a);if(o.isFile())return"file";if(o.isDirectory()){const i=a.length;if(s.startsWith(a)&&s.substr(i,1)===he.sep){const c=new Error(`Circular symlink detected: "${s}" points to "${a}"`);return c.code=$d,this._onError(c)}return"directory"}}catch(a){return this._onError(a),""}}}_includeAsFile(r){const n=r&&r[this._statsProp];return n&&this._wantsEverything&&!n.isDirectory()}}function AS(e,t={}){let r=t.entryType||t.type;if(r==="both"&&(r=st.FILE_DIR_TYPE),r&&(t.type=r),e){if(typeof e!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!hl.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${hl.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return t.root=e,new jS(t)}const kS="data",_d="end",CS="close",Li=()=>{},zs=process.platform,gd=zs==="win32",DS=zs==="darwin",MS=zs==="linux",FS=zs==="freebsd",LS=La.type()==="OS400",Ee={ALL:"all",READY:"ready",ADD:"add",CHANGE:"change",ADD_DIR:"addDir",UNLINK:"unlink",UNLINK_DIR:"unlinkDir",RAW:"raw",ERROR:"error"},pt=Ee,zS="watch",VS={lstat:Qe.lstat,stat:Qe.stat},yr="listeners",ns="errHandlers",kr="rawEmitters",US=[yr,ns,kr],qS=new Set(["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]),GS=e=>qS.has(te.extname(e).slice(1).toLowerCase()),Da=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},hn=(e,t,r)=>{let n=e[t];n instanceof Set||(e[t]=n=new Set([n])),n.add(r)},KS=e=>t=>{const r=e[t];r instanceof Set?r.clear():delete e[t]},mn=(e,t,r)=>{const n=e[t];n instanceof Set?n.delete(r):n===r&&delete e[t]},vd=e=>e instanceof Set?e.size===0:!e,ss=new Map;function yl(e,t,r,n,s){const a=(o,i)=>{r(e),s(o,i,{watchedPath:e}),i&&e!==i&&as(te.resolve(e,i),yr,te.join(e,i))};try{return re.watch(e,{persistent:t.persistent},a)}catch(o){n(o);return}}const as=(e,t,r,n,s)=>{const a=ss.get(e);a&&Da(a[t],o=>{o(r,n,s)})},HS=(e,t,r,n)=>{const{listener:s,errHandler:a,rawEmitter:o}=n;let i=ss.get(t),c;if(!r.persistent)return c=yl(e,r,s,a,o),c?c.close.bind(c):void 0;if(i)hn(i,yr,s),hn(i,ns,a),hn(i,kr,o);else{if(c=yl(e,r,as.bind(null,t,yr),a,as.bind(null,t,kr)),!c)return;c.on(pt.ERROR,async d=>{const u=as.bind(null,t,ns);if(i&&(i.watcherUnusable=!0),gd&&d.code==="EPERM")try{await(await Qe.open(e,"r")).close(),u(d)}catch{}else u(d)}),i={listeners:s,errHandlers:a,rawEmitters:o,watcher:c},ss.set(t,i)}return()=>{mn(i,yr,s),mn(i,ns,a),mn(i,kr,o),vd(i.listeners)&&(i.watcher.close(),ss.delete(t),US.forEach(KS(i)),i.watcher=void 0,Object.freeze(i))}},ua=new Map,WS=(e,t,r,n)=>{const{listener:s,rawEmitter:a}=n;let o=ua.get(t);const i=o&&o.options;return i&&(i.persistent<r.persistent||i.interval>r.interval)&&(re.unwatchFile(t),o=void 0),o?(hn(o,yr,s),hn(o,kr,a)):(o={listeners:s,rawEmitters:a,options:r,watcher:re.watchFile(t,r,(c,d)=>{Da(o.rawEmitters,f=>{f(pt.CHANGE,t,{curr:c,prev:d})});const u=c.mtimeMs;(c.size!==d.size||u>d.mtimeMs||u===0)&&Da(o.listeners,f=>f(e,c))})},ua.set(t,o)),()=>{mn(o,yr,s),mn(o,kr,a),vd(o.listeners)&&(ua.delete(t),re.unwatchFile(t),o.options=o.watcher=void 0,Object.freeze(o))}};class BS{constructor(t){Q(this,"fsw");Q(this,"_boundHandleError");this.fsw=t,this._boundHandleError=r=>t._handleError(r)}_watchWithNodeFs(t,r){const n=this.fsw.options,s=te.dirname(t),a=te.basename(t);this.fsw._getWatchedDir(s).add(a);const i=te.resolve(t),c={persistent:n.persistent};r||(r=Li);let d;if(n.usePolling){const u=n.interval!==n.binaryInterval;c.interval=u&&GS(a)?n.binaryInterval:n.interval,d=WS(t,i,c,{listener:r,rawEmitter:this.fsw._emitRaw})}else d=HS(t,i,c,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw});return d}_handleFile(t,r,n){if(this.fsw.closed)return;const s=te.dirname(t),a=te.basename(t),o=this.fsw._getWatchedDir(s);let i=r;if(o.has(a))return;const c=async(u,f)=>{if(this.fsw._throttle(zS,t,5)){if(!f||f.mtimeMs===0)try{const _=await Qe.stat(t);if(this.fsw.closed)return;const p=_.atimeMs,w=_.mtimeMs;if((!p||p<=w||w!==i.mtimeMs)&&this.fsw._emit(pt.CHANGE,t,_),(DS||MS||FS)&&i.ino!==_.ino){this.fsw._closeFile(u),i=_;const $=this._watchWithNodeFs(t,c);$&&this.fsw._addPathCloser(u,$)}else i=_}catch{this.fsw._remove(s,a)}else if(o.has(a)){const _=f.atimeMs,p=f.mtimeMs;(!_||_<=p||p!==i.mtimeMs)&&this.fsw._emit(pt.CHANGE,t,f),i=f}}},d=this._watchWithNodeFs(t,c);if(!(n&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle(pt.ADD,t,0))return;this.fsw._emit(pt.ADD,t,r)}return d}async _handleSymlink(t,r,n,s){if(this.fsw.closed)return;const a=t.fullPath,o=this.fsw._getWatchedDir(r);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let i;try{i=await Qe.realpath(n)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(o.has(s)?this.fsw._symlinkPaths.get(a)!==i&&(this.fsw._symlinkPaths.set(a,i),this.fsw._emit(pt.CHANGE,n,t.stats)):(o.add(s),this.fsw._symlinkPaths.set(a,i),this.fsw._emit(pt.ADD,n,t.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(a))return!0;this.fsw._symlinkPaths.set(a,!0)}_handleRead(t,r,n,s,a,o,i){t=te.join(t,"");const c=s?`${t}:${s}`:t;if(i=this.fsw._throttle("readdir",c,1e3),!i)return;const d=this.fsw._getWatchedDir(n.path),u=new Set;let f=this.fsw._readdirp(t,{fileFilter:_=>n.filterPath(_),directoryFilter:_=>n.filterDir(_)});if(f)return f.on(kS,async _=>{if(this.fsw.closed){f=void 0;return}const p=_.path;let w=te.join(t,p);if(u.add(p),!(_.stats.isSymbolicLink()&&await this._handleSymlink(_,t,w,p))){if(this.fsw.closed){f=void 0;return}(p===s||!s&&!d.has(p))&&(this.fsw._incrReadyCount(),w=te.join(a,te.relative(a,w)),this._addToNodeFs(w,r,n,o+1))}}).on(pt.ERROR,this._boundHandleError),new Promise((_,p)=>{if(!f)return p();f.once(_d,()=>{if(this.fsw.closed){f=void 0;return}const w=i?i.clear():!1;_(void 0),d.getChildren().filter($=>$!==t&&!u.has($)).forEach($=>{this.fsw._remove(t,$)}),f=void 0,w&&this._handleRead(t,!1,n,s,a,o,i)})})}async _handleDir(t,r,n,s,a,o,i){const c=this.fsw._getWatchedDir(te.dirname(t)),d=c.has(te.basename(t));!(n&&this.fsw.options.ignoreInitial)&&!a&&!d&&this.fsw._emit(pt.ADD_DIR,t,r),c.add(te.basename(t)),this.fsw._getWatchedDir(t);let u,f;const _=this.fsw.options.depth;if((_==null||s<=_)&&!this.fsw._symlinkPaths.has(i)){if(!a&&(await this._handleRead(t,n,o,a,t,s,u),this.fsw.closed))return;f=this._watchWithNodeFs(t,(p,w)=>{w&&w.mtimeMs===0||this._handleRead(p,!1,o,a,t,s,u)})}return f}async _addToNodeFs(t,r,n,s,a){const o=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return o(),!1;const i=this.fsw._getWatchHelpers(t);n&&(i.filterPath=c=>n.filterPath(c),i.filterDir=c=>n.filterDir(c));try{const c=await VS[i.statMethod](i.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(i.watchPath,c))return o(),!1;const d=this.fsw.options.followSymlinks;let u;if(c.isDirectory()){const f=te.resolve(t),_=d?await Qe.realpath(t):t;if(this.fsw.closed||(u=await this._handleDir(i.watchPath,c,r,s,a,i,_),this.fsw.closed))return;f!==_&&_!==void 0&&this.fsw._symlinkPaths.set(f,_)}else if(c.isSymbolicLink()){const f=d?await Qe.realpath(t):t;if(this.fsw.closed)return;const _=te.dirname(i.watchPath);if(this.fsw._getWatchedDir(_).add(i.watchPath),this.fsw._emit(pt.ADD,i.watchPath,c),u=await this._handleDir(_,c,r,s,t,i,f),this.fsw.closed)return;f!==void 0&&this.fsw._symlinkPaths.set(te.resolve(t),f)}else u=this._handleFile(i.watchPath,c,r);return o(),u&&this.fsw._addPathCloser(t,u),!1}catch(c){if(this.fsw._handleError(c))return o(),t}}}/*! chokidar - MIT License (c) 2012 Paul Miller (paulmillr.com) */const da="/",YS="//",wd=".",JS="..",XS="string",xS=/\\/g,Ed=/\/\//g,ZS=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,QS=/^\.[/\\]/;function $s(e){return Array.isArray(e)?e:[e]}const fa=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp);function eP(e){return typeof e=="function"?e:typeof e=="string"?t=>e===t:e instanceof RegExp?t=>e.test(t):typeof e=="object"&&e!==null?t=>{if(e.path===t)return!0;if(e.recursive){const r=te.relative(e.path,t);return r?!r.startsWith("..")&&!te.isAbsolute(r):!1}return!1}:()=>!1}function tP(e){if(typeof e!="string")throw new Error("string expected");e=te.normalize(e),e=e.replace(/\\/g,"/");let t=!1;return e.startsWith("//")&&(t=!0),e=e.replace(Ed,"/"),t&&(e="/"+e),e}function rP(e,t,r){const n=tP(t);for(let s=0;s<e.length;s++){const a=e[s];if(a(n,r))return!0}return!1}function nP(e,t){if(e==null)throw new TypeError("anymatch: specify first argument");const n=$s(e).map(s=>eP(s));return(s,a)=>rP(n,s,a)}const $l=e=>{const t=$s(e).flat();if(!t.every(r=>typeof r===XS))throw new TypeError(`Non-string provided as watch path: ${t}`);return t.map(bd)},_l=e=>{let t=e.replace(xS,da),r=!1;return t.startsWith(YS)&&(r=!0),t=t.replace(Ed,da),r&&(t=da+t),t},bd=e=>_l(te.normalize(_l(e))),gl=(e="")=>t=>typeof t=="string"?bd(te.isAbsolute(t)?t:te.join(e,t)):t,sP=(e,t)=>te.isAbsolute(e)?e:te.join(t,e),aP=Object.freeze(new Set);class oP{constructor(t,r){Q(this,"path");Q(this,"_removeWatcher");Q(this,"items");this.path=t,this._removeWatcher=r,this.items=new Set}add(t){const{items:r}=this;r&&t!==wd&&t!==JS&&r.add(t)}async remove(t){const{items:r}=this;if(!r||(r.delete(t),r.size>0))return;const n=this.path;try{await Qe.readdir(n)}catch{this._removeWatcher&&this._removeWatcher(te.dirname(n),te.basename(n))}}has(t){const{items:r}=this;if(r)return r.has(t)}getChildren(){const{items:t}=this;return t?[...t.values()]:[]}dispose(){this.items.clear(),this.path="",this._removeWatcher=Li,this.items=aP,Object.freeze(this)}}const iP="stat",cP="lstat";class lP{constructor(t,r,n){Q(this,"fsw");Q(this,"path");Q(this,"watchPath");Q(this,"fullWatchPath");Q(this,"dirParts");Q(this,"followSymlinks");Q(this,"statMethod");this.fsw=n;const s=t;this.path=t=t.replace(QS,""),this.watchPath=s,this.fullWatchPath=te.resolve(s),this.dirParts=[],this.dirParts.forEach(a=>{a.length>1&&a.pop()}),this.followSymlinks=r,this.statMethod=r?iP:cP}entryPath(t){return te.join(this.watchPath,te.relative(this.watchPath,t.fullPath))}filterPath(t){const{stats:r}=t;if(r&&r.isSymbolicLink())return this.filterDir(t);const n=this.entryPath(t);return this.fsw._isntIgnored(n,r)&&this.fsw._hasReadPermissions(r)}filterDir(t){return this.fsw._isntIgnored(this.entryPath(t),t.stats)}}class uP extends jd.EventEmitter{constructor(r={}){super();Q(this,"closed");Q(this,"options");Q(this,"_closers");Q(this,"_ignoredPaths");Q(this,"_throttled");Q(this,"_streams");Q(this,"_symlinkPaths");Q(this,"_watched");Q(this,"_pendingWrites");Q(this,"_pendingUnlinks");Q(this,"_readyCount");Q(this,"_emitReady");Q(this,"_closePromise");Q(this,"_userIgnored");Q(this,"_readyEmitted");Q(this,"_emitRaw");Q(this,"_boundRemove");Q(this,"_nodeFsHandler");this.closed=!1,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._streams=new Set,this._symlinkPaths=new Map,this._watched=new Map,this._pendingWrites=new Map,this._pendingUnlinks=new Map,this._readyCount=0,this._readyEmitted=!1;const n=r.awaitWriteFinish,s={stabilityThreshold:2e3,pollInterval:100},a={persistent:!0,ignoreInitial:!1,ignorePermissionErrors:!1,interval:100,binaryInterval:300,followSymlinks:!0,usePolling:!1,atomic:!0,...r,ignored:r.ignored?$s(r.ignored):$s([]),awaitWriteFinish:n===!0?s:typeof n=="object"?{...s,...n}:!1};LS&&(a.usePolling=!0),a.atomic===void 0&&(a.atomic=!a.usePolling);const o=process.env.CHOKIDAR_USEPOLLING;if(o!==void 0){const d=o.toLowerCase();d==="false"||d==="0"?a.usePolling=!1:d==="true"||d==="1"?a.usePolling=!0:a.usePolling=!!d}const i=process.env.CHOKIDAR_INTERVAL;i&&(a.interval=Number.parseInt(i,10));let c=0;this._emitReady=()=>{c++,c>=this._readyCount&&(this._emitReady=Li,this._readyEmitted=!0,process.nextTick(()=>this.emit(Ee.READY)))},this._emitRaw=(...d)=>this.emit(Ee.RAW,...d),this._boundRemove=this._remove.bind(this),this.options=a,this._nodeFsHandler=new BS(this),Object.freeze(a)}_addIgnoredPath(r){if(fa(r)){for(const n of this._ignoredPaths)if(fa(n)&&n.path===r.path&&n.recursive===r.recursive)return}this._ignoredPaths.add(r)}_removeIgnoredPath(r){if(this._ignoredPaths.delete(r),typeof r=="string")for(const n of this._ignoredPaths)fa(n)&&n.path===r&&this._ignoredPaths.delete(n)}add(r,n,s){const{cwd:a}=this.options;this.closed=!1,this._closePromise=void 0;let o=$l(r);return a&&(o=o.map(i=>sP(i,a))),o.forEach(i=>{this._removeIgnoredPath(i)}),this._userIgnored=void 0,this._readyCount||(this._readyCount=0),this._readyCount+=o.length,Promise.all(o.map(async i=>{const c=await this._nodeFsHandler._addToNodeFs(i,!s,void 0,0,n);return c&&this._emitReady(),c})).then(i=>{this.closed||i.forEach(c=>{c&&this.add(te.dirname(c),te.basename(n||c))})}),this}unwatch(r){if(this.closed)return this;const n=$l(r),{cwd:s}=this.options;return n.forEach(a=>{!te.isAbsolute(a)&&!this._closers.has(a)&&(s&&(a=te.join(s,a)),a=te.resolve(a)),this._closePath(a),this._addIgnoredPath(a),this._watched.has(a)&&this._addIgnoredPath({path:a,recursive:!0}),this._userIgnored=void 0}),this}close(){if(this._closePromise)return this._closePromise;this.closed=!0,this.removeAllListeners();const r=[];return this._closers.forEach(n=>n.forEach(s=>{const a=s();a instanceof Promise&&r.push(a)})),this._streams.forEach(n=>n.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(n=>n.dispose()),this._closers.clear(),this._watched.clear(),this._streams.clear(),this._symlinkPaths.clear(),this._throttled.clear(),this._closePromise=r.length?Promise.all(r).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const r={};return this._watched.forEach((n,s)=>{const o=(this.options.cwd?te.relative(this.options.cwd,s):s)||wd;r[o]=n.getChildren().sort()}),r}emitWithAll(r,n){this.emit(r,...n),r!==Ee.ERROR&&this.emit(Ee.ALL,r,...n)}async _emit(r,n,s){if(this.closed)return;const a=this.options;gd&&(n=te.normalize(n)),a.cwd&&(n=te.relative(a.cwd,n));const o=[n];s!=null&&o.push(s);const i=a.awaitWriteFinish;let c;if(i&&(c=this._pendingWrites.get(n)))return c.lastChange=new Date,this;if(a.atomic){if(r===Ee.UNLINK)return this._pendingUnlinks.set(n,[r,...o]),setTimeout(()=>{this._pendingUnlinks.forEach((d,u)=>{this.emit(...d),this.emit(Ee.ALL,...d),this._pendingUnlinks.delete(u)})},typeof a.atomic=="number"?a.atomic:100),this;r===Ee.ADD&&this._pendingUnlinks.has(n)&&(r=Ee.CHANGE,this._pendingUnlinks.delete(n))}if(i&&(r===Ee.ADD||r===Ee.CHANGE)&&this._readyEmitted){const d=(u,f)=>{u?(r=Ee.ERROR,o[0]=u,this.emitWithAll(r,o)):f&&(o.length>1?o[1]=f:o.push(f),this.emitWithAll(r,o))};return this._awaitWriteFinish(n,i.stabilityThreshold,r,d),this}if(r===Ee.CHANGE&&!this._throttle(Ee.CHANGE,n,50))return this;if(a.alwaysStat&&s===void 0&&(r===Ee.ADD||r===Ee.ADD_DIR||r===Ee.CHANGE)){const d=a.cwd?te.join(a.cwd,n):n;let u;try{u=await Qe.stat(d)}catch{}if(!u||this.closed)return;o.push(u)}return this.emitWithAll(r,o),this}_handleError(r){const n=r&&r.code;return r&&n!=="ENOENT"&&n!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||n!=="EPERM"&&n!=="EACCES")&&this.emit(Ee.ERROR,r),r||this.closed}_throttle(r,n,s){this._throttled.has(r)||this._throttled.set(r,new Map);const a=this._throttled.get(r);if(!a)throw new Error("invalid throttle");const o=a.get(n);if(o)return o.count++,!1;let i;const c=()=>{const u=a.get(n),f=u?u.count:0;return a.delete(n),clearTimeout(i),u&&clearTimeout(u.timeoutObject),f};i=setTimeout(c,s);const d={timeoutObject:i,clear:c,count:0};return a.set(n,d),d}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(r,n,s,a){const o=this.options.awaitWriteFinish;if(typeof o!="object")return;const i=o.pollInterval;let c,d=r;this.options.cwd&&!te.isAbsolute(r)&&(d=te.join(this.options.cwd,r));const u=new Date,f=this._pendingWrites;function _(p){re.stat(d,(w,$)=>{if(w||!f.has(r)){w&&w.code!=="ENOENT"&&a(w);return}const g=Number(new Date);p&&$.size!==p.size&&(f.get(r).lastChange=g);const m=f.get(r);g-m.lastChange>=n?(f.delete(r),a(void 0,$)):c=setTimeout(_,i,$)})}f.has(r)||(f.set(r,{lastChange:u,cancelWait:()=>(f.delete(r),clearTimeout(c),s)}),c=setTimeout(_,i))}_isIgnored(r,n){if(this.options.atomic&&ZS.test(r))return!0;if(!this._userIgnored){const{cwd:s}=this.options,o=(this.options.ignored||[]).map(gl(s)),c=[...[...this._ignoredPaths].map(gl(s)),...o];this._userIgnored=nP(c)}return this._userIgnored(r,n)}_isntIgnored(r,n){return!this._isIgnored(r,n)}_getWatchHelpers(r){return new lP(r,this.options.followSymlinks,this)}_getWatchedDir(r){const n=te.resolve(r);return this._watched.has(n)||this._watched.set(n,new oP(n,this._boundRemove)),this._watched.get(n)}_hasReadPermissions(r){return this.options.ignorePermissionErrors?!0:!!(Number(r.mode)&256)}_remove(r,n,s){const a=te.join(r,n),o=te.resolve(a);if(s=s??(this._watched.has(a)||this._watched.has(o)),!this._throttle("remove",a,100))return;!s&&this._watched.size===1&&this.add(r,n,!0),this._getWatchedDir(a).getChildren().forEach(p=>this._remove(a,p));const d=this._getWatchedDir(r),u=d.has(n);d.remove(n),this._symlinkPaths.has(o)&&this._symlinkPaths.delete(o);let f=a;if(this.options.cwd&&(f=te.relative(this.options.cwd,a)),this.options.awaitWriteFinish&&this._pendingWrites.has(f)&&this._pendingWrites.get(f).cancelWait()===Ee.ADD)return;this._watched.delete(a),this._watched.delete(o);const _=s?Ee.UNLINK_DIR:Ee.UNLINK;u&&!this._isIgnored(a)&&this._emit(_,a),this._closePath(a)}_closePath(r){this._closeFile(r);const n=te.dirname(r);this._getWatchedDir(n).remove(te.basename(r))}_closeFile(r){const n=this._closers.get(r);n&&(n.forEach(s=>s()),this._closers.delete(r))}_addPathCloser(r,n){if(!n)return;let s=this._closers.get(r);s||(s=[],this._closers.set(r,s)),s.push(n)}_readdirp(r,n){if(this.closed)return;const s={type:Ee.ALL,alwaysStat:!0,lstat:!0,...n,depth:0};let a=AS(r,s);return this._streams.add(a),a.once(CS,()=>{a=void 0}),a.once(_d,()=>{a&&(this._streams.delete(a),a=void 0)}),a}}function dP(e,t={}){const r=new uP(t);return r.add(e),r}const fP=process.mas===!0;process.platform!=="win32"&&(Y.app.commandLine.appendSwitch("enable-features","Vulkan"),Y.app.commandLine.appendSwitch("use-vulkan"),Y.app.commandLine.appendSwitch("enable-unsafe-webgpu"));const os=process.env.VITE_DEV_SERVER_URL,Oe=new yd({defaults:{vaultPath:null,vaultBookmark:null}});let yt=null;const ha=new yd({name:"settings",defaults:{theme:"light",fontFamily:"system",fontSize:17,ollamaBaseUrl:"http://localhost:11434",ollamaEnabled:!0,preferredEngine:"ollama",autoFallback:!0,customSystemPrompt:"",promptTemplates:[],defaultFormat:"md",smartFormatConversion:!0}}),Ma={zh:{about:" {appName}",preferences:"...",services:"",hide:" {appName}",hideOthers:"",unhide:"",quit:" {appName}",file:"",newArticle:"",newFolder:"",closeWindow:"",edit:"",undo:"",redo:"",cut:"",copy:"",paste:"",pasteAndMatchStyle:"",delete:"",selectAll:"",view:"",focusMode:"",reload:"",forceReload:"",devTools:"",actualSize:"",zoomIn:"",zoomOut:"",fullscreen:"",window:"",minimize:"",zoom:"",front:"",close:"",help:"",visitGitHub:" GitHub",openSettings:"",toggleFocusMode:"",showMainWindow:""},"zh-TW":{about:" {appName}",preferences:"...",services:"",hide:" {appName}",hideOthers:"",unhide:"",quit:" {appName}",file:"",newArticle:"",newFolder:"",closeWindow:"",edit:"",undo:"",redo:"",cut:"",copy:"",paste:"",pasteAndMatchStyle:"",delete:"",selectAll:"",view:"",focusMode:"",reload:"",forceReload:"",devTools:"",actualSize:"",zoomIn:"",zoomOut:"",fullscreen:"",window:"",minimize:"",zoom:"",front:"",close:"",help:"",visitGitHub:" GitHub",openSettings:"",toggleFocusMode:"",showMainWindow:""},en:{about:"About {appName}",preferences:"Preferences...",services:"Services",hide:"Hide {appName}",hideOthers:"Hide Others",unhide:"Show All",quit:"Quit {appName}",file:"File",newArticle:"New Article",newFolder:"New Folder",closeWindow:"Close Window",edit:"Edit",undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste",pasteAndMatchStyle:"Paste and Match Style",delete:"Delete",selectAll:"Select All",view:"View",focusMode:"Focus Mode",reload:"Reload",forceReload:"Force Reload",devTools:"Developer Tools",actualSize:"Actual Size",zoomIn:"Zoom In",zoomOut:"Zoom Out",fullscreen:"Toggle Fullscreen",window:"Window",minimize:"Minimize",zoom:"Zoom",front:"Bring All to Front",close:"Close",help:"Help",visitGitHub:"Visit GitHub",openSettings:"Open Settings",toggleFocusMode:"Toggle Focus Mode",showMainWindow:"Show Main Window"},ja:{about:"{appName} ",preferences:"...",services:"",hide:"{appName} ",hideOthers:"",unhide:"",quit:"{appName} ",file:"",newArticle:"",newFolder:"",closeWindow:"",edit:"",undo:"",redo:"",cut:"",copy:"",paste:"",pasteAndMatchStyle:"",delete:"",selectAll:"",view:"",focusMode:"",reload:"",forceReload:"",devTools:"",actualSize:"",zoomIn:"",zoomOut:"",fullscreen:"",window:"",minimize:"",zoom:"/",front:"",close:"",help:"",visitGitHub:"GitHub ",openSettings:"",toggleFocusMode:"",showMainWindow:""},ko:{about:"{appName} ",preferences:"...",services:"",hide:"{appName} ",hideOthers:" ",unhide:" ",quit:"{appName} ",file:"",newArticle:" ",newFolder:" ",closeWindow:" ",edit:"",undo:" ",redo:" ",cut:"",copy:"",paste:"",pasteAndMatchStyle:"  ",delete:"",selectAll:" ",view:"",focusMode:" ",reload:" ",forceReload:"  ",devTools:" ",actualSize:" ",zoomIn:"",zoomOut:"",fullscreen:" ",window:"",minimize:"",zoom:"/",front:"  ",close:"",help:"",visitGitHub:"GitHub ",openSettings:" ",toggleFocusMode:"  ",showMainWindow:"  "},fr:{about:" propos de {appName}",preferences:"Prfrences...",services:"Services",hide:"Masquer {appName}",hideOthers:"Masquer les autres",unhide:"Tout afficher",quit:"Quitter {appName}",file:"Fichier",newArticle:"Nouvel Article",newFolder:"Nouveau Dossier",closeWindow:"Fermer la fentre",edit:"dition",undo:"Annuler",redo:"Rtablir",cut:"Couper",copy:"Copier",paste:"Coller",pasteAndMatchStyle:"Coller et adapter le style",delete:"Supprimer",selectAll:"Tout slectionner",view:"Prsentation",focusMode:"Mode Focus",reload:"Actualiser",forceReload:"Forcer l'actualisation",devTools:"Outils de dveloppement",actualSize:"Taille relle",zoomIn:"Zoom avant",zoomOut:"Zoom arrire",fullscreen:"Plein cran",window:"Fentre",minimize:"Rduire",zoom:"Zoom",front:"Tout ramener au premier plan",close:"Fermer",help:"Aide",visitGitHub:"Visiter GitHub",openSettings:"Ouvrir les Paramtres",toggleFocusMode:"Basculer Mode Focus",showMainWindow:"Afficher la fentre principale"},de:{about:"ber {appName}",preferences:"Einstellungen...",services:"Dienste",hide:"{appName} ausblenden",hideOthers:"Andere ausblenden",unhide:"Alle einblenden",quit:"{appName} beenden",file:"Ablage",newArticle:"Neuer Artikel",newFolder:"Neuer Ordner",closeWindow:"Fenster schlieen",edit:"Bearbeiten",undo:"Widerrufen",redo:"Wiederholen",cut:"Ausschneiden",copy:"Kopieren",paste:"Einfgen",pasteAndMatchStyle:"Einsetzen und Stil anpassen",delete:"Lschen",selectAll:"Alles auswhlen",view:"Darstellung",focusMode:"Fokus-Modus",reload:"Neu laden",forceReload:"Neu laden erzwingen",devTools:"Entwicklertools",actualSize:"Tatschliche Gre",zoomIn:"Vergrern",zoomOut:"Verkleinern",fullscreen:"Vollbild",window:"Fenster",minimize:"Minimieren",zoom:"Zoomen",front:"Alle nach vorne bringen",close:"Schlieen",help:"Hilfe",visitGitHub:"GitHub besuchen",openSettings:"Einstellungen ffnen",toggleFocusMode:"Fokus-Modus umschalten",showMainWindow:"Hauptfenster anzeigen"},es:{about:"Acerca de {appName}",preferences:"Preferencias...",services:"Servicios",hide:"Ocultar {appName}",hideOthers:"Ocultar otros",unhide:"Mostrar todo",quit:"Salir de {appName}",file:"Archivo",newArticle:"Nuevo Artculo",newFolder:"Nueva Carpeta",closeWindow:"Cerrar ventana",edit:"Edicin",undo:"Deshacer",redo:"Rehacer",cut:"Cortar",copy:"Copiar",paste:"Pegar",pasteAndMatchStyle:"Pegar y ajustar estilo",delete:"Eliminar",selectAll:"Seleccionar todo",view:"Vista",focusMode:"Modo Enfoque",reload:"Recargar",forceReload:"Forzar recarga",devTools:"Herramientas de desarrollo",actualSize:"Tamao real",zoomIn:"Ampliar",zoomOut:"Reducir",fullscreen:"Pantalla completa",window:"Ventana",minimize:"Minimizar",zoom:"Zoom",front:"Traer todo al frente",close:"Cerrar",help:"Ayuda",visitGitHub:"Visitar GitHub",openSettings:"Abrir Ajustes",toggleFocusMode:"Alternar Modo Enfoque",showMainWindow:"Mostrar ventana principal"}};function hP(){const e=Y.app.getLocale(),t={"zh-CN":"zh","zh-Hans":"zh","zh-SG":"zh","zh-TW":"zh-TW","zh-Hant":"zh-TW","zh-HK":"zh-TW","zh-MO":"zh-TW",en:"en","en-US":"en","en-GB":"en","en-AU":"en","en-CA":"en",ja:"ja","ja-JP":"ja",ko:"ko","ko-KR":"ko",fr:"fr","fr-FR":"fr","fr-CA":"fr",de:"de","de-DE":"de","de-AT":"de","de-CH":"de",es:"es","es-ES":"es","es-MX":"es","es-AR":"es"};if(t[e])return t[e];const r=e.split("-")[0];return t[r]?t[r]:"en"}let Fa={menu:Ma.en};function Sd(e){const t=Ma[e];t?(Fa={menu:t},console.log(` : ${e}`)):(Fa={menu:Ma.en},console.log(`  ${e} `))}function se(e,t){const r=e.split(".");let n=Fa;for(const a of r)if(n&&typeof n=="object")n=n[a];else return e;let s=typeof n=="string"?n:e;return t&&Object.keys(t).forEach(a=>{s=s.replace(`{${a}}`,t[a])}),s}let nt=null;const mP=[".DS_Store",".git","node_modules",".zennote","*.swp","*.swo","*~"];let F=null;function Pd(e){return e.startsWith(".")?!0:mP.some(t=>t.includes("*")?new RegExp("^"+t.replace(/\*/g,".*")+"$").test(e):e===t)}async function Rd(e,t){const r=await Fe.promises.readdir(e,{withFileTypes:!0}),n=[];for(const s of r){if(Pd(s.name))continue;const a=be.join(e,s.name),o=be.relative(t,a),i=await Fe.promises.stat(a);if(s.isDirectory()){const c=await Rd(a,t);n.push({name:s.name,path:o,isDirectory:!0,children:c,modifiedAt:i.mtimeMs})}else{const c=be.extname(s.name).toLowerCase();[".txt",".md",".markdown"].includes(c)&&n.push({name:s.name,path:o,isDirectory:!1,extension:c,modifiedAt:i.mtimeMs})}}return n.sort((s,a)=>s.isDirectory&&!a.isDirectory?-1:!s.isDirectory&&a.isDirectory?1:s.isDirectory&&a.isDirectory?s.name.localeCompare(a.name,"zh-CN"):(a.modifiedAt||0)-(s.modifiedAt||0))}function ma(e){const t=be.join(e,".zennote"),r=be.join(t,"chats");Fe.existsSync(t)||Fe.mkdirSync(t,{recursive:!0}),Fe.existsSync(r)||Fe.mkdirSync(r,{recursive:!0})}function pP(){if(Y.ipcMain.handle("fs:getVaultPath",()=>{const e=Oe.get("vaultPath"),t=Oe.get("vaultBookmark");if(e){if(t&&!yt)try{yt=Y.app.startAccessingSecurityScopedResource(t),console.log(" ")}catch(r){console.warn(" :",r)}if(!Fe.existsSync(e))return console.log(" Vault :",e),Oe.set("vaultPath",null),Oe.set("vaultBookmark",null),yt&&(yt(),yt=null),null}return e}),Y.ipcMain.handle("fs:setVaultPath",(e,t)=>(Oe.set("vaultPath",t),ma(t),!0)),Y.ipcMain.handle("fs:selectDirectory",async()=>{const e=await Y.dialog.showOpenDialog(F,{properties:["openDirectory","createDirectory"],securityScopedBookmarks:!0,title:"",buttonLabel:""});if(e.canceled||e.filePaths.length===0)return null;const t=e.filePaths[0];return e.bookmarks&&e.bookmarks.length>0&&(Oe.set("vaultBookmark",e.bookmarks[0]),console.log("  Security-Scoped Bookmark")),Oe.set("vaultPath",t),ma(t),t}),Y.ipcMain.handle("fs:disconnectVault",async()=>(yt&&(yt(),yt=null,console.log(" ")),Oe.delete("vaultPath"),Oe.delete("vaultBookmark"),!0)),Y.ipcMain.handle("fs:readDirectory",async(e,t)=>{const r=t||Oe.get("vaultPath");if(!r)return[];try{return await Rd(r,r)}catch(n){return console.error(":",n),[]}}),Y.ipcMain.handle("fs:readFile",async(e,t)=>{const r=Oe.get("vaultPath");if(!r)throw new Error(" Vault ");const n=be.join(r,t);return await Fe.promises.readFile(n,"utf-8")}),Y.ipcMain.handle("fs:writeFile",async(e,t,r)=>{const n=Oe.get("vaultPath");if(!n)throw new Error(" Vault ");const s=be.join(n,t);return await Fe.promises.writeFile(s,r,"utf-8"),!0}),Y.ipcMain.handle("fs:createFile",async(e,t)=>{const r=Oe.get("vaultPath");if(!r)throw new Error(" Vault ");const n=be.join(r,t);return await Fe.promises.writeFile(n,"","utf-8"),!0}),Y.ipcMain.handle("fs:createDirectory",async(e,t)=>{const r=Oe.get("vaultPath");if(!r)throw new Error(" Vault ");const n=be.join(r,t);return await Fe.promises.mkdir(n,{recursive:!0}),!0}),Y.ipcMain.handle("fs:deleteFile",async(e,t)=>{const r=Oe.get("vaultPath");if(!r)throw new Error(" Vault ");const n=be.join(r,t);return(await Fe.promises.stat(n)).isDirectory()?await Fe.promises.rm(n,{recursive:!0,force:!0}):await Fe.promises.unlink(n),!0}),Y.ipcMain.handle("fs:renameFile",async(e,t,r)=>{const n=Oe.get("vaultPath");if(!n)throw new Error(" Vault ");const s=be.join(n,t),a=be.join(n,r);return await Fe.promises.rename(s,a),!0}),Y.ipcMain.handle("chat:load",async(e,t)=>{const r=Oe.get("vaultPath");if(!r)return[];const n=Buffer.from(t).toString("base64").replace(/[\/+=]/g,"_"),s=be.join(r,".zennote","chats",`${n}.json`);try{const a=await Fe.promises.readFile(s,"utf-8");return JSON.parse(a)}catch{return[]}}),Y.ipcMain.handle("chat:save",async(e,t,r)=>{const n=Oe.get("vaultPath");if(!n)return!1;ma(n);const s=Buffer.from(t).toString("base64").replace(/[\/+=]/g,"_"),a=be.join(n,".zennote","chats",`${s}.json`);return await Fe.promises.writeFile(a,JSON.stringify(r,null,2),"utf-8"),!0}),Y.ipcMain.handle("fs:watch",(e,t)=>{const r=t||Oe.get("vaultPath");return r?(nt&&nt.close(),nt=dP(r,{ignored:n=>{const s=be.basename(n);return Pd(s)},persistent:!0,ignoreInitial:!0,depth:10}),nt.on("add",n=>{const s=be.relative(r,n);F==null||F.webContents.send("fs:change",{type:"add",path:s})}),nt.on("unlink",n=>{const s=be.relative(r,n);F==null||F.webContents.send("fs:change",{type:"unlink",path:s})}),nt.on("change",n=>{const s=be.relative(r,n);F==null||F.webContents.send("fs:change",{type:"change",path:s})}),nt.on("addDir",n=>{const s=be.relative(r,n);F==null||F.webContents.send("fs:change",{type:"addDir",path:s})}),nt.on("unlinkDir",n=>{const s=be.relative(r,n);F==null||F.webContents.send("fs:change",{type:"unlinkDir",path:s})}),console.log(" :",r),!0):!1}),Y.ipcMain.handle("fs:unwatch",()=>(nt&&(nt.close(),nt=null,console.log(" ")),!0)),Y.ipcMain.handle("window:setWidth",(e,t)=>{if(F){const r=F.getBounds();return F.setBounds({...r,width:t}),!0}return!1}),Y.ipcMain.handle("app:getVersion",()=>Y.app.getVersion()),Y.ipcMain.handle("settings:get",()=>ha.store),Y.ipcMain.handle("settings:set",(e,t,r)=>(ha.set(t,r),!0)),Y.ipcMain.handle("settings:reset",()=>(ha.clear(),!0)),Y.ipcMain.handle("shortcuts:createArticle",()=>(F==null||F.webContents.send("shortcuts:createArticle"),!0)),Y.ipcMain.handle("shortcuts:createFolder",()=>(F==null||F.webContents.send("shortcuts:createFolder"),!0)),Y.ipcMain.handle("shortcuts:openSettings",()=>(F==null||F.webContents.send("shortcuts:openSettings"),!0)),Y.ipcMain.handle("shortcuts:toggleFocusMode",()=>(F==null||F.webContents.send("shortcuts:toggleFocusMode"),!0)),Y.ipcMain.handle("menu:changeLanguage",(e,t)=>(Sd(t),Nd(),Od(),!0)),fP){const e={success:!1,error:"Ollama  App Store  WebLLM  HTTP API  Ollama ",models:[]};Y.ipcMain.handle("ollama:listModels",async()=>e),Y.ipcMain.handle("ollama:pullModel",async()=>e),Y.ipcMain.handle("ollama:cancelPull",async()=>e),Y.ipcMain.handle("ollama:deleteModel",async()=>e),console.log(" MAS : Ollama ")}else{const e={...process.env,OLLAMA_HOST:"127.0.0.1:11434"};Y.ipcMain.handle("ollama:listModels",async()=>{try{return new Promise(r=>{const n=Yr.spawn("ollama",["list"],{env:e});let s="";n.stdout.on("data",a=>{s+=a.toString()}),n.on("close",a=>{if(a===0)try{const i=s.trim().split(`
`).slice(1).map(c=>{const d=c.split(/\s{2,}/);return d.length>=3?{name:d[0],id:d[1],size:d[2],modified:d[3]||""}:null}).filter(c=>c!==null);r({success:!0,models:i})}catch{r({success:!1,error:""})}else r({success:!1,error:""})}),n.on("error",a=>{r({success:!1,error:a.message})})})}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}});const t=new Map;Y.ipcMain.handle("ollama:pullModel",async(r,n)=>new Promise((s,a)=>{var c,d;const o=Yr.spawn("ollama",["pull",n],{env:e});t.set(n,o);let i="";(c=o.stdout)==null||c.on("data",u=>{const f=u.toString();i+=f,F==null||F.webContents.send("ollama:pullProgress",{model:n,output:f})}),(d=o.stderr)==null||d.on("data",u=>{const f=u.toString();i+=f,F==null||F.webContents.send("ollama:pullProgress",{model:n,output:f})}),o.on("close",u=>{t.delete(n),u===0?s({success:!0,output:i}):a(new Error(`: ${u}`))}),o.on("error",u=>{t.delete(n),a(u)})})),Y.ipcMain.handle("ollama:cancelPull",async(r,n)=>{if(n&&t.has(n)){console.log(` : ${n}`),t.get(n).kill("SIGTERM"),t.delete(n);try{Yr.spawn("ollama",["rm",n],{env:e}),console.log(` : ${n}`)}catch(a){console.log(":",a)}return{success:!0,cancelled:n}}if(t.size>0){const s=[];return Array.from(t.entries()).forEach(([a,o])=>{console.log(` : ${a}`),o.kill("SIGTERM"),s.push(a);try{Yr.spawn("ollama",["rm",a],{env:e}),console.log(` : ${a}`)}catch(i){console.log(":",i)}}),t.clear(),{success:!0,cancelled:s.join(", ")}}return{success:!1,error:""}}),Y.ipcMain.handle("ollama:deleteModel",async(r,n)=>new Promise((s,a)=>{const o=Yr.spawn("ollama",["rm",n],{env:e});o.on("close",i=>{i===0?s({success:!0}):a(new Error(`: ${i}`))}),o.on("error",i=>a(i))}))}}function Nd(){const e=process.platform==="darwin",t=[...e?[{label:Y.app.name,submenu:[{role:"about",label:se("menu.about",{appName:Y.app.name})},{type:"separator"},{label:se("menu.preferences"),accelerator:"CmdOrCtrl+,",click:()=>{F==null||F.webContents.send("shortcuts:openSettings")}},{type:"separator"},{role:"services",label:se("menu.services")},{type:"separator"},{role:"hide",label:se("menu.hide",{appName:Y.app.name})},{role:"hideOthers",label:se("menu.hideOthers")},{role:"unhide",label:se("menu.unhide")},{type:"separator"},{role:"quit",label:se("menu.quit",{appName:Y.app.name})}]}]:[],{label:se("menu.file"),submenu:[{label:se("menu.newArticle"),accelerator:"CmdOrCtrl+N",click:()=>{F==null||F.webContents.send("shortcuts:createArticle")}},{label:se("menu.newFolder"),accelerator:"CmdOrCtrl+Shift+N",click:()=>{F==null||F.webContents.send("shortcuts:createFolder")}},{type:"separator"},e?{role:"close",label:se("menu.closeWindow")}:{role:"quit",label:se("menu.quit",{appName:Y.app.name})}]},{label:se("menu.edit"),submenu:[{role:"undo",label:se("menu.undo")},{role:"redo",label:se("menu.redo")},{type:"separator"},{role:"cut",label:se("menu.cut")},{role:"copy",label:se("menu.copy")},{role:"paste",label:se("menu.paste")},...e?[{role:"pasteAndMatchStyle",label:se("menu.pasteAndMatchStyle")},{role:"delete",label:se("menu.delete")},{role:"selectAll",label:se("menu.selectAll")}]:[{role:"delete",label:se("menu.delete")},{type:"separator"},{role:"selectAll",label:se("menu.selectAll")}]]},{label:se("menu.view"),submenu:[{label:se("menu.focusMode"),accelerator:"CmdOrCtrl+Shift+F",click:()=>{F==null||F.webContents.send("shortcuts:toggleFocusMode")}},{type:"separator"},{role:"reload",label:se("menu.reload")},{role:"forceReload",label:se("menu.forceReload")},{role:"toggleDevTools",label:se("menu.devTools")},{type:"separator"},{role:"resetZoom",label:se("menu.actualSize")},{role:"zoomIn",label:se("menu.zoomIn")},{role:"zoomOut",label:se("menu.zoomOut")},{type:"separator"},{role:"togglefullscreen",label:se("menu.fullscreen")}]},{label:se("menu.window"),submenu:[{label:se("menu.showMainWindow"),accelerator:"CmdOrCtrl+1",click:()=>{F?(F.show(),F.focus()):_s()}},{type:"separator"},{role:"minimize",label:se("menu.minimize")},{role:"zoom",label:se("menu.zoom")},...e?[{type:"separator"},{role:"front",label:se("menu.front")}]:[{role:"close",label:se("menu.close")}]]},{role:"help",label:se("menu.help"),submenu:[{label:se("menu.visitGitHub"),click:async()=>{await Y.shell.openExternal("https://github.com/hooosberg/WitNote")}}]}],r=Y.Menu.buildFromTemplate(t);Y.Menu.setApplicationMenu(r)}function Od(){if(process.platform!=="darwin")return;const e=Y.Menu.buildFromTemplate([{label:se("menu.showMainWindow"),click:()=>{F?(F.show(),F.focus()):_s()}},{type:"separator"},{label:se("menu.newArticle"),click:()=>{F==null||F.webContents.send("shortcuts:createArticle")}},{label:se("menu.newFolder"),click:()=>{F==null||F.webContents.send("shortcuts:createFolder")}},{type:"separator"},{label:se("menu.openSettings"),click:()=>{F==null||F.webContents.send("shortcuts:openSettings")}},{label:se("menu.toggleFocusMode"),click:()=>{F==null||F.webContents.send("shortcuts:toggleFocusMode")}}]);Y.app.dock.setMenu(e)}function _s(){const e=process.platform==="darwin",t={width:1400,height:900,minWidth:400,minHeight:300,hasShadow:!0,webPreferences:{preload:be.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0,webSecurity:!0,experimentalFeatures:!0},title:"WitNote"};if(e?Object.assign(t,{vibrancy:"sidebar",visualEffectState:"active",transparent:!0,titleBarStyle:"hiddenInset",trafficLightPosition:{x:20,y:18},frame:!1}):Object.assign(t,{frame:!0,transparent:!1}),F=new Y.BrowserWindow(t),os)console.log(" : ",os),F.loadURL(os),F.webContents.openDevTools();else{const r=be.join(Y.app.getAppPath(),"dist","index.html");console.log(" : ",r),F.loadFile(r)}F.on("closed",()=>{F=null}),F.webContents.on("did-finish-load",()=>{console.log(" ")})}Y.app.whenReady().then(async()=>{const e=hP();Sd(e),console.log(` : ${Y.app.getLocale()}  : ${e}`),pP(),Nd(),Od(),_s(),Y.app.on("activate",()=>{F?(F.show(),F.focus()):Y.BrowserWindow.getAllWindows().length===0&&_s()})});Y.app.on("window-all-closed",()=>{nt&&nt.close(),process.platform!=="darwin"&&Y.app.quit()});Y.app.on("will-quit",()=>{yt&&(yt(),yt=null,console.log(" "))});console.log(" ...");console.log(" VITE_DEV_SERVER_URL:",os||" ()");
