"use strict";const r=require("electron");r.contextBridge.exposeInMainWorld("fs",{getVaultPath:()=>r.ipcRenderer.invoke("fs:getVaultPath"),setVaultPath:e=>r.ipcRenderer.invoke("fs:setVaultPath",e),selectDirectory:()=>r.ipcRenderer.invoke("fs:selectDirectory"),disconnectVault:()=>r.ipcRenderer.invoke("fs:disconnectVault"),readDirectory:e=>r.ipcRenderer.invoke("fs:readDirectory",e),readFile:e=>r.ipcRenderer.invoke("fs:readFile",e),writeFile:(e,n)=>r.ipcRenderer.invoke("fs:writeFile",e,n),createFile:e=>r.ipcRenderer.invoke("fs:createFile",e),createDirectory:e=>r.ipcRenderer.invoke("fs:createDirectory",e),deleteFile:e=>r.ipcRenderer.invoke("fs:deleteFile",e),renameFile:(e,n)=>r.ipcRenderer.invoke("fs:renameFile",e,n),readFileBuffer:e=>r.ipcRenderer.invoke("fs:readFileBuffer",e),copyExternalFile:(e,n)=>r.ipcRenderer.invoke("fs:copyExternalFile",e,n),saveImage:(e,n,o)=>r.ipcRenderer.invoke("fs:saveImage",e,n,o),selectAndCopyImage:e=>r.ipcRenderer.invoke("fs:selectAndCopyImage",e),downloadAndSaveImage:(e,n)=>r.ipcRenderer.invoke("fs:downloadAndSaveImage",e,n),isImageReferenced:(e,n)=>r.ipcRenderer.invoke("fs:isImageReferenced",e,n),deleteUnreferencedImage:e=>r.ipcRenderer.invoke("fs:deleteUnreferencedImage",e),exportMarkdownToPdf:(e,n,o)=>r.ipcRenderer.invoke("export-markdown-to-pdf",{htmlContent:e,outputPath:n,title:o}),watch:e=>r.ipcRenderer.invoke("fs:watch",e),unwatch:()=>r.ipcRenderer.invoke("fs:unwatch"),onFileChange:e=>{const n=(o,t)=>{e(t)};return r.ipcRenderer.on("fs:change",n),()=>{r.ipcRenderer.removeListener("fs:change",n)}}});r.contextBridge.exposeInMainWorld("chat",{load:e=>r.ipcRenderer.invoke("chat:load",e),save:(e,n)=>r.ipcRenderer.invoke("chat:save",e,n),deleteAll:()=>r.ipcRenderer.invoke("chat:deleteAll")});r.contextBridge.exposeInMainWorld("platform",{os:process.platform,isMac:process.platform==="darwin",isWindows:process.platform==="win32"});r.contextBridge.exposeInMainWorld("appWindow",{setWidth:e=>r.ipcRenderer.invoke("window:setWidth",e)});r.contextBridge.exposeInMainWorld("app",{getVersion:()=>r.ipcRenderer.invoke("app:getVersion")});r.contextBridge.exposeInMainWorld("settings",{get:()=>r.ipcRenderer.invoke("settings:get"),set:(e,n)=>r.ipcRenderer.invoke("settings:set",e,n),reset:()=>r.ipcRenderer.invoke("settings:reset")});r.contextBridge.exposeInMainWorld("vault",{syncSettings:()=>r.ipcRenderer.invoke("vault:syncSettings"),loadSettings:()=>r.ipcRenderer.invoke("vault:loadSettings"),saveEngineConfig:e=>r.ipcRenderer.invoke("vault:saveEngineConfig",e),loadEngineConfig:()=>r.ipcRenderer.invoke("vault:loadEngineConfig")});r.contextBridge.exposeInMainWorld("ollama",{openModelsFolder:()=>r.ipcRenderer.invoke("ollama:openModelsFolder"),listModels:()=>r.ipcRenderer.invoke("ollama:listModels"),pullModel:e=>r.ipcRenderer.invoke("ollama:pullModel",e),deleteModel:e=>r.ipcRenderer.invoke("ollama:deleteModel",e),cancelPull:e=>r.ipcRenderer.invoke("ollama:cancelPull",e),onPullProgress:e=>{const n=(o,t)=>e(t);return r.ipcRenderer.on("ollama:pullProgress",n),()=>r.ipcRenderer.removeListener("ollama:pullProgress",n)}});r.contextBridge.exposeInMainWorld("shortcuts",{onCreateArticle:e=>{const n=()=>e();return r.ipcRenderer.on("shortcuts:createArticle",n),()=>r.ipcRenderer.removeListener("shortcuts:createArticle",n)},onCreateFolder:e=>{const n=()=>e();return r.ipcRenderer.on("shortcuts:createFolder",n),()=>r.ipcRenderer.removeListener("shortcuts:createFolder",n)},onOpenSettings:e=>{const n=()=>e();return r.ipcRenderer.on("shortcuts:openSettings",n),()=>r.ipcRenderer.removeListener("shortcuts:openSettings",n)},onToggleFocusMode:e=>{const n=()=>e();return r.ipcRenderer.on("shortcuts:toggleFocusMode",n),()=>r.ipcRenderer.removeListener("shortcuts:toggleFocusMode",n)},onCycleEditorMode:e=>{const n=()=>e();return r.ipcRenderer.on("shortcuts:cycleEditorMode",n),()=>r.ipcRenderer.removeListener("shortcuts:cycleEditorMode",n)},onToggleSmartAutocomplete:e=>{const n=()=>e();return r.ipcRenderer.on("shortcuts:toggleSmartAutocomplete",n),()=>r.ipcRenderer.removeListener("shortcuts:toggleSmartAutocomplete",n)},syncSmartAutocomplete:e=>r.ipcRenderer.invoke("menu:syncSmartAutocomplete",e)});r.contextBridge.exposeInMainWorld("externalFile",{onOpenExternalFile:e=>{const n=(o,t)=>e(t);return r.ipcRenderer.on("open-external-file",n),()=>r.ipcRenderer.removeListener("open-external-file",n)},getExternalFilePath:()=>r.ipcRenderer.invoke("fs:getExternalFilePath")});console.log("ğŸ”— Preload è„šæœ¬å·²åŠ è½½");
