const translations = {
    "en": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "A local-first AI writing companion for macOS, Windows, and Linux. <br> Experience the power of local intelligence with Ollama and WebLLM, wrapped in a minimalist, native design.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "Design Philosophy",
        "card-local-title": "Local First",
        "card-local-desc": "Your thoughts stay on your device. 100% offline capability with local AI models.",
        "card-dual-title": "Dual-Pane Editor",
        "card-dual-desc": "Seamless writing and previewing experience. Drag to resize, just like you expect.",
        "card-engines-title": "Three Engines",
        "card-engines-desc": "Freedom to choose between WebLLM, Ollama, or Cloud APIs.",
        "card-auto-title": "Smart Autocomplete",
        "card-auto-desc": "Let AI help you finish your sentences. Smooth, context-aware suggestions.",
        "card-themes-title": "Beautiful Themes",
        "card-themes-desc": "Light, Dark, and Zen Tea modes. Designed for focus and comfort.",
        "card-focus-title": "Focus Mode",
        "card-focus-desc": "Distraction-free environment that adapts when you resize the window.",
        "section-projects": "Our Projects",
        "footer-github": "GitHub",
        "footer-docs": "Documentation",
        "footer-license": "License",
        "footer-privacy": "Privacy",
        "copyright-text": "Developed by hooosberg.",
        "contact-label": "Contact:"
    },
    "zh-CN": {
        "title": "智简笔记本",
        "tagline": "大智若简，落笔生花",
        "slogan-sub": "一切皆文件",
        "description": "一款 supports macOS、Windows 和 Linux 的本地优先 AI 写作伴侣。<br> 在极简的原生设计中，体验 Ollama 和 WebLLM 本地智能的强大力量。",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "设计哲学",
        "card-local-title": "本地优先",
        "card-local-desc": "你的思想只属于你。完全离线，支持本地 AI 模型。",
        "card-dual-title": "双栏编辑",
        "card-dual-desc": "流畅的写作与预览体验。随心拖拽调整，符合直觉。",
        "card-engines-title": "三大引擎",
        "card-engines-desc": "自由选择 WebLLM、Ollama 或云端 API。",
        "card-auto-title": "智能续写",
        "card-auto-desc": "让 AI 帮你补全句子。流畅、上下文感知的智能建议。",
        "card-themes-title": "精美主题",
        "card-themes-desc": "亮色、暗色和禅茶模式。专为专注和舒适设计。",
        "card-focus-title": "专注模式",
        "card-focus-desc": "随窗口缩放自动适应的无干扰写作环境。",
        "section-projects": "我们的项目",
        "footer-github": "GitHub",
        "footer-docs": "文档",
        "footer-license": "许可证",
        "footer-privacy": "隐私政策",
        "copyright-text": "由 hooosberg 开发。",
        "contact-label": "联系方式:"
    },
    "zh-TW": {
        "title": "智簡筆記本",
        "tagline": "大智若簡，落筆生花",
        "slogan-sub": "一切皆檔案",
        "description": "一款支持 macOS、Windows 和 Linux 的本地優先 AI 寫作伴侶。<br> 在極簡的原生設計中，體驗 Ollama 和 WebLLM 本地智能的強大力量。",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "設計哲學",
        "card-local-title": "本地優先",
        "card-local-desc": "你的思想只屬於你。完全離線，支持本地 AI 模型。",
        "card-dual-title": "雙欄編輯",
        "card-dual-desc": "流暢的寫作與預覽體驗。隨心拖拽調整，符合直覺。",
        "card-engines-title": "三大引擎",
        "card-engines-desc": "自由選擇 WebLLM、Ollama 或雲端 API。",
        "card-auto-title": "智能續寫",
        "card-auto-desc": "讓 AI 幫你補全句子。流暢、上下文感知的智能建議。",
        "card-themes-title": "精美主題",
        "card-themes-desc": "亮色、暗色和禪茶模式。專為專注和舒適設計。",
        "card-focus-title": "專注模式",
        "card-focus-desc": "隨窗口縮放自動適應的無干擾寫作環境。",
        "section-projects": "我們的專案",
        "footer-github": "GitHub",
        "footer-docs": "文檔",
        "footer-license": "許可證",
        "footer-privacy": "隱私政策",
        "copyright-text": "由 hooosberg 開發。",
        "contact-label": "聯繫方式:"
    },
    "ja": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "macOS、Windows、Linux向けのローカルファーストAIライティングコンパニオン。<br> ミニマルなネイティブデザインで、OllamaとWebLLMのローカルインテリジェンスを体験してください。",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "デザイン哲学",
        "card-local-title": "ローカルファースト",
        "card-local-desc": "あなたの思考はデバイス上に留まります。ローカルAIモデルによる完全オフライン機能。",
        "card-dual-title": "2ペインエディタ",
        "card-dual-desc": "シームレスな執筆とプレビュー体験。期待通りにドラッグしてサイズ変更。",
        "card-engines-title": "3つのエンジン",
        "card-engines-desc": "WebLLM、Ollama、またはクラウドAPIから自由に選択。",
        "card-auto-title": "スマート自動補完",
        "card-auto-desc": "AIが文章の続きを提案します。スムーズで文脈を理解した提案。",
        "card-themes-title": "美しいテーマ",
        "card-themes-desc": "ライト、ダーク、禅茶モード。集中と快適さのために設計されています。",
        "card-focus-title": "フォーカスモード",
        "card-focus-desc": "ウィンドウサイズに合わせて適応する、気が散らない環境。",
        "section-projects": "プロジェクト",
        "footer-github": "GitHub",
        "footer-docs": "ドキュメント",
        "footer-license": "ライセンス",
        "footer-privacy": "プライバシー",
        "copyright-text": "hooosbergによって開発されました。",
        "contact-label": "連絡先:"
    },
    "ko": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "macOS, Windows 및 Linux를 위한 로컬 우선 AI 작문 동반자.<br> 미니멀한 네이티브 디자인으로 Ollama 및 WebLLM의 로컬 지능을 경험하세요.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "디자인 철학",
        "card-local-title": "로컬 우선",
        "card-local-desc": "당신의 생각은 기기에 머 뭅니다. 로컬 AI 모델을 통한 100% 오프라인 기능.",
        "card-dual-title": "듀얼 창 편집기",
        "card-dual-desc": "매끄러운 작문 및 미리보기 경험. 예상대로 드래그하여 크기 조정.",
        "card-engines-title": "세 가지 엔진",
        "card-engines-desc": "WebLLM, Ollama 또는 클라우드 API 중에서 자유롭게 선택하십시오.",
        "card-auto-title": "스마트 자동 완성",
        "card-auto-desc": "AI가 문장을 완성하도록 도와줍니다. 부드럽고 문맥을 인식하는 제안.",
        "card-themes-title": "아름다운 테마",
        "card-themes-desc": "라이트, 다크 및 젠 티 모드. 집중과 편안함을 위해 설계되었습니다.",
        "card-focus-title": "집중 모드",
        "card-focus-desc": "창 크기를 조정할 때 적응하는 방해 없는 환경.",
        "section-projects": "우리의 프로젝트",
        "footer-github": "GitHub",
        "footer-docs": "문서",
        "footer-license": "라이선스",
        "footer-privacy": "개인 정보 보호",
        "copyright-text": "hooosberg가 개발했습니다.",
        "contact-label": "연락처:"
    },
    "es": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "Un compañero de escritura AI local para macOS, Windows y Linux. <br> Experimente el poder de la inteligencia local con Ollama y WebLLM, envuelto en un diseño nativo minimalista.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "Filosofía de Diseño",
        "card-local-title": "Local Primero",
        "card-local-desc": "Tus pensamientos se quedan en tu dispositivo. Capacidad 100% fuera de línea con modelos de AI locales.",
        "card-dual-title": "Editor de Doble Panel",
        "card-dual-desc": "Experiencia de escritura y vista previa perfecta. Arrastre para cambiar el tamaño, tal como espera.",
        "card-engines-title": "Tres Motores",
        "card-engines-desc": "Libertad para elegir entre WebLLM, Ollama o API en la nube.",
        "card-auto-title": "Autocompletar Inteligente",
        "card-auto-desc": "Deja que la IA te ayude a terminar tus oraciones. Sugerencias suaves y conscientes del contexto.",
        "card-themes-title": "Temas Hermosos",
        "card-themes-desc": "Modos Claro, Oscuro y Zen Tea. Diseñado para el enfoque y la comodidad.",
        "card-focus-title": "Modo de Enfoque",
        "card-focus-desc": "Entorno libre de distracciones que se adapta cuando cambia el tamaño de la ventana.",
        "section-projects": "Nuestros Proyectos",
        "footer-github": "GitHub",
        "footer-docs": "Documentación",
        "footer-license": "Licencia",
        "footer-privacy": "Privacidad",
        "copyright-text": "Desarrollado por hooosberg.",
        "contact-label": "Contacto:"
    },
    "fr": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "Un compagnon d'écriture IA local pour macOS, Windows et Linux. <br> Découvrez la puissance de l'intelligence locale avec Ollama et WebLLM, enveloppée dans un design natif minimaliste.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "Philosophie de Conception",
        "card-local-title": "Local d'Abord",
        "card-local-desc": "Vos pensées restent sur votre appareil. Capacité 100% hors ligne avec des modèles d'IA locaux.",
        "card-dual-title": "Éditeur à Double Volet",
        "card-dual-desc": "Expérience d'écriture et de prévisualisation transparente. Faites glisser pour redimensionner, comme vous vous y attendez.",
        "card-engines-title": "Trois Moteurs",
        "card-engines-desc": "Liberté de choisir entre WebLLM, Ollama ou Cloud API.",
        "card-auto-title": "Autocomplétion Intelligente",
        "card-auto-desc": "Laissez l'IA vous aider à terminer vos phrases. Suggestions fluides et contextuelles.",
        "card-themes-title": "Beaux Thèmes",
        "card-themes-desc": "Modes Clair, Sombre et Zen Tea. Conçu pour la concentration et le confort.",
        "card-focus-title": "Mode Focus",
        "card-focus-desc": "Environnement sans distraction qui s'adapte lorsque vous redimensionnez la fenêtre.",
        "section-projects": "Nos Projets",
        "footer-github": "GitHub",
        "footer-docs": "Documentation",
        "footer-license": "Licence",
        "footer-privacy": "Confidentialité",
        "copyright-text": "Développé par hooosberg.",
        "contact-label": "Contact:"
    },
    "de": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "Ein lokaler KI-Schreibbegleiter für macOS, Windows und Linux. <br> Erleben Sie die Kraft lokaler Intelligenz mit Ollama und WebLLM in einem minimalistischen, nativen Design.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "Designphilosophie",
        "card-local-title": "Lokal Zuerst",
        "card-local-desc": "Ihre Gedanken bleiben auf Ihrem Gerät. 100% Offline-Funktionalität mit lokalen KI-Modellen.",
        "card-dual-title": "Zwei-Fenster-Editor",
        "card-dual-desc": "Nahtloses Schreib- und Vorschauerlebnis. Zum Ändern der Größe ziehen, genau wie Sie es erwarten.",
        "card-engines-title": "Drei Motoren",
        "card-engines-desc": "Freie Wahl zwischen WebLLM, Ollama oder Cloud-APIs.",
        "card-auto-title": "Smarte Autovervollständigung",
        "card-auto-desc": "Lassen Sie sich von der KI helfen, Ihre Sätze zu beenden. Glatte, kontextbezogene Vorschläge.",
        "card-themes-title": "Schöne Themen",
        "card-themes-desc": "Hell-, Dunkel- und Zen-Tee-Modi. Entwickelt für Fokus und Komfort.",
        "card-focus-title": "Fokusmodus",
        "card-focus-desc": "Ablenkungsfreie Umgebung, die sich anpasst, wenn Sie das Fenster verkleinern.",
        "section-projects": "Unsere Projekte",
        "footer-github": "GitHub",
        "footer-docs": "Dokumentation",
        "footer-license": "Lizenz",
        "footer-privacy": "Privatsphäre",
        "copyright-text": "Entwickelt von hooosberg.",
        "contact-label": "Kontakt:"
    },
    "it": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "Un compagno di scrittura AI first-local per macOS, Windows e Linux. <br> Sperimenta la potenza dell'intelligenza locale con Ollama e WebLLM, avvolto in un design nativo minimalista.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "Filosofia del Design",
        "card-local-title": "Locale Prima",
        "card-local-desc": "I tuoi pensieri rimangono sul tuo dispositivo. Funzionalità offline al 100% con modelli AI locali.",
        "card-dual-title": "Editor a Doppio Pannello",
        "card-dual-desc": "Esperienza di scrittura e anteprima senza interruzioni. Trascina per ridimensionare, proprio come ti aspetti.",
        "card-engines-title": "Tre Motori",
        "card-engines-desc": "Libertà di scegliere tra WebLLM, Ollama o API cloud.",
        "card-auto-title": "Autocompletamento Intelligente",
        "card-auto-desc": "Lascia che l'IA ti aiuti a finire le frasi. Suggerimenti fluidi e consapevoli del contesto.",
        "card-themes-title": "Bei Temi",
        "card-themes-desc": "Modalità Chiara, Scura e Zen Tea. Progettato per concentrazione e comfort.",
        "card-focus-title": "Modalità Focus",
        "card-focus-desc": "Ambiente privo di distrazioni che si adatta quando ridimensioni la finestra.",
        "section-projects": "I Nostri Progetti",
        "footer-github": "GitHub",
        "footer-docs": "Documentazione",
        "footer-license": "Licenza",
        "footer-privacy": "Privacy",
        "copyright-text": "Sviluppato da hooosberg.",
        "contact-label": "Contatto:"
    },
    "pt": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "Um companheiro de escrita de IA local para macOS, Windows e Linux. <br> Experimente o poder da inteligência local com Ollama e WebLLM, envolto em um design nativo minimalista.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "Filosofia de Design",
        "card-local-title": "Local Primeiro",
        "card-local-desc": "Seus pensamentos ficam no seu dispositivo. Capacidade 100% offline com modelos de IA locais.",
        "card-dual-title": "Editor de Painel Duplo",
        "card-dual-desc": "Experiência de escrita e visualização perfeita. Arraste para redimensionar, como você espera.",
        "card-engines-title": "Três Motores",
        "card-engines-desc": "Liberdade para escolher entre WebLLM, Ollama ou Cloud APIs.",
        "card-auto-title": "Autocompletar Inteligente",
        "card-auto-desc": "Deixe a IA ajudá-lo a terminar suas frases. Sugestões suaves e sensíveis ao contexto.",
        "card-themes-title": "Belos Temas",
        "card-themes-desc": "Modos Claro, Escuro e Zen Tea. Projetado para foco e conforto.",
        "card-focus-title": "Modo Foco",
        "card-focus-desc": "Ambiente livre de distrações que se adapta quando você redimensiona a janela.",
        "section-projects": "Nossos Projetos",
        "footer-github": "GitHub",
        "footer-docs": "Documentação",
        "footer-license": "Licença",
        "footer-privacy": "Privacidade",
        "copyright-text": "Desenvolvido por hooosberg.",
        "contact-label": "Contato:"
    },
    "ru": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "Локальный ИИ-помощник для письма на macOS, Windows и Linux. <br> Испытайте мощь локального интеллекта с Ollama и WebLLM в минималистичном нативном дизайне.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "Философия Дизайна",
        "card-local-title": "Локально",
        "card-local-desc": "Ваши мысли остаются на вашем устройстве. 100% автономная работа с локальными моделями ИИ.",
        "card-dual-title": "Двухпанельный Редактор",
        "card-dual-desc": "Бесшовный опыт письма и предварительного просмотра. Перетащите, чтобы изменить размер, как вы и ожидаете.",
        "card-engines-title": "Три Движка",
        "card-engines-desc": "Свобода выбора между WebLLM, Ollama или облачными API.",
        "card-auto-title": "Умное Автодополнение",
        "card-auto-desc": "Позвольте ИИ помочь вам закончить предложения. Плавные, контекстно-зависимые предложения.",
        "card-themes-title": "Красивые Темы",
        "card-themes-desc": "Светлый, Темный и Дзен Чай режимы. Создан для концентрации и комфорта.",
        "card-focus-title": "Режим Фокусировки",
        "card-focus-desc": "Среда без отвлекающих факторов, которая адаптируется при изменении размера окна.",
        "section-projects": "Наши Проекты",
        "footer-github": "GitHub",
        "footer-docs": "Документация",
        "footer-license": "Лицензия",
        "footer-privacy": "Конфиденциальность",
        "copyright-text": "Разработано hooosberg.",
        "contact-label": "Контакты:"
    },
    "ar": {
        "title": "WitNote",
        "tagline": "Smart Core, Simple Form",
        "slogan-sub": "Everything is a file",
        "description": "رفيق كتابة مدعوم بالذكاء الاصطناعي محليًا لأنظمة macOS و Windows و Linux. <br> جرب قوة الذكاء المحلي مع Ollama و WebLLM، في تصميم أصلي بسيط.",
        "btn-mac": "Mac App Store",
        "btn-win": "Windows",
        "btn-linux": "Linux",
        "section-title": "فلسفة التصميم",
        "card-local-title": "المحلية أولاً",
        "card-local-desc": "أفكارك تبقى على جهازك. قدرة 100٪ دون اتصال بالإنترنت مع نماذج الذكاء الاصطناعي المحلية.",
        "card-dual-title": "محرر ثنائي الجزء",
        "card-dual-desc": "تجربة كتابة ومعاينة سلسة. اسحب لتغيير الحجم، تمامًا كما تتوقع.",
        "card-engines-title": "ثلاثة محركات",
        "card-engines-desc": "حرية الاختيار بين WebLLM أو Ollama أو Cloud APIs.",
        "card-auto-title": "الإكمال التلقائي الذكي",
        "card-auto-desc": "دع الذكاء الاصطناعي يساعدك على إنهاء جملك. اقتراحات سلسة وواعية بالسياق.",
        "card-themes-title": "سمات جميلة",
        "card-themes-desc": "أوضاع الفاتح والداكن وزين الشاي. مصمم للتركيز والراحة.",
        "card-focus-title": "وضع التركيز",
        "card-focus-desc": "بيئة خالية من المشتتات تتكيف عند تغيير حجم النافذة.",
        "section-projects": "مشاريعنا",
        "footer-github": "GitHub",
        "footer-docs": "وثائق",
        "footer-license": "رخصة",
        "footer-privacy": "خصوصية",
        "copyright-text": "طورت بواسطة hooosberg.",
        "contact-label": "اتصال:"
    }
};

function updateContent(lang) {
    if (!translations[lang]) return; // Fallback to current or handle error

    // Check if RTL
    document.documentElement.setAttribute('lang', lang);
    if (lang === 'ar') {
        document.body.style.direction = 'rtl';
    } else {
        document.body.style.direction = 'ltr';
    }

    const t = translations[lang];

    // Update elements with data-i18n attributes
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (t[key]) {
            // Handle HTML content for description
            if (key === 'description') {
                element.innerHTML = t[key];
            } else {
                element.textContent = t[key];
            }
        }
    });

    // Update select value
    const langSelect = document.querySelector('.lang-switch');
    if (langSelect) {
        langSelect.value = lang;
    }
}

function detectAndSetLanguage() {
    const supportedLangs = Object.keys(translations);
    const browserLang = navigator.language || navigator.userLanguage;
    let targetLang = 'en'; // Default

    // Simple matching
    if (supportedLangs.includes(browserLang)) {
        targetLang = browserLang;
    } else {
        // Try matching first part (e.g., 'es-ES' -> 'es')
        const shortLang = browserLang.split('-')[0];
        if (supportedLangs.includes(shortLang)) {
            targetLang = shortLang;
        }
    }

    // Special case for Chinese
    if (browserLang.toLowerCase().includes('zh')) {
        if (browserLang.toLowerCase().includes('tw') || browserLang.toLowerCase().includes('hk')) {
            targetLang = 'zh-TW';
        } else {
            targetLang = 'zh-CN';
        }
    }

    updateContent(targetLang);
}

// Event Listener
document.addEventListener('DOMContentLoaded', () => {
    detectAndSetLanguage();

    const langSelect = document.querySelector('.lang-switch');
    if (langSelect) {
        langSelect.addEventListener('change', (e) => {
            updateContent(e.target.value);
        });
    }
});
