{
  "name": "witnote",
  "private": true,
  "version": "1.3.3",
  "description": "智简笔记本 - 大智若简的本地化 AI 写作伴侣 (WitNote)",
  "main": "dist-electron/main.js",
  "author": "hooosberg <zikedece@proton.me>",
  "license": "MIT",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build && electron-builder",
    "build:mas": "tsc && vite build && electron-builder --mac mas",
    "build:mac:dmg": "tsc && vite build && electron-builder --mac dmg",
    "build:mac:dmg-test": "tsc && vite build && SKIP_NOTARIZE=true electron-builder --mac dmg",
    "build:win": "DISABLE_WEBLLM=true tsc && DISABLE_WEBLLM=true vite build && electron-builder --win",
    "build:win:arm64": "DISABLE_WEBLLM=true tsc && DISABLE_WEBLLM=true vite build && electron-builder --win --arm64",
    "build:linux": "DISABLE_WEBLLM=true tsc && DISABLE_WEBLLM=true vite build && electron-builder --linux",
    "preview": "vite preview",
    "electron:dev": "concurrently \"vite\" \"wait-on http://localhost:5173 && electron .\""
  },
  "dependencies": {
    "@mlc-ai/web-llm": "^0.2.80",
    "@types/dompurify": "^3.0.5",
    "chokidar": "^5.0.0",
    "dompurify": "^3.3.1",
    "electron-store": "^11.0.2",
    "i18next": "^25.7.3",
    "i18next-browser-languagedetector": "^8.2.0",
    "katex": "^0.16.27",
    "lucide-react": "^0.561.0",
    "mammoth": "^1.11.0",
    "marked": "^17.0.1",
    "pdfjs-dist": "^5.4.530",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-i18next": "^16.5.0",
    "react-pdf": "^10.3.0",
    "react-resizable-panels": "^3.0.6",
    "textarea-caret": "^3.1.0"
  },
  "devDependencies": {
    "@electron/notarize": "^3.1.1",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@vitejs/plugin-react": "^4.2.1",
    "concurrently": "^8.2.2",
    "electron": "^28.0.0",
    "electron-builder": "^24.9.1",
    "jsdom": "^27.3.0",
    "sharp": "^0.34.5",
    "typescript": "^5.3.3",
    "vite": "^5.0.10",
    "vite-plugin-electron": "^0.28.0",
    "vite-plugin-electron-renderer": "^0.14.5",
    "vitest": "^4.0.16",
    "wait-on": "^7.2.0"
  },
  "build": {
    "appId": "com.zikedece.witnote",
    "productName": "WitNote",
    "directories": {
      "output": "release",
      "buildResources": "build"
    },
    "files": [
      "dist/**/*",
      "!dist/ollama",
      "!dist/models",
      "dist-electron/**/*",
      "package.json"
    ],
    "fileAssociations": [
      {
        "ext": "md",
        "name": "Markdown Document",
        "description": "Markdown text file",
        "role": "Viewer",
        "mimeType": "text/markdown"
      },
      {
        "ext": "markdown",
        "name": "Markdown Document",
        "description": "Markdown text file",
        "role": "Viewer"
      },
      {
        "ext": "txt",
        "name": "Text File",
        "description": "Plain text file",
        "role": "Viewer",
        "mimeType": "text/plain"
      },
      {
        "ext": "pdf",
        "name": "PDF Document",
        "description": "Portable Document Format",
        "role": "Viewer",
        "mimeType": "application/pdf"
      },
      {
        "ext": "docx",
        "name": "Word Document",
        "description": "Microsoft Word Document",
        "role": "Viewer",
        "mimeType": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
      },
      {
        "ext": "jpg",
        "name": "JPEG Image",
        "description": "JPEG image file",
        "role": "Viewer",
        "mimeType": "image/jpeg"
      },
      {
        "ext": "jpeg",
        "name": "JPEG Image",
        "description": "JPEG image file",
        "role": "Viewer",
        "mimeType": "image/jpeg"
      },
      {
        "ext": "png",
        "name": "PNG Image",
        "description": "PNG image file",
        "role": "Viewer",
        "mimeType": "image/png"
      },
      {
        "ext": "webp",
        "name": "WebP Image",
        "description": "WebP image file",
        "role": "Viewer",
        "mimeType": "image/webp"
      },
      {
        "ext": "gif",
        "name": "GIF Image",
        "description": "GIF image file",
        "role": "Viewer",
        "mimeType": "image/gif"
      }
    ],
    "mac": {
      "target": [
        {
          "target": "dir",
          "arch": [
            "arm64"
          ]
        },
        {
          "target": "dmg",
          "arch": [
            "arm64"
          ]
        }
      ],
      "minimumSystemVersion": "12.0",
      "category": "public.app-category.productivity",
      "icon": "build/dmg-icon/icon.icns",
      "darkModeSupport": true,
      "hardenedRuntime": true,
      "gatekeeperAssess": false,
      "entitlements": "build/entitlements.mac.plist",
      "entitlementsInherit": "build/entitlements.mac.plist",
      "signIgnore": [],
      "identity": "174FB3335078E0FA2BFDB366AA0C6E4359A7A33F",
      "notarize": false,
      "extraResources": [
        {
          "from": "build/zh_CN.lproj",
          "to": "zh_CN.lproj"
        },
        {
          "from": "build/en.lproj",
          "to": "en.lproj"
        }
      ]
    },
    "afterSign": "scripts/notarize.js",
    "mas": {
      "type": "distribution",
      "target": {
        "target": "mas",
        "arch": [
          "arm64"
        ]
      },
      "entitlements": "build/entitlements.mas.plist",
      "entitlementsInherit": "build/entitlements.mas.inherit.plist",
      "hardenedRuntime": false,
      "gatekeeperAssess": false,
      "provisioningProfile": "build/embedded.provisionprofile",
      "category": "public.app-category.productivity",
      "minimumSystemVersion": "12.0",
      "binaries": [],
      "extraResources": [
        {
          "from": "build/zh_CN.lproj",
          "to": "zh_CN.lproj"
        },
        {
          "from": "build/en.lproj",
          "to": "en.lproj"
        }
      ]
    },
    "pkg": {
      "identity": "79D525387C81F7E0CC16A21EDCEFB5CD320E5146"
    },
    "dmg": {
      "title": "${productName}",
      "artifactName": "${productName}-${version}.${ext}",
      "icon": "build/dmg-icon/icon.icns",
      "iconSize": 80,
      "background": "build/dmg-background/background.png",
      "window": {
        "width": 540,
        "height": 380
      },
      "contents": [
        {
          "x": 140,
          "y": 240
        },
        {
          "x": 400,
          "y": 240,
          "type": "link",
          "path": "/Applications"
        }
      ],
      "format": "UDZO"
    },
    "win": {
      "target": [
        {
          "target": "nsis",
          "arch": [
            "x64",
            "arm64"
          ]
        }
      ],
      "icon": "build/icon.ico",
      "artifactName": "${productName}-${version}-${arch}.${ext}"
    },
    "nsis": {
      "oneClick": false,
      "perMachine": true,
      "allowToChangeInstallationDirectory": true,
      "createDesktopShortcut": true,
      "createStartMenuShortcut": true,
      "shortcutName": "WitNote",
      "artifactName": "${productName}-${version}-setup-${arch}.${ext}"
    },
    "linux": {
      "target": [
        {
          "target": "AppImage",
          "arch": [
            "x64",
            "arm64"
          ]
        },
        {
          "target": "deb",
          "arch": [
            "x64",
            "arm64"
          ]
        }
      ],
      "icon": "build/icons",
      "category": "Office",
      "artifactName": "${productName}-${version}-${arch}.${ext}",
      "synopsis": "Smart Core, Simple Form - Local AI Writing Companion",
      "description": "WitNote is a privacy-focused local note-taking app with built-in AI assistant"
    },
    "appImage": {},
    "deb": {
      "depends": [
        "libnotify4",
        "libxtst6",
        "libnss3"
      ]
    },
    "rpm": {
      "artifactName": "${productName}-${version}.${ext}"
    },
    "asar": true
  }
}